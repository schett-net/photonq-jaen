{"version":3,"file":"2462-a47b62bc30c4dd3f00be.js","mappings":"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","sources":["webpack://my-gatsby-site/./node_modules/@snek-functions/origin/dist/helper/withAuthorizationHeader.js","webpack://my-gatsby-site/./node_modules/@snek-functions/origin/dist/helper/proxy.js"],"sourcesContent":["export function withAuthorizationHeader(req, headers) {\n  var value = req.headers.authorization;\n\n  if (value) {\n    headers.set(\"Authorization\", value);\n  }\n}","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === \"function\") {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpreadProps(target, source) {\n  source = source != null ? source : {};\n\n  if (Object.getOwnPropertyDescriptors) {\n    Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n  } else {\n    ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var f,\n      y,\n      t,\n      g,\n      _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  };\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport { withAuthorizationHeader } from \"./withAuthorizationHeader.js\";\nexport function proxyRequest(fetchParams, req) {\n  return _proxyRequest.apply(this, arguments);\n}\n\nfunction _proxyRequest() {\n  _proxyRequest = _asyncToGenerator(function (fetchParams, req) {\n    var _fetchParams, input, initStr, init, headers, fetchRes;\n\n    return __generator(this, function (_state) {\n      switch (_state.label) {\n        case 0:\n          _fetchParams = _slicedToArray(fetchParams, 2), input = _fetchParams[0], initStr = _fetchParams[1];\n          init = initStr ? JSON.parse(initStr) : undefined;\n          headers = new Headers(init === null || init === void 0 ? void 0 : init.headers);\n          withAuthorizationHeader(req, headers);\n\n          if (!isWhitelisted(input)) {\n            throw new Error(\"URL is not whitelisted\");\n          }\n\n          console.log(init, headers);\n          return [4, fetch(input, _objectSpreadProps(_objectSpread({}, init), {\n            headers: headers\n          }))];\n\n        case 1:\n          fetchRes = _state.sent();\n          return [2, fetchRes];\n      }\n    });\n  });\n  return _proxyRequest.apply(this, arguments);\n}\n\nfunction isWhitelisted(input) {\n  var FETCH_PROXY_WHITELIST = [\"https://api.github.com\", \"https://photonq.at\"];\n  var url = input.toString();\n\n  if (!FETCH_PROXY_WHITELIST.some(function (whitelist) {\n    return url.startsWith(whitelist);\n  })) {\n    return false;\n  }\n\n  return true;\n}"],"names":["withAuthorizationHeader","req","headers","value","authorization","set","_arrayLikeToArray","arr","len","length","i","arr2","Array","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","_defineProperty","obj","Object","defineProperty","enumerable","configurable","writable","_objectSpread","target","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","_objectSpreadProps","getOwnPropertyDescriptors","defineProperties","object","enumerableOnly","symbols","push","_slicedToArray","isArray","_arrayWithHoles","_i","Symbol","iterator","_s","_e","_arr","_n","_d","call","next","_iterableToArrayLimit","o","minLen","n","prototype","toString","slice","constructor","name","from","test","_unsupportedIterableToArray","TypeError","_nonIterableRest","__generator","thisArg","body","f","y","t","g","_","label","sent","trys","ops","verb","v","op","pop","e","step","proxyRequest","fetchParams","_proxyRequest","_fetchParams","input","initStr","init","_state","JSON","parse","Headers","isWhitelisted","Error","console","log","fetch","url","some","whitelist","startsWith"],"sourceRoot":""}