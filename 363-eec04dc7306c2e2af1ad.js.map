{"version":3,"file":"363-eec04dc7306c2e2af1ad.js","mappings":"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","sources":["webpack://my-gatsby-site/./node_modules/@snek-functions/origin/node_modules/@snek-functions/email/dist/internal/email.js","webpack://my-gatsby-site/./node_modules/@snek-functions/origin/node_modules/nodemailer/lib/addressparser/index.js","webpack://my-gatsby-site/./node_modules/@snek-functions/origin/node_modules/nodemailer/lib/base64/index.js","webpack://my-gatsby-site/./node_modules/@snek-functions/origin/node_modules/nodemailer/lib/dkim/index.js","webpack://my-gatsby-site/./node_modules/@snek-functions/origin/node_modules/nodemailer/lib/dkim/message-parser.js","webpack://my-gatsby-site/./node_modules/@snek-functions/origin/node_modules/nodemailer/lib/dkim/relaxed-body.js","webpack://my-gatsby-site/./node_modules/@snek-functions/origin/node_modules/nodemailer/lib/dkim/sign.js","webpack://my-gatsby-site/./node_modules/@snek-functions/origin/node_modules/nodemailer/lib/fetch/cookies.js","webpack://my-gatsby-site/./node_modules/@snek-functions/origin/node_modules/nodemailer/lib/fetch/index.js","webpack://my-gatsby-site/./node_modules/@snek-functions/origin/node_modules/nodemailer/lib/json-transport/index.js","webpack://my-gatsby-site/./node_modules/@snek-functions/origin/node_modules/nodemailer/lib/mail-composer/index.js","webpack://my-gatsby-site/./node_modules/@snek-functions/origin/node_modules/nodemailer/lib/mailer/index.js","webpack://my-gatsby-site/./node_modules/@snek-functions/origin/node_modules/nodemailer/lib/mailer/mail-message.js","webpack://my-gatsby-site/./node_modules/@snek-functions/origin/node_modules/nodemailer/lib/mime-funcs/index.js","webpack://my-gatsby-site/./node_modules/@snek-functions/origin/node_modules/nodemailer/lib/mime-funcs/mime-types.js","webpack://my-gatsby-site/./node_modules/@snek-functions/origin/node_modules/nodemailer/lib/mime-node/index.js","webpack://my-gatsby-site/./node_modules/@snek-functions/origin/node_modules/nodemailer/lib/mime-node/last-newline.js","webpack://my-gatsby-site/./node_modules/@snek-functions/origin/node_modules/nodemailer/lib/mime-node/le-unix.js","webpack://my-gatsby-site/./node_modules/@snek-functions/origin/node_modules/nodemailer/lib/mime-node/le-windows.js","webpack://my-gatsby-site/./node_modules/@snek-functions/origin/node_modules/nodemailer/lib/nodemailer.js","webpack://my-gatsby-site/./node_modules/@snek-functions/origin/node_modules/nodemailer/lib/qp/index.js","webpack://my-gatsby-site/./node_modules/@snek-functions/origin/node_modules/nodemailer/lib/sendmail-transport/index.js","webpack://my-gatsby-site/./node_modules/@snek-functions/origin/node_modules/nodemailer/lib/ses-transport/index.js","webpack://my-gatsby-site/./node_modules/@snek-functions/origin/node_modules/nodemailer/lib/shared/index.js","webpack://my-gatsby-site/./node_modules/@snek-functions/origin/node_modules/nodemailer/lib/smtp-connection/data-stream.js","webpack://my-gatsby-site/./node_modules/@snek-functions/origin/node_modules/nodemailer/lib/smtp-connection/http-proxy-client.js","webpack://my-gatsby-site/./node_modules/@snek-functions/origin/node_modules/nodemailer/lib/smtp-connection/index.js","webpack://my-gatsby-site/./node_modules/@snek-functions/origin/node_modules/nodemailer/lib/smtp-pool/index.js","webpack://my-gatsby-site/./node_modules/@snek-functions/origin/node_modules/nodemailer/lib/smtp-pool/pool-resource.js","webpack://my-gatsby-site/./node_modules/@snek-functions/origin/node_modules/nodemailer/lib/smtp-transport/index.js","webpack://my-gatsby-site/./node_modules/@snek-functions/origin/node_modules/nodemailer/lib/stream-transport/index.js","webpack://my-gatsby-site/./node_modules/@snek-functions/origin/node_modules/nodemailer/lib/well-known/index.js","webpack://my-gatsby-site/./node_modules/@snek-functions/origin/node_modules/nodemailer/lib/xoauth2/index.js","webpack://my-gatsby-site/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://my-gatsby-site/./node_modules/@babel/runtime/helpers/inherits.js","webpack://my-gatsby-site/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"],"sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var f,\n      y,\n      t,\n      g,\n      _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  };\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport nodemailer from \"nodemailer\";\n\nfunction createConnection(_) {\n  return _createConnection.apply(this, arguments);\n}\n\nfunction _createConnection() {\n  _createConnection = // CREATE CONNECTION\n  _asyncToGenerator(function (param) {\n    var host, port, secure, user, password;\n    return __generator(this, function (_state) {\n      host = param.host, port = param.port, secure = param.secure, user = param.user, password = param.password;\n      return [2, new Promise(function (resolve, reject) {\n        resolve(nodemailer.createTransport({\n          host: host,\n          port: port,\n          secure: secure,\n          auth: {\n            user: user,\n            pass: password\n          }\n        }));\n      })];\n    });\n  });\n  return _createConnection.apply(this, arguments);\n} // SEND MAIL\n\n\nexport function sendMail(options, smtp) {\n  return _sendMail.apply(this, arguments);\n}\n\nfunction _sendMail() {\n  _sendMail = _asyncToGenerator(function (options, smtp) {\n    var con, mail, _tmp;\n\n    return __generator(this, function (_state) {\n      switch (_state.label) {\n        case 0:\n          return [4, createConnection(smtp)];\n\n        case 1:\n          con = _state.sent();\n          _tmp = {};\n          return [4, con.sendMail((_tmp.from = options.from, _tmp.to = options.to, _tmp.cc = options.cc, _tmp.bcc = options.bcc, _tmp.subject = options.subject, _tmp.text = options.text, _tmp.html = options.html, _tmp))];\n\n        case 2:\n          mail = _state.sent();\n          return [2, mail.response];\n      }\n    });\n  });\n  return _sendMail.apply(this, arguments);\n}","'use strict';\n/**\n * Converts tokens for a single address into an address object\n *\n * @param {Array} tokens Tokens object\n * @return {Object} Address object\n */\n\nvar _classCallCheck = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/classCallCheck.js\");\n\nvar _createClass = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/createClass.js\");\n\nfunction _handleAddress(tokens) {\n  var token;\n  var isGroup = false;\n  var state = 'text';\n  var address;\n  var addresses = [];\n  var data = {\n    address: [],\n    comment: [],\n    group: [],\n    text: []\n  };\n  var i;\n  var len; // Filter out <addresses>, (comments) and regular text\n\n  for (i = 0, len = tokens.length; i < len; i++) {\n    token = tokens[i];\n\n    if (token.type === 'operator') {\n      switch (token.value) {\n        case '<':\n          state = 'address';\n          break;\n\n        case '(':\n          state = 'comment';\n          break;\n\n        case ':':\n          state = 'group';\n          isGroup = true;\n          break;\n\n        default:\n          state = 'text';\n      }\n    } else if (token.value) {\n      if (state === 'address') {\n        // handle use case where unquoted name includes a \"<\"\n        // Apple Mail truncates everything between an unexpected < and an address\n        // and so will we\n        token.value = token.value.replace(/^[^<]*<\\s*/, '');\n      }\n\n      data[state].push(token.value);\n    }\n  } // If there is no text but a comment, replace the two\n\n\n  if (!data.text.length && data.comment.length) {\n    data.text = data.comment;\n    data.comment = [];\n  }\n\n  if (isGroup) {\n    // http://tools.ietf.org/html/rfc2822#appendix-A.1.3\n    data.text = data.text.join(' ');\n    addresses.push({\n      name: data.text || address && address.name,\n      group: data.group.length ? addressparser(data.group.join(',')) : []\n    });\n  } else {\n    // If no address was found, try to detect one from regular text\n    if (!data.address.length && data.text.length) {\n      for (i = data.text.length - 1; i >= 0; i--) {\n        if (data.text[i].match(/^[^@\\s]+@[^@\\s]+$/)) {\n          data.address = data.text.splice(i, 1);\n          break;\n        }\n      }\n\n      var _regexHandler = function _regexHandler(address) {\n        if (!data.address.length) {\n          data.address = [address.trim()];\n          return ' ';\n        } else {\n          return address;\n        }\n      }; // still no address\n\n\n      if (!data.address.length) {\n        for (i = data.text.length - 1; i >= 0; i--) {\n          // fixed the regex to parse email address correctly when email address has more than one @\n          data.text[i] = data.text[i].replace(/\\s*\\b[^@\\s]+@[^\\s]+\\b\\s*/, _regexHandler).trim();\n\n          if (data.address.length) {\n            break;\n          }\n        }\n      }\n    } // If there's still is no text but a comment exixts, replace the two\n\n\n    if (!data.text.length && data.comment.length) {\n      data.text = data.comment;\n      data.comment = [];\n    } // Keep only the first address occurence, push others to regular text\n\n\n    if (data.address.length > 1) {\n      data.text = data.text.concat(data.address.splice(1));\n    } // Join values with spaces\n\n\n    data.text = data.text.join(' ');\n    data.address = data.address.join(' ');\n\n    if (!data.address && isGroup) {\n      return [];\n    } else {\n      address = {\n        address: data.address || data.text || '',\n        name: data.text || data.address || ''\n      };\n\n      if (address.address === address.name) {\n        if ((address.address || '').match(/@/)) {\n          address.name = '';\n        } else {\n          address.address = '';\n        }\n      }\n\n      addresses.push(address);\n    }\n  }\n\n  return addresses;\n}\n/**\n * Creates a Tokenizer object for tokenizing address field strings\n *\n * @constructor\n * @param {String} str Address field string\n */\n\n\nvar Tokenizer = /*#__PURE__*/function () {\n  function Tokenizer(str) {\n    _classCallCheck(this, Tokenizer);\n\n    this.str = (str || '').toString();\n    this.operatorCurrent = '';\n    this.operatorExpecting = '';\n    this.node = null;\n    this.escaped = false;\n    this.list = [];\n    /**\n     * Operator tokens and which tokens are expected to end the sequence\n     */\n\n    this.operators = {\n      '\"': '\"',\n      '(': ')',\n      '<': '>',\n      ',': '',\n      ':': ';',\n      // Semicolons are not a legal delimiter per the RFC2822 grammar other\n      // than for terminating a group, but they are also not valid for any\n      // other use in this context.  Given that some mail clients have\n      // historically allowed the semicolon as a delimiter equivalent to the\n      // comma in their UI, it makes sense to treat them the same as a comma\n      // when used outside of a group.\n      ';': ''\n    };\n  }\n  /**\n   * Tokenizes the original input string\n   *\n   * @return {Array} An array of operator|text tokens\n   */\n\n\n  _createClass(Tokenizer, [{\n    key: \"tokenize\",\n    value: function tokenize() {\n      var chr,\n          list = [];\n\n      for (var i = 0, len = this.str.length; i < len; i++) {\n        chr = this.str.charAt(i);\n        this.checkChar(chr);\n      }\n\n      this.list.forEach(function (node) {\n        node.value = (node.value || '').toString().trim();\n\n        if (node.value) {\n          list.push(node);\n        }\n      });\n      return list;\n    }\n    /**\n     * Checks if a character is an operator or text and acts accordingly\n     *\n     * @param {String} chr Character from the address field\n     */\n\n  }, {\n    key: \"checkChar\",\n    value: function checkChar(chr) {\n      if (this.escaped) {// ignore next condition blocks\n      } else if (chr === this.operatorExpecting) {\n        this.node = {\n          type: 'operator',\n          value: chr\n        };\n        this.list.push(this.node);\n        this.node = null;\n        this.operatorExpecting = '';\n        this.escaped = false;\n        return;\n      } else if (!this.operatorExpecting && chr in this.operators) {\n        this.node = {\n          type: 'operator',\n          value: chr\n        };\n        this.list.push(this.node);\n        this.node = null;\n        this.operatorExpecting = this.operators[chr];\n        this.escaped = false;\n        return;\n      } else if (['\"', \"'\"].includes(this.operatorExpecting) && chr === '\\\\') {\n        this.escaped = true;\n        return;\n      }\n\n      if (!this.node) {\n        this.node = {\n          type: 'text',\n          value: ''\n        };\n        this.list.push(this.node);\n      }\n\n      if (chr === '\\n') {\n        // Convert newlines to spaces. Carriage return is ignored as \\r and \\n usually\n        // go together anyway and there already is a WS for \\n. Lone \\r means something is fishy.\n        chr = ' ';\n      }\n\n      if (chr.charCodeAt(0) >= 0x21 || [' ', '\\t'].includes(chr)) {\n        // skip command bytes\n        this.node.value += chr;\n      }\n\n      this.escaped = false;\n    }\n  }]);\n\n  return Tokenizer;\n}();\n/**\n * Parses structured e-mail addresses from an address field\n *\n * Example:\n *\n *    'Name <address@domain>'\n *\n * will be converted to\n *\n *     [{name: 'Name', address: 'address@domain'}]\n *\n * @param {String} str Address field\n * @return {Array} An array of address objects\n */\n\n\nfunction addressparser(str, options) {\n  options = options || {};\n  var tokenizer = new Tokenizer(str);\n  var tokens = tokenizer.tokenize();\n  var addresses = [];\n  var address = [];\n  var parsedAddresses = [];\n  tokens.forEach(function (token) {\n    if (token.type === 'operator' && (token.value === ',' || token.value === ';')) {\n      if (address.length) {\n        addresses.push(address);\n      }\n\n      address = [];\n    } else {\n      address.push(token);\n    }\n  });\n\n  if (address.length) {\n    addresses.push(address);\n  }\n\n  addresses.forEach(function (address) {\n    address = _handleAddress(address);\n\n    if (address.length) {\n      parsedAddresses = parsedAddresses.concat(address);\n    }\n  });\n\n  if (options.flatten) {\n    var _addresses = [];\n\n    var walkAddressList = function walkAddressList(list) {\n      list.forEach(function (address) {\n        if (address.group) {\n          return walkAddressList(address.group);\n        } else {\n          _addresses.push(address);\n        }\n      });\n    };\n\n    walkAddressList(parsedAddresses);\n    return _addresses;\n  }\n\n  return parsedAddresses;\n} // expose to the world\n\n\nmodule.exports = addressparser;","'use strict';\n\nvar _classCallCheck = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/classCallCheck.js\");\n\nvar _createClass = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/createClass.js\");\n\nvar _inherits = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/inherits.js\");\n\nvar _possibleConstructorReturn = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n\nvar _getPrototypeOf = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Transform = require('stream').Transform;\n/**\n * Encodes a Buffer into a base64 encoded string\n *\n * @param {Buffer} buffer Buffer to convert\n * @returns {String} base64 encoded string\n */\n\n\nfunction encode(buffer) {\n  if (typeof buffer === 'string') {\n    buffer = Buffer.from(buffer, 'utf-8');\n  }\n\n  return buffer.toString('base64');\n}\n/**\n * Adds soft line breaks to a base64 string\n *\n * @param {String} str base64 encoded string that might need line wrapping\n * @param {Number} [lineLength=76] Maximum allowed length for a line\n * @returns {String} Soft-wrapped base64 encoded string\n */\n\n\nfunction wrap(str, lineLength) {\n  str = (str || '').toString();\n  lineLength = lineLength || 76;\n\n  if (str.length <= lineLength) {\n    return str;\n  }\n\n  var result = [];\n  var pos = 0;\n  var chunkLength = lineLength * 1024;\n\n  while (pos < str.length) {\n    var wrappedLines = str.substr(pos, chunkLength).replace(new RegExp('.{' + lineLength + '}', 'g'), '$&\\r\\n').trim();\n    result.push(wrappedLines);\n    pos += chunkLength;\n  }\n\n  return result.join('\\r\\n').trim();\n}\n/**\n * Creates a transform stream for encoding data to base64 encoding\n *\n * @constructor\n * @param {Object} options Stream options\n * @param {Number} [options.lineLength=76] Maximum length for lines, set to false to disable wrapping\n */\n\n\nvar Encoder = /*#__PURE__*/function (_Transform) {\n  _inherits(Encoder, _Transform);\n\n  var _super = _createSuper(Encoder);\n\n  function Encoder(options) {\n    var _this;\n\n    _classCallCheck(this, Encoder);\n\n    _this = _super.call(this); // init Transform\n\n    _this.options = options || {};\n\n    if (_this.options.lineLength !== false) {\n      _this.options.lineLength = _this.options.lineLength || 76;\n    }\n\n    _this._curLine = '';\n    _this._remainingBytes = false;\n    _this.inputBytes = 0;\n    _this.outputBytes = 0;\n    return _this;\n  }\n\n  _createClass(Encoder, [{\n    key: \"_transform\",\n    value: function _transform(chunk, encoding, done) {\n      if (encoding !== 'buffer') {\n        chunk = Buffer.from(chunk, encoding);\n      }\n\n      if (!chunk || !chunk.length) {\n        return setImmediate(done);\n      }\n\n      this.inputBytes += chunk.length;\n\n      if (this._remainingBytes && this._remainingBytes.length) {\n        chunk = Buffer.concat([this._remainingBytes, chunk], this._remainingBytes.length + chunk.length);\n        this._remainingBytes = false;\n      }\n\n      if (chunk.length % 3) {\n        this._remainingBytes = chunk.slice(chunk.length - chunk.length % 3);\n        chunk = chunk.slice(0, chunk.length - chunk.length % 3);\n      } else {\n        this._remainingBytes = false;\n      }\n\n      var b64 = this._curLine + encode(chunk);\n\n      if (this.options.lineLength) {\n        b64 = wrap(b64, this.options.lineLength); // remove last line as it is still most probably incomplete\n\n        var lastLF = b64.lastIndexOf('\\n');\n\n        if (lastLF < 0) {\n          this._curLine = b64;\n          b64 = '';\n        } else if (lastLF === b64.length - 1) {\n          this._curLine = '';\n        } else {\n          this._curLine = b64.substr(lastLF + 1);\n          b64 = b64.substr(0, lastLF + 1);\n        }\n      }\n\n      if (b64) {\n        this.outputBytes += b64.length;\n        this.push(Buffer.from(b64, 'ascii'));\n      }\n\n      setImmediate(done);\n    }\n  }, {\n    key: \"_flush\",\n    value: function _flush(done) {\n      if (this._remainingBytes && this._remainingBytes.length) {\n        this._curLine += encode(this._remainingBytes);\n      }\n\n      if (this._curLine) {\n        this._curLine = wrap(this._curLine, this.options.lineLength);\n        this.outputBytes += this._curLine.length;\n        this.push(this._curLine, 'ascii');\n        this._curLine = '';\n      }\n\n      done();\n    }\n  }]);\n\n  return Encoder;\n}(Transform); // expose to the world\n\n\nmodule.exports = {\n  encode: encode,\n  wrap: wrap,\n  Encoder: Encoder\n};","'use strict'; // FIXME:\n// replace this Transform mess with a method that pipes input argument to output argument\n\nvar _classCallCheck = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/classCallCheck.js\");\n\nvar _createClass = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/createClass.js\");\n\nvar MessageParser = require('./message-parser');\n\nvar RelaxedBody = require('./relaxed-body');\n\nvar sign = require('./sign');\n\nvar PassThrough = require('stream').PassThrough;\n\nvar fs = require('fs');\n\nvar path = require('path');\n\nvar crypto = require('crypto');\n\nvar DKIM_ALGO = 'sha256';\nvar MAX_MESSAGE_SIZE = 128 * 1024; // buffer messages larger than this to disk\n\n/*\n// Usage:\n\nlet dkim = new DKIM({\n    domainName: 'example.com',\n    keySelector: 'key-selector',\n    privateKey,\n    cacheDir: '/tmp'\n});\ndkim.sign(input).pipe(process.stdout);\n\n// Where inputStream is a rfc822 message (either a stream, string or Buffer)\n// and outputStream is a DKIM signed rfc822 message\n*/\n\nvar DKIMSigner = /*#__PURE__*/function () {\n  function DKIMSigner(options, keys, input, output) {\n    var _this = this;\n\n    _classCallCheck(this, DKIMSigner);\n\n    this.options = options || {};\n    this.keys = keys;\n    this.cacheTreshold = Number(this.options.cacheTreshold) || MAX_MESSAGE_SIZE;\n    this.hashAlgo = this.options.hashAlgo || DKIM_ALGO;\n    this.cacheDir = this.options.cacheDir || false;\n    this.chunks = [];\n    this.chunklen = 0;\n    this.readPos = 0;\n    this.cachePath = this.cacheDir ? path.join(this.cacheDir, 'message.' + Date.now() + '-' + crypto.randomBytes(14).toString('hex')) : false;\n    this.cache = false;\n    this.headers = false;\n    this.bodyHash = false;\n    this.parser = false;\n    this.relaxedBody = false;\n    this.input = input;\n    this.output = output;\n    this.output.usingCache = false;\n    this.hasErrored = false;\n    this.input.on('error', function (err) {\n      _this.hasErrored = true;\n\n      _this.cleanup();\n\n      output.emit('error', err);\n    });\n  }\n\n  _createClass(DKIMSigner, [{\n    key: \"cleanup\",\n    value: function cleanup() {\n      if (!this.cache || !this.cachePath) {\n        return;\n      }\n\n      fs.unlink(this.cachePath, function () {\n        return false;\n      });\n    }\n  }, {\n    key: \"createReadCache\",\n    value: function createReadCache() {\n      var _this2 = this;\n\n      // pipe remainings to cache file\n      this.cache = fs.createReadStream(this.cachePath);\n      this.cache.once('error', function (err) {\n        _this2.cleanup();\n\n        _this2.output.emit('error', err);\n      });\n      this.cache.once('close', function () {\n        _this2.cleanup();\n      });\n      this.cache.pipe(this.output);\n    }\n  }, {\n    key: \"sendNextChunk\",\n    value: function sendNextChunk() {\n      var _this3 = this;\n\n      if (this.hasErrored) {\n        return;\n      }\n\n      if (this.readPos >= this.chunks.length) {\n        if (!this.cache) {\n          return this.output.end();\n        }\n\n        return this.createReadCache();\n      }\n\n      var chunk = this.chunks[this.readPos++];\n\n      if (this.output.write(chunk) === false) {\n        return this.output.once('drain', function () {\n          _this3.sendNextChunk();\n        });\n      }\n\n      setImmediate(function () {\n        return _this3.sendNextChunk();\n      });\n    }\n  }, {\n    key: \"sendSignedOutput\",\n    value: function sendSignedOutput() {\n      var _this4 = this;\n\n      var keyPos = 0;\n\n      var signNextKey = function signNextKey() {\n        if (keyPos >= _this4.keys.length) {\n          _this4.output.write(_this4.parser.rawHeaders);\n\n          return setImmediate(function () {\n            return _this4.sendNextChunk();\n          });\n        }\n\n        var key = _this4.keys[keyPos++];\n        var dkimField = sign(_this4.headers, _this4.hashAlgo, _this4.bodyHash, {\n          domainName: key.domainName,\n          keySelector: key.keySelector,\n          privateKey: key.privateKey,\n          headerFieldNames: _this4.options.headerFieldNames,\n          skipFields: _this4.options.skipFields\n        });\n\n        if (dkimField) {\n          _this4.output.write(Buffer.from(dkimField + '\\r\\n'));\n        }\n\n        return setImmediate(signNextKey);\n      };\n\n      if (this.bodyHash && this.headers) {\n        return signNextKey();\n      }\n\n      this.output.write(this.parser.rawHeaders);\n      this.sendNextChunk();\n    }\n  }, {\n    key: \"createWriteCache\",\n    value: function createWriteCache() {\n      var _this5 = this;\n\n      this.output.usingCache = true; // pipe remainings to cache file\n\n      this.cache = fs.createWriteStream(this.cachePath);\n      this.cache.once('error', function (err) {\n        _this5.cleanup(); // drain input\n\n\n        _this5.relaxedBody.unpipe(_this5.cache);\n\n        _this5.relaxedBody.on('readable', function () {\n          while (_this5.relaxedBody.read() !== null) {// do nothing\n          }\n        });\n\n        _this5.hasErrored = true; // emit error\n\n        _this5.output.emit('error', err);\n      });\n      this.cache.once('close', function () {\n        _this5.sendSignedOutput();\n      });\n      this.relaxedBody.removeAllListeners('readable');\n      this.relaxedBody.pipe(this.cache);\n    }\n  }, {\n    key: \"signStream\",\n    value: function signStream() {\n      var _this6 = this;\n\n      this.parser = new MessageParser();\n      this.relaxedBody = new RelaxedBody({\n        hashAlgo: this.hashAlgo\n      });\n      this.parser.on('headers', function (value) {\n        _this6.headers = value;\n      });\n      this.relaxedBody.on('hash', function (value) {\n        _this6.bodyHash = value;\n      });\n      this.relaxedBody.on('readable', function () {\n        var chunk;\n\n        if (_this6.cache) {\n          return;\n        }\n\n        while ((chunk = _this6.relaxedBody.read()) !== null) {\n          _this6.chunks.push(chunk);\n\n          _this6.chunklen += chunk.length;\n\n          if (_this6.chunklen >= _this6.cacheTreshold && _this6.cachePath) {\n            return _this6.createWriteCache();\n          }\n        }\n      });\n      this.relaxedBody.on('end', function () {\n        if (_this6.cache) {\n          return;\n        }\n\n        _this6.sendSignedOutput();\n      });\n      this.parser.pipe(this.relaxedBody);\n      setImmediate(function () {\n        return _this6.input.pipe(_this6.parser);\n      });\n    }\n  }]);\n\n  return DKIMSigner;\n}();\n\nvar DKIM = /*#__PURE__*/function () {\n  function DKIM(options) {\n    _classCallCheck(this, DKIM);\n\n    this.options = options || {};\n    this.keys = [].concat(this.options.keys || {\n      domainName: options.domainName,\n      keySelector: options.keySelector,\n      privateKey: options.privateKey\n    });\n  }\n\n  _createClass(DKIM, [{\n    key: \"sign\",\n    value: function sign(input, extraOptions) {\n      var _this7 = this;\n\n      var output = new PassThrough();\n      var inputStream = input;\n      var writeValue = false;\n\n      if (Buffer.isBuffer(input)) {\n        writeValue = input;\n        inputStream = new PassThrough();\n      } else if (typeof input === 'string') {\n        writeValue = Buffer.from(input);\n        inputStream = new PassThrough();\n      }\n\n      var options = this.options;\n\n      if (extraOptions && Object.keys(extraOptions).length) {\n        options = {};\n        Object.keys(this.options || {}).forEach(function (key) {\n          options[key] = _this7.options[key];\n        });\n        Object.keys(extraOptions || {}).forEach(function (key) {\n          if (!(key in options)) {\n            options[key] = extraOptions[key];\n          }\n        });\n      }\n\n      var signer = new DKIMSigner(options, this.keys, inputStream, output);\n      setImmediate(function () {\n        signer.signStream();\n\n        if (writeValue) {\n          setImmediate(function () {\n            inputStream.end(writeValue);\n          });\n        }\n      });\n      return output;\n    }\n  }]);\n\n  return DKIM;\n}();\n\nmodule.exports = DKIM;","'use strict';\n\nvar _classCallCheck = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/classCallCheck.js\");\n\nvar _createClass = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/createClass.js\");\n\nvar _inherits = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/inherits.js\");\n\nvar _possibleConstructorReturn = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n\nvar _getPrototypeOf = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Transform = require('stream').Transform;\n/**\n * MessageParser instance is a transform stream that separates message headers\n * from the rest of the body. Headers are emitted with the 'headers' event. Message\n * body is passed on as the resulting stream.\n */\n\n\nvar MessageParser = /*#__PURE__*/function (_Transform) {\n  _inherits(MessageParser, _Transform);\n\n  var _super = _createSuper(MessageParser);\n\n  function MessageParser(options) {\n    var _this;\n\n    _classCallCheck(this, MessageParser);\n\n    _this = _super.call(this, options);\n    _this.lastBytes = Buffer.alloc(4);\n    _this.headersParsed = false;\n    _this.headerBytes = 0;\n    _this.headerChunks = [];\n    _this.rawHeaders = false;\n    _this.bodySize = 0;\n    return _this;\n  }\n  /**\n   * Keeps count of the last 4 bytes in order to detect line breaks on chunk boundaries\n   *\n   * @param {Buffer} data Next data chunk from the stream\n   */\n\n\n  _createClass(MessageParser, [{\n    key: \"updateLastBytes\",\n    value: function updateLastBytes(data) {\n      var lblen = this.lastBytes.length;\n      var nblen = Math.min(data.length, lblen); // shift existing bytes\n\n      for (var i = 0, len = lblen - nblen; i < len; i++) {\n        this.lastBytes[i] = this.lastBytes[i + nblen];\n      } // add new bytes\n\n\n      for (var _i = 1; _i <= nblen; _i++) {\n        this.lastBytes[lblen - _i] = data[data.length - _i];\n      }\n    }\n    /**\n     * Finds and removes message headers from the remaining body. We want to keep\n     * headers separated until final delivery to be able to modify these\n     *\n     * @param {Buffer} data Next chunk of data\n     * @return {Boolean} Returns true if headers are already found or false otherwise\n     */\n\n  }, {\n    key: \"checkHeaders\",\n    value: function checkHeaders(data) {\n      var _this2 = this;\n\n      if (this.headersParsed) {\n        return true;\n      }\n\n      var lblen = this.lastBytes.length;\n      var headerPos = 0;\n      this.curLinePos = 0;\n\n      for (var i = 0, len = this.lastBytes.length + data.length; i < len; i++) {\n        var chr = void 0;\n\n        if (i < lblen) {\n          chr = this.lastBytes[i];\n        } else {\n          chr = data[i - lblen];\n        }\n\n        if (chr === 0x0a && i) {\n          var pr1 = i - 1 < lblen ? this.lastBytes[i - 1] : data[i - 1 - lblen];\n          var pr2 = i > 1 ? i - 2 < lblen ? this.lastBytes[i - 2] : data[i - 2 - lblen] : false;\n\n          if (pr1 === 0x0a) {\n            this.headersParsed = true;\n            headerPos = i - lblen + 1;\n            this.headerBytes += headerPos;\n            break;\n          } else if (pr1 === 0x0d && pr2 === 0x0a) {\n            this.headersParsed = true;\n            headerPos = i - lblen + 1;\n            this.headerBytes += headerPos;\n            break;\n          }\n        }\n      }\n\n      if (this.headersParsed) {\n        this.headerChunks.push(data.slice(0, headerPos));\n        this.rawHeaders = Buffer.concat(this.headerChunks, this.headerBytes);\n        this.headerChunks = null;\n        this.emit('headers', this.parseHeaders());\n\n        if (data.length - 1 > headerPos) {\n          var chunk = data.slice(headerPos);\n          this.bodySize += chunk.length; // this would be the first chunk of data sent downstream\n\n          setImmediate(function () {\n            return _this2.push(chunk);\n          });\n        }\n\n        return false;\n      } else {\n        this.headerBytes += data.length;\n        this.headerChunks.push(data);\n      } // store last 4 bytes to catch header break\n\n\n      this.updateLastBytes(data);\n      return false;\n    }\n  }, {\n    key: \"_transform\",\n    value: function _transform(chunk, encoding, callback) {\n      if (!chunk || !chunk.length) {\n        return callback();\n      }\n\n      if (typeof chunk === 'string') {\n        chunk = Buffer.from(chunk, encoding);\n      }\n\n      var headersFound;\n\n      try {\n        headersFound = this.checkHeaders(chunk);\n      } catch (E) {\n        return callback(E);\n      }\n\n      if (headersFound) {\n        this.bodySize += chunk.length;\n        this.push(chunk);\n      }\n\n      setImmediate(callback);\n    }\n  }, {\n    key: \"_flush\",\n    value: function _flush(callback) {\n      if (this.headerChunks) {\n        var chunk = Buffer.concat(this.headerChunks, this.headerBytes);\n        this.bodySize += chunk.length;\n        this.push(chunk);\n        this.headerChunks = null;\n      }\n\n      callback();\n    }\n  }, {\n    key: \"parseHeaders\",\n    value: function parseHeaders() {\n      var lines = (this.rawHeaders || '').toString().split(/\\r?\\n/);\n\n      for (var i = lines.length - 1; i > 0; i--) {\n        if (/^\\s/.test(lines[i])) {\n          lines[i - 1] += '\\n' + lines[i];\n          lines.splice(i, 1);\n        }\n      }\n\n      return lines.filter(function (line) {\n        return line.trim();\n      }).map(function (line) {\n        return {\n          key: line.substr(0, line.indexOf(':')).trim().toLowerCase(),\n          line: line\n        };\n      });\n    }\n  }]);\n\n  return MessageParser;\n}(Transform);\n\nmodule.exports = MessageParser;","'use strict'; // streams through a message body and calculates relaxed body hash\n\nvar _classCallCheck = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/classCallCheck.js\");\n\nvar _createClass = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/createClass.js\");\n\nvar _inherits = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/inherits.js\");\n\nvar _possibleConstructorReturn = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n\nvar _getPrototypeOf = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Transform = require('stream').Transform;\n\nvar crypto = require('crypto');\n\nvar RelaxedBody = /*#__PURE__*/function (_Transform) {\n  _inherits(RelaxedBody, _Transform);\n\n  var _super = _createSuper(RelaxedBody);\n\n  function RelaxedBody(options) {\n    var _this;\n\n    _classCallCheck(this, RelaxedBody);\n\n    _this = _super.call(this);\n    options = options || {};\n    _this.chunkBuffer = [];\n    _this.chunkBufferLen = 0;\n    _this.bodyHash = crypto.createHash(options.hashAlgo || 'sha1');\n    _this.remainder = '';\n    _this.byteLength = 0;\n    _this.debug = options.debug;\n    _this._debugBody = options.debug ? [] : false;\n    return _this;\n  }\n\n  _createClass(RelaxedBody, [{\n    key: \"updateHash\",\n    value: function updateHash(chunk) {\n      var bodyStr; // find next remainder\n\n      var nextRemainder = ''; // This crux finds and removes the spaces from the last line and the newline characters after the last non-empty line\n      // If we get another chunk that does not match this description then we can restore the previously processed data\n\n      var state = 'file';\n\n      for (var i = chunk.length - 1; i >= 0; i--) {\n        var c = chunk[i];\n\n        if (state === 'file' && (c === 0x0a || c === 0x0d)) {// do nothing, found \\n or \\r at the end of chunk, stil end of file\n        } else if (state === 'file' && (c === 0x09 || c === 0x20)) {\n          // switch to line ending mode, this is the last non-empty line\n          state = 'line';\n        } else if (state === 'line' && (c === 0x09 || c === 0x20)) {// do nothing, found ' ' or \\t at the end of line, keep processing the last non-empty line\n        } else if (state === 'file' || state === 'line') {\n          // non line/file ending character found, switch to body mode\n          state = 'body';\n\n          if (i === chunk.length - 1) {\n            // final char is not part of line end or file end, so do nothing\n            break;\n          }\n        }\n\n        if (i === 0) {\n          // reached to the beginning of the chunk, check if it is still about the ending\n          // and if the remainder also matches\n          if (state === 'file' && (!this.remainder || /[\\r\\n]$/.test(this.remainder)) || state === 'line' && (!this.remainder || /[ \\t]$/.test(this.remainder))) {\n            // keep everything\n            this.remainder += chunk.toString('binary');\n            return;\n          } else if (state === 'line' || state === 'file') {\n            // process existing remainder as normal line but store the current chunk\n            nextRemainder = chunk.toString('binary');\n            chunk = false;\n            break;\n          }\n        }\n\n        if (state !== 'body') {\n          continue;\n        } // reached first non ending byte\n\n\n        nextRemainder = chunk.slice(i + 1).toString('binary');\n        chunk = chunk.slice(0, i + 1);\n        break;\n      }\n\n      var needsFixing = !!this.remainder;\n\n      if (chunk && !needsFixing) {\n        // check if we even need to change anything\n        for (var _i = 0, len = chunk.length; _i < len; _i++) {\n          if (_i && chunk[_i] === 0x0a && chunk[_i - 1] !== 0x0d) {\n            // missing \\r before \\n\n            needsFixing = true;\n            break;\n          } else if (_i && chunk[_i] === 0x0d && chunk[_i - 1] === 0x20) {\n            // trailing WSP found\n            needsFixing = true;\n            break;\n          } else if (_i && chunk[_i] === 0x20 && chunk[_i - 1] === 0x20) {\n            // multiple spaces found, needs to be replaced with just one\n            needsFixing = true;\n            break;\n          } else if (chunk[_i] === 0x09) {\n            // TAB found, needs to be replaced with a space\n            needsFixing = true;\n            break;\n          }\n        }\n      }\n\n      if (needsFixing) {\n        bodyStr = this.remainder + (chunk ? chunk.toString('binary') : '');\n        this.remainder = nextRemainder;\n        bodyStr = bodyStr.replace(/\\r?\\n/g, '\\n') // use js line endings\n        .replace(/[ \\t]*$/gm, '') // remove line endings, rtrim\n        .replace(/[ \\t]+/gm, ' ') // single spaces\n        .replace(/\\n/g, '\\r\\n'); // restore rfc822 line endings\n\n        chunk = Buffer.from(bodyStr, 'binary');\n      } else if (nextRemainder) {\n        this.remainder = nextRemainder;\n      }\n\n      if (this.debug) {\n        this._debugBody.push(chunk);\n      }\n\n      this.bodyHash.update(chunk);\n    }\n  }, {\n    key: \"_transform\",\n    value: function _transform(chunk, encoding, callback) {\n      if (!chunk || !chunk.length) {\n        return callback();\n      }\n\n      if (typeof chunk === 'string') {\n        chunk = Buffer.from(chunk, encoding);\n      }\n\n      this.updateHash(chunk);\n      this.byteLength += chunk.length;\n      this.push(chunk);\n      callback();\n    }\n  }, {\n    key: \"_flush\",\n    value: function _flush(callback) {\n      // generate final hash and emit it\n      if (/[\\r\\n]$/.test(this.remainder) && this.byteLength > 2) {\n        // add terminating line end\n        this.bodyHash.update(Buffer.from('\\r\\n'));\n      }\n\n      if (!this.byteLength) {\n        // emit empty line buffer to keep the stream flowing\n        this.push(Buffer.from('\\r\\n')); // this.bodyHash.update(Buffer.from('\\r\\n'));\n      }\n\n      this.emit('hash', this.bodyHash.digest('base64'), this.debug ? Buffer.concat(this._debugBody) : false);\n      callback();\n    }\n  }]);\n\n  return RelaxedBody;\n}(Transform);\n\nmodule.exports = RelaxedBody;","'use strict';\n\nvar punycode = require('punycode');\n\nvar mimeFuncs = require('../mime-funcs');\n\nvar crypto = require('crypto');\n/**\n * Returns DKIM signature header line\n *\n * @param {Object} headers Parsed headers object from MessageParser\n * @param {String} bodyHash Base64 encoded hash of the message\n * @param {Object} options DKIM options\n * @param {String} options.domainName Domain name to be signed for\n * @param {String} options.keySelector DKIM key selector to use\n * @param {String} options.privateKey DKIM private key to use\n * @return {String} Complete header line\n */\n\n\nmodule.exports = function (headers, hashAlgo, bodyHash, options) {\n  options = options || {}; // all listed fields from RFC4871 #5.5\n\n  var defaultFieldNames = 'From:Sender:Reply-To:Subject:Date:Message-ID:To:' + 'Cc:MIME-Version:Content-Type:Content-Transfer-Encoding:Content-ID:' + 'Content-Description:Resent-Date:Resent-From:Resent-Sender:' + 'Resent-To:Resent-Cc:Resent-Message-ID:In-Reply-To:References:' + 'List-Id:List-Help:List-Unsubscribe:List-Subscribe:List-Post:' + 'List-Owner:List-Archive';\n  var fieldNames = options.headerFieldNames || defaultFieldNames;\n  var canonicalizedHeaderData = relaxedHeaders(headers, fieldNames, options.skipFields);\n  var dkimHeader = generateDKIMHeader(options.domainName, options.keySelector, canonicalizedHeaderData.fieldNames, hashAlgo, bodyHash);\n  var signer, signature;\n  canonicalizedHeaderData.headers += 'dkim-signature:' + relaxedHeaderLine(dkimHeader);\n  signer = crypto.createSign(('rsa-' + hashAlgo).toUpperCase());\n  signer.update(canonicalizedHeaderData.headers);\n\n  try {\n    signature = signer.sign(options.privateKey, 'base64');\n  } catch (E) {\n    return false;\n  }\n\n  return dkimHeader + signature.replace(/(^.{73}|.{75}(?!\\r?\\n|\\r))/g, '$&\\r\\n ').trim();\n};\n\nmodule.exports.relaxedHeaders = relaxedHeaders;\n\nfunction generateDKIMHeader(domainName, keySelector, fieldNames, hashAlgo, bodyHash) {\n  var dkim = ['v=1', 'a=rsa-' + hashAlgo, 'c=relaxed/relaxed', 'd=' + punycode.toASCII(domainName), 'q=dns/txt', 's=' + keySelector, 'bh=' + bodyHash, 'h=' + fieldNames].join('; ');\n  return mimeFuncs.foldLines('DKIM-Signature: ' + dkim, 76) + ';\\r\\n b=';\n}\n\nfunction relaxedHeaders(headers, fieldNames, skipFields) {\n  var includedFields = new Set();\n  var skip = new Set();\n  var headerFields = new Map();\n  (skipFields || '').toLowerCase().split(':').forEach(function (field) {\n    skip.add(field.trim());\n  });\n  (fieldNames || '').toLowerCase().split(':').filter(function (field) {\n    return !skip.has(field.trim());\n  }).forEach(function (field) {\n    includedFields.add(field.trim());\n  });\n\n  for (var i = headers.length - 1; i >= 0; i--) {\n    var line = headers[i]; // only include the first value from bottom to top\n\n    if (includedFields.has(line.key) && !headerFields.has(line.key)) {\n      headerFields.set(line.key, relaxedHeaderLine(line.line));\n    }\n  }\n\n  var headersList = [];\n  var fields = [];\n  includedFields.forEach(function (field) {\n    if (headerFields.has(field)) {\n      fields.push(field);\n      headersList.push(field + ':' + headerFields.get(field));\n    }\n  });\n  return {\n    headers: headersList.join('\\r\\n') + '\\r\\n',\n    fieldNames: fields.join(':')\n  };\n}\n\nfunction relaxedHeaderLine(line) {\n  return line.substr(line.indexOf(':') + 1).replace(/\\r?\\n/g, '').replace(/\\s+/g, ' ').trim();\n}","'use strict'; // module to handle cookies\n\nvar _classCallCheck = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/classCallCheck.js\");\n\nvar _createClass = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/createClass.js\");\n\nvar urllib = require('url');\n\nvar SESSION_TIMEOUT = 1800; // 30 min\n\n/**\n * Creates a biskviit cookie jar for managing cookie values in memory\n *\n * @constructor\n * @param {Object} [options] Optional options object\n */\n\nvar Cookies = /*#__PURE__*/function () {\n  function Cookies(options) {\n    _classCallCheck(this, Cookies);\n\n    this.options = options || {};\n    this.cookies = [];\n  }\n  /**\n   * Stores a cookie string to the cookie storage\n   *\n   * @param {String} cookieStr Value from the 'Set-Cookie:' header\n   * @param {String} url Current URL\n   */\n\n\n  _createClass(Cookies, [{\n    key: \"set\",\n    value: function set(cookieStr, url) {\n      var urlparts = urllib.parse(url || '');\n      var cookie = this.parse(cookieStr);\n      var domain;\n\n      if (cookie.domain) {\n        domain = cookie.domain.replace(/^\\./, ''); // do not allow cross origin cookies\n\n        if ( // can't be valid if the requested domain is shorter than current hostname\n        urlparts.hostname.length < domain.length || // prefix domains with dot to be sure that partial matches are not used\n        ('.' + urlparts.hostname).substr(-domain.length + 1) !== '.' + domain) {\n          cookie.domain = urlparts.hostname;\n        }\n      } else {\n        cookie.domain = urlparts.hostname;\n      }\n\n      if (!cookie.path) {\n        cookie.path = this.getPath(urlparts.pathname);\n      } // if no expire date, then use sessionTimeout value\n\n\n      if (!cookie.expires) {\n        cookie.expires = new Date(Date.now() + (Number(this.options.sessionTimeout || SESSION_TIMEOUT) || SESSION_TIMEOUT) * 1000);\n      }\n\n      return this.add(cookie);\n    }\n    /**\n     * Returns cookie string for the 'Cookie:' header.\n     *\n     * @param {String} url URL to check for\n     * @returns {String} Cookie header or empty string if no matches were found\n     */\n\n  }, {\n    key: \"get\",\n    value: function get(url) {\n      return this.list(url).map(function (cookie) {\n        return cookie.name + '=' + cookie.value;\n      }).join('; ');\n    }\n    /**\n     * Lists all valied cookie objects for the specified URL\n     *\n     * @param {String} url URL to check for\n     * @returns {Array} An array of cookie objects\n     */\n\n  }, {\n    key: \"list\",\n    value: function list(url) {\n      var result = [];\n      var i;\n      var cookie;\n\n      for (i = this.cookies.length - 1; i >= 0; i--) {\n        cookie = this.cookies[i];\n\n        if (this.isExpired(cookie)) {\n          this.cookies.splice(i, i);\n          continue;\n        }\n\n        if (this.match(cookie, url)) {\n          result.unshift(cookie);\n        }\n      }\n\n      return result;\n    }\n    /**\n     * Parses cookie string from the 'Set-Cookie:' header\n     *\n     * @param {String} cookieStr String from the 'Set-Cookie:' header\n     * @returns {Object} Cookie object\n     */\n\n  }, {\n    key: \"parse\",\n    value: function parse(cookieStr) {\n      var cookie = {};\n      (cookieStr || '').toString().split(';').forEach(function (cookiePart) {\n        var valueParts = cookiePart.split('=');\n        var key = valueParts.shift().trim().toLowerCase();\n        var value = valueParts.join('=').trim();\n        var domain;\n\n        if (!key) {\n          // skip empty parts\n          return;\n        }\n\n        switch (key) {\n          case 'expires':\n            value = new Date(value); // ignore date if can not parse it\n\n            if (value.toString() !== 'Invalid Date') {\n              cookie.expires = value;\n            }\n\n            break;\n\n          case 'path':\n            cookie.path = value;\n            break;\n\n          case 'domain':\n            domain = value.toLowerCase();\n\n            if (domain.length && domain.charAt(0) !== '.') {\n              domain = '.' + domain; // ensure preceeding dot for user set domains\n            }\n\n            cookie.domain = domain;\n            break;\n\n          case 'max-age':\n            cookie.expires = new Date(Date.now() + (Number(value) || 0) * 1000);\n            break;\n\n          case 'secure':\n            cookie.secure = true;\n            break;\n\n          case 'httponly':\n            cookie.httponly = true;\n            break;\n\n          default:\n            if (!cookie.name) {\n              cookie.name = key;\n              cookie.value = value;\n            }\n\n        }\n      });\n      return cookie;\n    }\n    /**\n     * Checks if a cookie object is valid for a specified URL\n     *\n     * @param {Object} cookie Cookie object\n     * @param {String} url URL to check for\n     * @returns {Boolean} true if cookie is valid for specifiec URL\n     */\n\n  }, {\n    key: \"match\",\n    value: function match(cookie, url) {\n      var urlparts = urllib.parse(url || ''); // check if hostname matches\n      // .foo.com also matches subdomains, foo.com does not\n\n      if (urlparts.hostname !== cookie.domain && (cookie.domain.charAt(0) !== '.' || ('.' + urlparts.hostname).substr(-cookie.domain.length) !== cookie.domain)) {\n        return false;\n      } // check if path matches\n\n\n      var path = this.getPath(urlparts.pathname);\n\n      if (path.substr(0, cookie.path.length) !== cookie.path) {\n        return false;\n      } // check secure argument\n\n\n      if (cookie.secure && urlparts.protocol !== 'https:') {\n        return false;\n      }\n\n      return true;\n    }\n    /**\n     * Adds (or updates/removes if needed) a cookie object to the cookie storage\n     *\n     * @param {Object} cookie Cookie value to be stored\n     */\n\n  }, {\n    key: \"add\",\n    value: function add(cookie) {\n      var i;\n      var len; // nothing to do here\n\n      if (!cookie || !cookie.name) {\n        return false;\n      } // overwrite if has same params\n\n\n      for (i = 0, len = this.cookies.length; i < len; i++) {\n        if (this.compare(this.cookies[i], cookie)) {\n          // check if the cookie needs to be removed instead\n          if (this.isExpired(cookie)) {\n            this.cookies.splice(i, 1); // remove expired/unset cookie\n\n            return false;\n          }\n\n          this.cookies[i] = cookie;\n          return true;\n        }\n      } // add as new if not already expired\n\n\n      if (!this.isExpired(cookie)) {\n        this.cookies.push(cookie);\n      }\n\n      return true;\n    }\n    /**\n     * Checks if two cookie objects are the same\n     *\n     * @param {Object} a Cookie to check against\n     * @param {Object} b Cookie to check against\n     * @returns {Boolean} True, if the cookies are the same\n     */\n\n  }, {\n    key: \"compare\",\n    value: function compare(a, b) {\n      return a.name === b.name && a.path === b.path && a.domain === b.domain && a.secure === b.secure && a.httponly === a.httponly;\n    }\n    /**\n     * Checks if a cookie is expired\n     *\n     * @param {Object} cookie Cookie object to check against\n     * @returns {Boolean} True, if the cookie is expired\n     */\n\n  }, {\n    key: \"isExpired\",\n    value: function isExpired(cookie) {\n      return cookie.expires && cookie.expires < new Date() || !cookie.value;\n    }\n    /**\n     * Returns normalized cookie path for an URL path argument\n     *\n     * @param {String} pathname\n     * @returns {String} Normalized path\n     */\n\n  }, {\n    key: \"getPath\",\n    value: function getPath(pathname) {\n      var path = (pathname || '/').split('/');\n      path.pop(); // remove filename part\n\n      path = path.join('/').trim(); // ensure path prefix /\n\n      if (path.charAt(0) !== '/') {\n        path = '/' + path;\n      } // ensure path suffix /\n\n\n      if (path.substr(-1) !== '/') {\n        path += '/';\n      }\n\n      return path;\n    }\n  }]);\n\n  return Cookies;\n}();\n\nmodule.exports = Cookies;","'use strict';\n\nvar http = require('http');\n\nvar https = require('https');\n\nvar urllib = require('url');\n\nvar zlib = require('zlib');\n\nvar PassThrough = require('stream').PassThrough;\n\nvar Cookies = require('./cookies');\n\nvar packageData = require('../../package.json');\n\nvar MAX_REDIRECTS = 5;\n\nmodule.exports = function (url, options) {\n  return nmfetch(url, options);\n};\n\nmodule.exports.Cookies = Cookies;\n\nfunction nmfetch(url, options) {\n  options = options || {};\n  options.fetchRes = options.fetchRes || new PassThrough();\n  options.cookies = options.cookies || new Cookies();\n  options.redirects = options.redirects || 0;\n  options.maxRedirects = isNaN(options.maxRedirects) ? MAX_REDIRECTS : options.maxRedirects;\n\n  if (options.cookie) {\n    [].concat(options.cookie || []).forEach(function (cookie) {\n      options.cookies.set(cookie, url);\n    });\n    options.cookie = false;\n  }\n\n  var fetchRes = options.fetchRes;\n  var parsed = urllib.parse(url);\n  var method = (options.method || '').toString().trim().toUpperCase() || 'GET';\n  var finished = false;\n  var cookies;\n  var body;\n  var handler = parsed.protocol === 'https:' ? https : http;\n  var headers = {\n    'accept-encoding': 'gzip,deflate',\n    'user-agent': 'nodemailer/' + packageData.version\n  };\n  Object.keys(options.headers || {}).forEach(function (key) {\n    headers[key.toLowerCase().trim()] = options.headers[key];\n  });\n\n  if (options.userAgent) {\n    headers['user-agent'] = options.userAgent;\n  }\n\n  if (parsed.auth) {\n    headers.Authorization = 'Basic ' + Buffer.from(parsed.auth).toString('base64');\n  }\n\n  if (cookies = options.cookies.get(url)) {\n    headers.cookie = cookies;\n  }\n\n  if (options.body) {\n    if (options.contentType !== false) {\n      headers['Content-Type'] = options.contentType || 'application/x-www-form-urlencoded';\n    }\n\n    if (typeof options.body.pipe === 'function') {\n      // it's a stream\n      headers['Transfer-Encoding'] = 'chunked';\n      body = options.body;\n      body.on('error', function (err) {\n        if (finished) {\n          return;\n        }\n\n        finished = true;\n        err.type = 'FETCH';\n        err.sourceUrl = url;\n        fetchRes.emit('error', err);\n      });\n    } else {\n      if (options.body instanceof Buffer) {\n        body = options.body;\n      } else if (typeof options.body === 'object') {\n        try {\n          // encodeURIComponent can fail on invalid input (partial emoji etc.)\n          body = Buffer.from(Object.keys(options.body).map(function (key) {\n            var value = options.body[key].toString().trim();\n            return encodeURIComponent(key) + '=' + encodeURIComponent(value);\n          }).join('&'));\n        } catch (E) {\n          if (finished) {\n            return;\n          }\n\n          finished = true;\n          E.type = 'FETCH';\n          E.sourceUrl = url;\n          fetchRes.emit('error', E);\n          return;\n        }\n      } else {\n        body = Buffer.from(options.body.toString().trim());\n      }\n\n      headers['Content-Type'] = options.contentType || 'application/x-www-form-urlencoded';\n      headers['Content-Length'] = body.length;\n    } // if method is not provided, use POST instead of GET\n\n\n    method = (options.method || '').toString().trim().toUpperCase() || 'POST';\n  }\n\n  var req;\n  var reqOptions = {\n    method: method,\n    host: parsed.hostname,\n    path: parsed.path,\n    port: parsed.port ? parsed.port : parsed.protocol === 'https:' ? 443 : 80,\n    headers: headers,\n    rejectUnauthorized: false,\n    agent: false\n  };\n\n  if (options.tls) {\n    Object.keys(options.tls).forEach(function (key) {\n      reqOptions[key] = options.tls[key];\n    });\n  }\n\n  try {\n    req = handler.request(reqOptions);\n  } catch (E) {\n    finished = true;\n    setImmediate(function () {\n      E.type = 'FETCH';\n      E.sourceUrl = url;\n      fetchRes.emit('error', E);\n    });\n    return fetchRes;\n  }\n\n  if (options.timeout) {\n    req.setTimeout(options.timeout, function () {\n      if (finished) {\n        return;\n      }\n\n      finished = true;\n      req.abort();\n      var err = new Error('Request Timeout');\n      err.type = 'FETCH';\n      err.sourceUrl = url;\n      fetchRes.emit('error', err);\n    });\n  }\n\n  req.on('error', function (err) {\n    if (finished) {\n      return;\n    }\n\n    finished = true;\n    err.type = 'FETCH';\n    err.sourceUrl = url;\n    fetchRes.emit('error', err);\n  });\n  req.on('response', function (res) {\n    var inflate;\n\n    if (finished) {\n      return;\n    }\n\n    switch (res.headers['content-encoding']) {\n      case 'gzip':\n      case 'deflate':\n        inflate = zlib.createUnzip();\n        break;\n    }\n\n    if (res.headers['set-cookie']) {\n      [].concat(res.headers['set-cookie'] || []).forEach(function (cookie) {\n        options.cookies.set(cookie, url);\n      });\n    }\n\n    if ([301, 302, 303, 307, 308].includes(res.statusCode) && res.headers.location) {\n      // redirect\n      options.redirects++;\n\n      if (options.redirects > options.maxRedirects) {\n        finished = true;\n        var err = new Error('Maximum redirect count exceeded');\n        err.type = 'FETCH';\n        err.sourceUrl = url;\n        fetchRes.emit('error', err);\n        req.abort();\n        return;\n      } // redirect does not include POST body\n\n\n      options.method = 'GET';\n      options.body = false;\n      return nmfetch(urllib.resolve(url, res.headers.location), options);\n    }\n\n    fetchRes.statusCode = res.statusCode;\n    fetchRes.headers = res.headers;\n\n    if (res.statusCode >= 300 && !options.allowErrorResponse) {\n      finished = true;\n\n      var _err = new Error('Invalid status code ' + res.statusCode);\n\n      _err.type = 'FETCH';\n      _err.sourceUrl = url;\n      fetchRes.emit('error', _err);\n      req.abort();\n      return;\n    }\n\n    res.on('error', function (err) {\n      if (finished) {\n        return;\n      }\n\n      finished = true;\n      err.type = 'FETCH';\n      err.sourceUrl = url;\n      fetchRes.emit('error', err);\n      req.abort();\n    });\n\n    if (inflate) {\n      res.pipe(inflate).pipe(fetchRes);\n      inflate.on('error', function (err) {\n        if (finished) {\n          return;\n        }\n\n        finished = true;\n        err.type = 'FETCH';\n        err.sourceUrl = url;\n        fetchRes.emit('error', err);\n        req.abort();\n      });\n    } else {\n      res.pipe(fetchRes);\n    }\n  });\n  setImmediate(function () {\n    if (body) {\n      try {\n        if (typeof body.pipe === 'function') {\n          return body.pipe(req);\n        } else {\n          req.write(body);\n        }\n      } catch (err) {\n        finished = true;\n        err.type = 'FETCH';\n        err.sourceUrl = url;\n        fetchRes.emit('error', err);\n        return;\n      }\n    }\n\n    req.end();\n  });\n  return fetchRes;\n}","'use strict';\n\nvar _classCallCheck = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/classCallCheck.js\");\n\nvar _createClass = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/createClass.js\");\n\nvar packageData = require('../../package.json');\n\nvar shared = require('../shared');\n/**\n * Generates a Transport object to generate JSON output\n *\n * @constructor\n * @param {Object} optional config parameter\n */\n\n\nvar JSONTransport = /*#__PURE__*/function () {\n  function JSONTransport(options) {\n    _classCallCheck(this, JSONTransport);\n\n    options = options || {};\n    this.options = options || {};\n    this.name = 'JSONTransport';\n    this.version = packageData.version;\n    this.logger = shared.getLogger(this.options, {\n      component: this.options.component || 'json-transport'\n    });\n  }\n  /**\n   * <p>Compiles a mailcomposer message and forwards it to handler that sends it.</p>\n   *\n   * @param {Object} emailMessage MailComposer object\n   * @param {Function} callback Callback function to run when the sending is completed\n   */\n\n\n  _createClass(JSONTransport, [{\n    key: \"send\",\n    value: function send(mail, done) {\n      var _this = this;\n\n      // Sendmail strips this header line by itself\n      mail.message.keepBcc = true;\n      var envelope = mail.data.envelope || mail.message.getEnvelope();\n      var messageId = mail.message.messageId();\n      var recipients = [].concat(envelope.to || []);\n\n      if (recipients.length > 3) {\n        recipients.push('...and ' + recipients.splice(2).length + ' more');\n      }\n\n      this.logger.info({\n        tnx: 'send',\n        messageId: messageId\n      }, 'Composing JSON structure of %s to <%s>', messageId, recipients.join(', '));\n      setImmediate(function () {\n        mail.normalize(function (err, data) {\n          if (err) {\n            _this.logger.error({\n              err: err,\n              tnx: 'send',\n              messageId: messageId\n            }, 'Failed building JSON structure for %s. %s', messageId, err.message);\n\n            return done(err);\n          }\n\n          delete data.envelope;\n          delete data.normalizedHeaders;\n          return done(null, {\n            envelope: envelope,\n            messageId: messageId,\n            message: _this.options.skipEncoding ? data : JSON.stringify(data)\n          });\n        });\n      });\n    }\n  }]);\n\n  return JSONTransport;\n}();\n\nmodule.exports = JSONTransport;","/* eslint no-undefined: 0 */\n'use strict';\n\nvar _classCallCheck = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/classCallCheck.js\");\n\nvar _createClass = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/createClass.js\");\n\nvar MimeNode = require('../mime-node');\n\nvar mimeFuncs = require('../mime-funcs');\n/**\n * Creates the object for composing a MimeNode instance out from the mail options\n *\n * @constructor\n * @param {Object} mail Mail options\n */\n\n\nvar MailComposer = /*#__PURE__*/function () {\n  function MailComposer(mail) {\n    _classCallCheck(this, MailComposer);\n\n    this.mail = mail || {};\n    this.message = false;\n  }\n  /**\n   * Builds MimeNode instance\n   */\n\n\n  _createClass(MailComposer, [{\n    key: \"compile\",\n    value: function compile() {\n      var _this = this;\n\n      this._alternatives = this.getAlternatives();\n      this._htmlNode = this._alternatives.filter(function (alternative) {\n        return /^text\\/html\\b/i.test(alternative.contentType);\n      }).pop();\n      this._attachments = this.getAttachments(!!this._htmlNode);\n      this._useRelated = !!(this._htmlNode && this._attachments.related.length);\n      this._useAlternative = this._alternatives.length > 1;\n      this._useMixed = this._attachments.attached.length > 1 || this._alternatives.length && this._attachments.attached.length === 1; // Compose MIME tree\n\n      if (this.mail.raw) {\n        this.message = new MimeNode('message/rfc822', {\n          newline: this.mail.newline\n        }).setRaw(this.mail.raw);\n      } else if (this._useMixed) {\n        this.message = this._createMixed();\n      } else if (this._useAlternative) {\n        this.message = this._createAlternative();\n      } else if (this._useRelated) {\n        this.message = this._createRelated();\n      } else {\n        this.message = this._createContentNode(false, [].concat(this._alternatives || []).concat(this._attachments.attached || []).shift() || {\n          contentType: 'text/plain',\n          content: ''\n        });\n      } // Add custom headers\n\n\n      if (this.mail.headers) {\n        this.message.addHeader(this.mail.headers);\n      } // Add headers to the root node, always overrides custom headers\n\n\n      ['from', 'sender', 'to', 'cc', 'bcc', 'reply-to', 'in-reply-to', 'references', 'subject', 'message-id', 'date'].forEach(function (header) {\n        var key = header.replace(/-(\\w)/g, function (o, c) {\n          return c.toUpperCase();\n        });\n\n        if (_this.mail[key]) {\n          _this.message.setHeader(header, _this.mail[key]);\n        }\n      }); // Sets custom envelope\n\n      if (this.mail.envelope) {\n        this.message.setEnvelope(this.mail.envelope);\n      } // ensure Message-Id value\n\n\n      this.message.messageId();\n      return this.message;\n    }\n    /**\n     * List all attachments. Resulting attachment objects can be used as input for MimeNode nodes\n     *\n     * @param {Boolean} findRelated If true separate related attachments from attached ones\n     * @returns {Object} An object of arrays (`related` and `attached`)\n     */\n\n  }, {\n    key: \"getAttachments\",\n    value: function getAttachments(findRelated) {\n      var _this2 = this;\n\n      var icalEvent, eventObject;\n      var attachments = [].concat(this.mail.attachments || []).map(function (attachment, i) {\n        var data;\n        var isMessageNode = /^message\\//i.test(attachment.contentType);\n\n        if (/^data:/i.test(attachment.path || attachment.href)) {\n          attachment = _this2._processDataUrl(attachment);\n        }\n\n        data = {\n          contentType: attachment.contentType || mimeFuncs.detectMimeType(attachment.filename || attachment.path || attachment.href || 'bin'),\n          contentDisposition: attachment.contentDisposition || (isMessageNode ? 'inline' : 'attachment'),\n          contentTransferEncoding: 'contentTransferEncoding' in attachment ? attachment.contentTransferEncoding : 'base64'\n        };\n\n        if (attachment.filename) {\n          data.filename = attachment.filename;\n        } else if (!isMessageNode && attachment.filename !== false) {\n          data.filename = (attachment.path || attachment.href || '').split('/').pop().split('?').shift() || 'attachment-' + (i + 1);\n\n          if (data.filename.indexOf('.') < 0) {\n            data.filename += '.' + mimeFuncs.detectExtension(data.contentType);\n          }\n        }\n\n        if (/^https?:\\/\\//i.test(attachment.path)) {\n          attachment.href = attachment.path;\n          attachment.path = undefined;\n        }\n\n        if (attachment.cid) {\n          data.cid = attachment.cid;\n        }\n\n        if (attachment.raw) {\n          data.raw = attachment.raw;\n        } else if (attachment.path) {\n          data.content = {\n            path: attachment.path\n          };\n        } else if (attachment.href) {\n          data.content = {\n            href: attachment.href,\n            httpHeaders: attachment.httpHeaders\n          };\n        } else {\n          data.content = attachment.content || '';\n        }\n\n        if (attachment.encoding) {\n          data.encoding = attachment.encoding;\n        }\n\n        if (attachment.headers) {\n          data.headers = attachment.headers;\n        }\n\n        return data;\n      });\n\n      if (this.mail.icalEvent) {\n        if (typeof this.mail.icalEvent === 'object' && (this.mail.icalEvent.content || this.mail.icalEvent.path || this.mail.icalEvent.href || this.mail.icalEvent.raw)) {\n          icalEvent = this.mail.icalEvent;\n        } else {\n          icalEvent = {\n            content: this.mail.icalEvent\n          };\n        }\n\n        eventObject = {};\n        Object.keys(icalEvent).forEach(function (key) {\n          eventObject[key] = icalEvent[key];\n        });\n        eventObject.contentType = 'application/ics';\n\n        if (!eventObject.headers) {\n          eventObject.headers = {};\n        }\n\n        eventObject.filename = eventObject.filename || 'invite.ics';\n        eventObject.headers['Content-Disposition'] = 'attachment';\n        eventObject.headers['Content-Transfer-Encoding'] = 'base64';\n      }\n\n      if (!findRelated) {\n        return {\n          attached: attachments.concat(eventObject || []),\n          related: []\n        };\n      } else {\n        return {\n          attached: attachments.filter(function (attachment) {\n            return !attachment.cid;\n          }).concat(eventObject || []),\n          related: attachments.filter(function (attachment) {\n            return !!attachment.cid;\n          })\n        };\n      }\n    }\n    /**\n     * List alternatives. Resulting objects can be used as input for MimeNode nodes\n     *\n     * @returns {Array} An array of alternative elements. Includes the `text` and `html` values as well\n     */\n\n  }, {\n    key: \"getAlternatives\",\n    value: function getAlternatives() {\n      var _this3 = this;\n\n      var alternatives = [],\n          text,\n          html,\n          watchHtml,\n          amp,\n          icalEvent,\n          eventObject;\n\n      if (this.mail.text) {\n        if (typeof this.mail.text === 'object' && (this.mail.text.content || this.mail.text.path || this.mail.text.href || this.mail.text.raw)) {\n          text = this.mail.text;\n        } else {\n          text = {\n            content: this.mail.text\n          };\n        }\n\n        text.contentType = 'text/plain; charset=utf-8';\n      }\n\n      if (this.mail.watchHtml) {\n        if (typeof this.mail.watchHtml === 'object' && (this.mail.watchHtml.content || this.mail.watchHtml.path || this.mail.watchHtml.href || this.mail.watchHtml.raw)) {\n          watchHtml = this.mail.watchHtml;\n        } else {\n          watchHtml = {\n            content: this.mail.watchHtml\n          };\n        }\n\n        watchHtml.contentType = 'text/watch-html; charset=utf-8';\n      }\n\n      if (this.mail.amp) {\n        if (typeof this.mail.amp === 'object' && (this.mail.amp.content || this.mail.amp.path || this.mail.amp.href || this.mail.amp.raw)) {\n          amp = this.mail.amp;\n        } else {\n          amp = {\n            content: this.mail.amp\n          };\n        }\n\n        amp.contentType = 'text/x-amp-html; charset=utf-8';\n      } // NB! when including attachments with a calendar alternative you might end up in a blank screen on some clients\n\n\n      if (this.mail.icalEvent) {\n        if (typeof this.mail.icalEvent === 'object' && (this.mail.icalEvent.content || this.mail.icalEvent.path || this.mail.icalEvent.href || this.mail.icalEvent.raw)) {\n          icalEvent = this.mail.icalEvent;\n        } else {\n          icalEvent = {\n            content: this.mail.icalEvent\n          };\n        }\n\n        eventObject = {};\n        Object.keys(icalEvent).forEach(function (key) {\n          eventObject[key] = icalEvent[key];\n        });\n\n        if (eventObject.content && typeof eventObject.content === 'object') {\n          // we are going to have the same attachment twice, so mark this to be\n          // resolved just once\n          eventObject.content._resolve = true;\n        }\n\n        eventObject.filename = false;\n        eventObject.contentType = 'text/calendar; charset=utf-8; method=' + (eventObject.method || 'PUBLISH').toString().trim().toUpperCase();\n\n        if (!eventObject.headers) {\n          eventObject.headers = {};\n        }\n      }\n\n      if (this.mail.html) {\n        if (typeof this.mail.html === 'object' && (this.mail.html.content || this.mail.html.path || this.mail.html.href || this.mail.html.raw)) {\n          html = this.mail.html;\n        } else {\n          html = {\n            content: this.mail.html\n          };\n        }\n\n        html.contentType = 'text/html; charset=utf-8';\n      }\n\n      [].concat(text || []).concat(watchHtml || []).concat(amp || []).concat(html || []).concat(eventObject || []).concat(this.mail.alternatives || []).forEach(function (alternative) {\n        var data;\n\n        if (/^data:/i.test(alternative.path || alternative.href)) {\n          alternative = _this3._processDataUrl(alternative);\n        }\n\n        data = {\n          contentType: alternative.contentType || mimeFuncs.detectMimeType(alternative.filename || alternative.path || alternative.href || 'txt'),\n          contentTransferEncoding: alternative.contentTransferEncoding\n        };\n\n        if (alternative.filename) {\n          data.filename = alternative.filename;\n        }\n\n        if (/^https?:\\/\\//i.test(alternative.path)) {\n          alternative.href = alternative.path;\n          alternative.path = undefined;\n        }\n\n        if (alternative.raw) {\n          data.raw = alternative.raw;\n        } else if (alternative.path) {\n          data.content = {\n            path: alternative.path\n          };\n        } else if (alternative.href) {\n          data.content = {\n            href: alternative.href\n          };\n        } else {\n          data.content = alternative.content || '';\n        }\n\n        if (alternative.encoding) {\n          data.encoding = alternative.encoding;\n        }\n\n        if (alternative.headers) {\n          data.headers = alternative.headers;\n        }\n\n        alternatives.push(data);\n      });\n      return alternatives;\n    }\n    /**\n     * Builds multipart/mixed node. It should always contain different type of elements on the same level\n     * eg. text + attachments\n     *\n     * @param {Object} parentNode Parent for this note. If it does not exist, a root node is created\n     * @returns {Object} MimeNode node element\n     */\n\n  }, {\n    key: \"_createMixed\",\n    value: function _createMixed(parentNode) {\n      var _this4 = this;\n\n      var node;\n\n      if (!parentNode) {\n        node = new MimeNode('multipart/mixed', {\n          baseBoundary: this.mail.baseBoundary,\n          textEncoding: this.mail.textEncoding,\n          boundaryPrefix: this.mail.boundaryPrefix,\n          disableUrlAccess: this.mail.disableUrlAccess,\n          disableFileAccess: this.mail.disableFileAccess,\n          normalizeHeaderKey: this.mail.normalizeHeaderKey,\n          newline: this.mail.newline\n        });\n      } else {\n        node = parentNode.createChild('multipart/mixed', {\n          disableUrlAccess: this.mail.disableUrlAccess,\n          disableFileAccess: this.mail.disableFileAccess,\n          normalizeHeaderKey: this.mail.normalizeHeaderKey,\n          newline: this.mail.newline\n        });\n      }\n\n      if (this._useAlternative) {\n        this._createAlternative(node);\n      } else if (this._useRelated) {\n        this._createRelated(node);\n      }\n\n      [].concat(!this._useAlternative && this._alternatives || []).concat(this._attachments.attached || []).forEach(function (element) {\n        // if the element is a html node from related subpart then ignore it\n        if (!_this4._useRelated || element !== _this4._htmlNode) {\n          _this4._createContentNode(node, element);\n        }\n      });\n      return node;\n    }\n    /**\n     * Builds multipart/alternative node. It should always contain same type of elements on the same level\n     * eg. text + html view of the same data\n     *\n     * @param {Object} parentNode Parent for this note. If it does not exist, a root node is created\n     * @returns {Object} MimeNode node element\n     */\n\n  }, {\n    key: \"_createAlternative\",\n    value: function _createAlternative(parentNode) {\n      var _this5 = this;\n\n      var node;\n\n      if (!parentNode) {\n        node = new MimeNode('multipart/alternative', {\n          baseBoundary: this.mail.baseBoundary,\n          textEncoding: this.mail.textEncoding,\n          boundaryPrefix: this.mail.boundaryPrefix,\n          disableUrlAccess: this.mail.disableUrlAccess,\n          disableFileAccess: this.mail.disableFileAccess,\n          normalizeHeaderKey: this.mail.normalizeHeaderKey,\n          newline: this.mail.newline\n        });\n      } else {\n        node = parentNode.createChild('multipart/alternative', {\n          disableUrlAccess: this.mail.disableUrlAccess,\n          disableFileAccess: this.mail.disableFileAccess,\n          normalizeHeaderKey: this.mail.normalizeHeaderKey,\n          newline: this.mail.newline\n        });\n      }\n\n      this._alternatives.forEach(function (alternative) {\n        if (_this5._useRelated && _this5._htmlNode === alternative) {\n          _this5._createRelated(node);\n        } else {\n          _this5._createContentNode(node, alternative);\n        }\n      });\n\n      return node;\n    }\n    /**\n     * Builds multipart/related node. It should always contain html node with related attachments\n     *\n     * @param {Object} parentNode Parent for this note. If it does not exist, a root node is created\n     * @returns {Object} MimeNode node element\n     */\n\n  }, {\n    key: \"_createRelated\",\n    value: function _createRelated(parentNode) {\n      var _this6 = this;\n\n      var node;\n\n      if (!parentNode) {\n        node = new MimeNode('multipart/related; type=\"text/html\"', {\n          baseBoundary: this.mail.baseBoundary,\n          textEncoding: this.mail.textEncoding,\n          boundaryPrefix: this.mail.boundaryPrefix,\n          disableUrlAccess: this.mail.disableUrlAccess,\n          disableFileAccess: this.mail.disableFileAccess,\n          normalizeHeaderKey: this.mail.normalizeHeaderKey,\n          newline: this.mail.newline\n        });\n      } else {\n        node = parentNode.createChild('multipart/related; type=\"text/html\"', {\n          disableUrlAccess: this.mail.disableUrlAccess,\n          disableFileAccess: this.mail.disableFileAccess,\n          normalizeHeaderKey: this.mail.normalizeHeaderKey,\n          newline: this.mail.newline\n        });\n      }\n\n      this._createContentNode(node, this._htmlNode);\n\n      this._attachments.related.forEach(function (alternative) {\n        return _this6._createContentNode(node, alternative);\n      });\n\n      return node;\n    }\n    /**\n     * Creates a regular node with contents\n     *\n     * @param {Object} parentNode Parent for this note. If it does not exist, a root node is created\n     * @param {Object} element Node data\n     * @returns {Object} MimeNode node element\n     */\n\n  }, {\n    key: \"_createContentNode\",\n    value: function _createContentNode(parentNode, element) {\n      element = element || {};\n      element.content = element.content || '';\n      var node;\n      var encoding = (element.encoding || 'utf8').toString().toLowerCase().replace(/[-_\\s]/g, '');\n\n      if (!parentNode) {\n        node = new MimeNode(element.contentType, {\n          filename: element.filename,\n          baseBoundary: this.mail.baseBoundary,\n          textEncoding: this.mail.textEncoding,\n          boundaryPrefix: this.mail.boundaryPrefix,\n          disableUrlAccess: this.mail.disableUrlAccess,\n          disableFileAccess: this.mail.disableFileAccess,\n          normalizeHeaderKey: this.mail.normalizeHeaderKey,\n          newline: this.mail.newline\n        });\n      } else {\n        node = parentNode.createChild(element.contentType, {\n          filename: element.filename,\n          textEncoding: this.mail.textEncoding,\n          disableUrlAccess: this.mail.disableUrlAccess,\n          disableFileAccess: this.mail.disableFileAccess,\n          normalizeHeaderKey: this.mail.normalizeHeaderKey,\n          newline: this.mail.newline\n        });\n      } // add custom headers\n\n\n      if (element.headers) {\n        node.addHeader(element.headers);\n      }\n\n      if (element.cid) {\n        node.setHeader('Content-Id', '<' + element.cid.replace(/[<>]/g, '') + '>');\n      }\n\n      if (element.contentTransferEncoding) {\n        node.setHeader('Content-Transfer-Encoding', element.contentTransferEncoding);\n      } else if (this.mail.encoding && /^text\\//i.test(element.contentType)) {\n        node.setHeader('Content-Transfer-Encoding', this.mail.encoding);\n      }\n\n      if (!/^text\\//i.test(element.contentType) || element.contentDisposition) {\n        node.setHeader('Content-Disposition', element.contentDisposition || (element.cid ? 'inline' : 'attachment'));\n      }\n\n      if (typeof element.content === 'string' && !['utf8', 'usascii', 'ascii'].includes(encoding)) {\n        element.content = Buffer.from(element.content, encoding);\n      } // prefer pregenerated raw content\n\n\n      if (element.raw) {\n        node.setRaw(element.raw);\n      } else {\n        node.setContent(element.content);\n      }\n\n      return node;\n    }\n    /**\n     * Parses data uri and converts it to a Buffer\n     *\n     * @param {Object} element Content element\n     * @return {Object} Parsed element\n     */\n\n  }, {\n    key: \"_processDataUrl\",\n    value: function _processDataUrl(element) {\n      var parts = (element.path || element.href).match(/^data:((?:[^;]*;)*(?:[^,]*)),(.*)$/i);\n\n      if (!parts) {\n        return element;\n      }\n\n      element.content = /\\bbase64$/i.test(parts[1]) ? Buffer.from(parts[2], 'base64') : Buffer.from(decodeURIComponent(parts[2]));\n\n      if ('path' in element) {\n        element.path = false;\n      }\n\n      if ('href' in element) {\n        element.href = false;\n      }\n\n      parts[1].split(';').forEach(function (item) {\n        if (/^\\w+\\/[^/]+$/i.test(item)) {\n          element.contentType = element.contentType || item.toLowerCase();\n        }\n      });\n      return element;\n    }\n  }]);\n\n  return MailComposer;\n}();\n\nmodule.exports = MailComposer;","'use strict';\n\nvar _defineProperty = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/defineProperty.js\");\n\nvar _classCallCheck = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/classCallCheck.js\");\n\nvar _createClass = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/createClass.js\");\n\nvar _assertThisInitialized = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/assertThisInitialized.js\");\n\nvar _inherits = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/inherits.js\");\n\nvar _possibleConstructorReturn = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n\nvar _getPrototypeOf = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar EventEmitter = require('events');\n\nvar shared = require('../shared');\n\nvar mimeTypes = require('../mime-funcs/mime-types');\n\nvar MailComposer = require('../mail-composer');\n\nvar DKIM = require('../dkim');\n\nvar httpProxyClient = require('../smtp-connection/http-proxy-client');\n\nvar util = require('util');\n\nvar urllib = require('url');\n\nvar packageData = require('../../package.json');\n\nvar MailMessage = require('./mail-message');\n\nvar net = require('net');\n\nvar dns = require('dns');\n\nvar crypto = require('crypto');\n/**\n * Creates an object for exposing the Mail API\n *\n * @constructor\n * @param {Object} transporter Transport object instance to pass the mails to\n */\n\n\nvar Mail = /*#__PURE__*/function (_EventEmitter) {\n  _inherits(Mail, _EventEmitter);\n\n  var _super = _createSuper(Mail);\n\n  function Mail(transporter, options, defaults) {\n    var _this;\n\n    _classCallCheck(this, Mail);\n\n    _this = _super.call(this);\n    _this.options = options || {};\n    _this._defaults = defaults || {};\n    _this._defaultPlugins = {\n      compile: [function () {\n        var _this2;\n\n        return (_this2 = _this)._convertDataImages.apply(_this2, arguments);\n      }],\n      stream: []\n    };\n    _this._userPlugins = {\n      compile: [],\n      stream: []\n    };\n    _this.meta = new Map();\n    _this.dkim = _this.options.dkim ? new DKIM(_this.options.dkim) : false;\n    _this.transporter = transporter;\n    _this.transporter.mailer = _assertThisInitialized(_this);\n    _this.logger = shared.getLogger(_this.options, {\n      component: _this.options.component || 'mail'\n    });\n\n    _this.logger.debug({\n      tnx: 'create'\n    }, 'Creating transport: %s', _this.getVersionString()); // setup emit handlers for the transporter\n\n\n    if (typeof _this.transporter.on === 'function') {\n      // deprecated log interface\n      _this.transporter.on('log', function (log) {\n        _this.logger.debug({\n          tnx: 'transport'\n        }, '%s: %s', log.type, log.message);\n      }); // transporter errors\n\n\n      _this.transporter.on('error', function (err) {\n        _this.logger.error({\n          err: err,\n          tnx: 'transport'\n        }, 'Transport Error: %s', err.message);\n\n        _this.emit('error', err);\n      }); // indicates if the sender has became idle\n\n\n      _this.transporter.on('idle', function () {\n        var _this3;\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        (_this3 = _this).emit.apply(_this3, ['idle'].concat(args));\n      });\n    }\n    /**\n     * Optional methods passed to the underlying transport object\n     */\n\n\n    ['close', 'isIdle', 'verify'].forEach(function (method) {\n      _this[method] = function () {\n        if (typeof _this.transporter[method] === 'function') {\n          var _this$transporter;\n\n          if (method === 'verify' && typeof _this.getSocket === 'function') {\n            _this.transporter.getSocket = _this.getSocket;\n            _this.getSocket = false;\n          }\n\n          return (_this$transporter = _this.transporter)[method].apply(_this$transporter, arguments);\n        } else {\n          _this.logger.warn({\n            tnx: 'transport',\n            methodName: method\n          }, 'Non existing method %s called for transport', method);\n\n          return false;\n        }\n      };\n    }); // setup proxy handling\n\n    if (_this.options.proxy && typeof _this.options.proxy === 'string') {\n      _this.setupProxy(_this.options.proxy);\n    }\n\n    return _this;\n  }\n\n  _createClass(Mail, [{\n    key: \"use\",\n    value: function use(step, plugin) {\n      step = (step || '').toString();\n\n      if (!this._userPlugins.hasOwnProperty(step)) {\n        this._userPlugins[step] = [plugin];\n      } else {\n        this._userPlugins[step].push(plugin);\n      }\n\n      return this;\n    }\n    /**\n     * Sends an email using the preselected transport object\n     *\n     * @param {Object} data E-data description\n     * @param {Function?} callback Callback to run once the sending succeeded or failed\n     */\n\n  }, {\n    key: \"sendMail\",\n    value: function sendMail(data, callback) {\n      var _this4 = this;\n\n      var promise;\n\n      if (!callback) {\n        promise = new Promise(function (resolve, reject) {\n          callback = shared.callbackPromise(resolve, reject);\n        });\n      }\n\n      if (typeof this.getSocket === 'function') {\n        this.transporter.getSocket = this.getSocket;\n        this.getSocket = false;\n      }\n\n      var mail = new MailMessage(this, data);\n      this.logger.debug({\n        tnx: 'transport',\n        name: this.transporter.name,\n        version: this.transporter.version,\n        action: 'send'\n      }, 'Sending mail using %s/%s', this.transporter.name, this.transporter.version);\n\n      this._processPlugins('compile', mail, function (err) {\n        if (err) {\n          _this4.logger.error({\n            err: err,\n            tnx: 'plugin',\n            action: 'compile'\n          }, 'PluginCompile Error: %s', err.message);\n\n          return callback(err);\n        }\n\n        mail.message = new MailComposer(mail.data).compile();\n        mail.setMailerHeader();\n        mail.setPriorityHeaders();\n        mail.setListHeaders();\n\n        _this4._processPlugins('stream', mail, function (err) {\n          if (err) {\n            _this4.logger.error({\n              err: err,\n              tnx: 'plugin',\n              action: 'stream'\n            }, 'PluginStream Error: %s', err.message);\n\n            return callback(err);\n          }\n\n          if (mail.data.dkim || _this4.dkim) {\n            mail.message.processFunc(function (input) {\n              var dkim = mail.data.dkim ? new DKIM(mail.data.dkim) : _this4.dkim;\n\n              _this4.logger.debug({\n                tnx: 'DKIM',\n                messageId: mail.message.messageId(),\n                dkimDomains: dkim.keys.map(function (key) {\n                  return key.keySelector + '.' + key.domainName;\n                }).join(', ')\n              }, 'Signing outgoing message with %s keys', dkim.keys.length);\n\n              return dkim.sign(input, mail.data._dkim);\n            });\n          }\n\n          _this4.transporter.send(mail, function () {\n            for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n              args[_key2] = arguments[_key2];\n            }\n\n            if (args[0]) {\n              _this4.logger.error({\n                err: args[0],\n                tnx: 'transport',\n                action: 'send'\n              }, 'Send Error: %s', args[0].message);\n            }\n\n            callback.apply(void 0, args);\n          });\n        });\n      });\n\n      return promise;\n    }\n  }, {\n    key: \"getVersionString\",\n    value: function getVersionString() {\n      return util.format('%s (%s; +%s; %s/%s)', packageData.name, packageData.version, packageData.homepage, this.transporter.name, this.transporter.version);\n    }\n  }, {\n    key: \"_processPlugins\",\n    value: function _processPlugins(step, mail, callback) {\n      step = (step || '').toString();\n\n      if (!this._userPlugins.hasOwnProperty(step)) {\n        return callback();\n      }\n\n      var userPlugins = this._userPlugins[step] || [];\n      var defaultPlugins = this._defaultPlugins[step] || [];\n\n      if (userPlugins.length) {\n        this.logger.debug({\n          tnx: 'transaction',\n          pluginCount: userPlugins.length,\n          step: step\n        }, 'Using %s plugins for %s', userPlugins.length, step);\n      }\n\n      if (userPlugins.length + defaultPlugins.length === 0) {\n        return callback();\n      }\n\n      var pos = 0;\n      var block = 'default';\n\n      var processPlugins = function processPlugins() {\n        var curplugins = block === 'default' ? defaultPlugins : userPlugins;\n\n        if (pos >= curplugins.length) {\n          if (block === 'default' && userPlugins.length) {\n            block = 'user';\n            pos = 0;\n            curplugins = userPlugins;\n          } else {\n            return callback();\n          }\n        }\n\n        var plugin = curplugins[pos++];\n        plugin(mail, function (err) {\n          if (err) {\n            return callback(err);\n          }\n\n          processPlugins();\n        });\n      };\n\n      processPlugins();\n    }\n    /**\n     * Sets up proxy handler for a Nodemailer object\n     *\n     * @param {String} proxyUrl Proxy configuration url\n     */\n\n  }, {\n    key: \"setupProxy\",\n    value: function setupProxy(proxyUrl) {\n      var _this5 = this;\n\n      var proxy = urllib.parse(proxyUrl); // setup socket handler for the mailer object\n\n      this.getSocket = function (options, callback) {\n        var protocol = proxy.protocol.replace(/:$/, '').toLowerCase();\n\n        if (_this5.meta.has('proxy_handler_' + protocol)) {\n          return _this5.meta.get('proxy_handler_' + protocol)(proxy, options, callback);\n        }\n\n        switch (protocol) {\n          // Connect using a HTTP CONNECT method\n          case 'http':\n          case 'https':\n            httpProxyClient(proxy.href, options.port, options.host, function (err, socket) {\n              if (err) {\n                return callback(err);\n              }\n\n              return callback(null, {\n                connection: socket\n              });\n            });\n            return;\n\n          case 'socks':\n          case 'socks5':\n          case 'socks4':\n          case 'socks4a':\n            {\n              if (!_this5.meta.has('proxy_socks_module')) {\n                return callback(new Error('Socks module not loaded'));\n              }\n\n              var connect = function connect(ipaddress) {\n                var _connectionOpts;\n\n                var proxyV2 = !!_this5.meta.get('proxy_socks_module').SocksClient;\n                var socksClient = proxyV2 ? _this5.meta.get('proxy_socks_module').SocksClient : _this5.meta.get('proxy_socks_module');\n                var proxyType = Number(proxy.protocol.replace(/\\D/g, '')) || 5;\n                var connectionOpts = (_connectionOpts = {\n                  proxy: {\n                    ipaddress: ipaddress,\n                    port: Number(proxy.port),\n                    type: proxyType\n                  }\n                }, _defineProperty(_connectionOpts, proxyV2 ? 'destination' : 'target', {\n                  host: options.host,\n                  port: options.port\n                }), _defineProperty(_connectionOpts, \"command\", 'connect'), _connectionOpts);\n\n                if (proxy.auth) {\n                  var username = decodeURIComponent(proxy.auth.split(':').shift());\n                  var password = decodeURIComponent(proxy.auth.split(':').pop());\n\n                  if (proxyV2) {\n                    connectionOpts.proxy.userId = username;\n                    connectionOpts.proxy.password = password;\n                  } else if (proxyType === 4) {\n                    connectionOpts.userid = username;\n                  } else {\n                    connectionOpts.authentication = {\n                      username: username,\n                      password: password\n                    };\n                  }\n                }\n\n                socksClient.createConnection(connectionOpts, function (err, info) {\n                  if (err) {\n                    return callback(err);\n                  }\n\n                  return callback(null, {\n                    connection: info.socket || info\n                  });\n                });\n              };\n\n              if (net.isIP(proxy.hostname)) {\n                return connect(proxy.hostname);\n              }\n\n              return dns.resolve(proxy.hostname, function (err, address) {\n                if (err) {\n                  return callback(err);\n                }\n\n                connect(Array.isArray(address) ? address[0] : address);\n              });\n            }\n        }\n\n        callback(new Error('Unknown proxy configuration'));\n      };\n    }\n  }, {\n    key: \"_convertDataImages\",\n    value: function _convertDataImages(mail, callback) {\n      if (!this.options.attachDataUrls && !mail.data.attachDataUrls || !mail.data.html) {\n        return callback();\n      }\n\n      mail.resolveContent(mail.data, 'html', function (err, html) {\n        if (err) {\n          return callback(err);\n        }\n\n        var cidCounter = 0;\n        html = (html || '').toString().replace(/(<img\\b[^>]* src\\s*=[\\s\"']*)(data:([^;]+);[^\"'>\\s]+)/gi, function (match, prefix, dataUri, mimeType) {\n          var cid = crypto.randomBytes(10).toString('hex') + '@localhost';\n\n          if (!mail.data.attachments) {\n            mail.data.attachments = [];\n          }\n\n          if (!Array.isArray(mail.data.attachments)) {\n            mail.data.attachments = [].concat(mail.data.attachments || []);\n          }\n\n          mail.data.attachments.push({\n            path: dataUri,\n            cid: cid,\n            filename: 'image-' + ++cidCounter + '.' + mimeTypes.detectExtension(mimeType)\n          });\n          return prefix + 'cid:' + cid;\n        });\n        mail.data.html = html;\n        callback();\n      });\n    }\n  }, {\n    key: \"set\",\n    value: function set(key, value) {\n      return this.meta.set(key, value);\n    }\n  }, {\n    key: \"get\",\n    value: function get(key) {\n      return this.meta.get(key);\n    }\n  }]);\n\n  return Mail;\n}(EventEmitter);\n\nmodule.exports = Mail;","'use strict';\n\nvar _toConsumableArray = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/toConsumableArray.js\");\n\nvar _classCallCheck = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/classCallCheck.js\");\n\nvar _createClass = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/createClass.js\");\n\nvar shared = require('../shared');\n\nvar MimeNode = require('../mime-node');\n\nvar mimeFuncs = require('../mime-funcs');\n\nvar MailMessage = /*#__PURE__*/function () {\n  function MailMessage(mailer, data) {\n    var _this = this;\n\n    _classCallCheck(this, MailMessage);\n\n    this.mailer = mailer;\n    this.data = {};\n    this.message = null;\n    data = data || {};\n    var options = mailer.options || {};\n    var defaults = mailer._defaults || {};\n    Object.keys(data).forEach(function (key) {\n      _this.data[key] = data[key];\n    });\n    this.data.headers = this.data.headers || {}; // apply defaults\n\n    Object.keys(defaults).forEach(function (key) {\n      if (!(key in _this.data)) {\n        _this.data[key] = defaults[key];\n      } else if (key === 'headers') {\n        // headers is a special case. Allow setting individual default headers\n        Object.keys(defaults.headers).forEach(function (key) {\n          if (!(key in _this.data.headers)) {\n            _this.data.headers[key] = defaults.headers[key];\n          }\n        });\n      }\n    }); // force specific keys from transporter options\n\n    ['disableFileAccess', 'disableUrlAccess', 'normalizeHeaderKey'].forEach(function (key) {\n      if (key in options) {\n        _this.data[key] = options[key];\n      }\n    });\n  }\n\n  _createClass(MailMessage, [{\n    key: \"resolveContent\",\n    value: function resolveContent() {\n      return shared.resolveContent.apply(shared, arguments);\n    }\n  }, {\n    key: \"resolveAll\",\n    value: function resolveAll(callback) {\n      var _this2 = this;\n\n      var keys = [[this.data, 'html'], [this.data, 'text'], [this.data, 'watchHtml'], [this.data, 'amp'], [this.data, 'icalEvent']];\n\n      if (this.data.alternatives && this.data.alternatives.length) {\n        this.data.alternatives.forEach(function (alternative, i) {\n          keys.push([_this2.data.alternatives, i]);\n        });\n      }\n\n      if (this.data.attachments && this.data.attachments.length) {\n        this.data.attachments.forEach(function (attachment, i) {\n          if (!attachment.filename) {\n            attachment.filename = (attachment.path || attachment.href || '').split('/').pop().split('?').shift() || 'attachment-' + (i + 1);\n\n            if (attachment.filename.indexOf('.') < 0) {\n              attachment.filename += '.' + mimeFuncs.detectExtension(attachment.contentType);\n            }\n          }\n\n          if (!attachment.contentType) {\n            attachment.contentType = mimeFuncs.detectMimeType(attachment.filename || attachment.path || attachment.href || 'bin');\n          }\n\n          keys.push([_this2.data.attachments, i]);\n        });\n      }\n\n      var mimeNode = new MimeNode();\n      var addressKeys = ['from', 'to', 'cc', 'bcc', 'sender', 'replyTo'];\n      addressKeys.forEach(function (address) {\n        var value;\n\n        if (_this2.message) {\n          value = [].concat(mimeNode._parseAddresses(_this2.message.getHeader(address === 'replyTo' ? 'reply-to' : address)) || []);\n        } else if (_this2.data[address]) {\n          value = [].concat(mimeNode._parseAddresses(_this2.data[address]) || []);\n        }\n\n        if (value && value.length) {\n          _this2.data[address] = value;\n        } else if (address in _this2.data) {\n          _this2.data[address] = null;\n        }\n      });\n      var singleKeys = ['from', 'sender'];\n      singleKeys.forEach(function (address) {\n        if (_this2.data[address]) {\n          _this2.data[address] = _this2.data[address].shift();\n        }\n      });\n      var pos = 0;\n\n      var resolveNext = function resolveNext() {\n        if (pos >= keys.length) {\n          return callback(null, _this2.data);\n        }\n\n        var args = keys[pos++];\n\n        if (!args[0] || !args[0][args[1]]) {\n          return resolveNext();\n        }\n\n        shared.resolveContent.apply(shared, _toConsumableArray(args).concat([function (err, value) {\n          if (err) {\n            return callback(err);\n          }\n\n          var node = {\n            content: value\n          };\n\n          if (args[0][args[1]] && typeof args[0][args[1]] === 'object' && !Buffer.isBuffer(args[0][args[1]])) {\n            Object.keys(args[0][args[1]]).forEach(function (key) {\n              if (!(key in node) && !['content', 'path', 'href', 'raw'].includes(key)) {\n                node[key] = args[0][args[1]][key];\n              }\n            });\n          }\n\n          args[0][args[1]] = node;\n          resolveNext();\n        }]));\n      };\n\n      setImmediate(function () {\n        return resolveNext();\n      });\n    }\n  }, {\n    key: \"normalize\",\n    value: function normalize(callback) {\n      var _this3 = this;\n\n      var envelope = this.data.envelope || this.message.getEnvelope();\n      var messageId = this.message.messageId();\n      this.resolveAll(function (err, data) {\n        if (err) {\n          return callback(err);\n        }\n\n        data.envelope = envelope;\n        data.messageId = messageId;\n        ['html', 'text', 'watchHtml', 'amp'].forEach(function (key) {\n          if (data[key] && data[key].content) {\n            if (typeof data[key].content === 'string') {\n              data[key] = data[key].content;\n            } else if (Buffer.isBuffer(data[key].content)) {\n              data[key] = data[key].content.toString();\n            }\n          }\n        });\n\n        if (data.icalEvent && Buffer.isBuffer(data.icalEvent.content)) {\n          data.icalEvent.content = data.icalEvent.content.toString('base64');\n          data.icalEvent.encoding = 'base64';\n        }\n\n        if (data.alternatives && data.alternatives.length) {\n          data.alternatives.forEach(function (alternative) {\n            if (alternative && alternative.content && Buffer.isBuffer(alternative.content)) {\n              alternative.content = alternative.content.toString('base64');\n              alternative.encoding = 'base64';\n            }\n          });\n        }\n\n        if (data.attachments && data.attachments.length) {\n          data.attachments.forEach(function (attachment) {\n            if (attachment && attachment.content && Buffer.isBuffer(attachment.content)) {\n              attachment.content = attachment.content.toString('base64');\n              attachment.encoding = 'base64';\n            }\n          });\n        }\n\n        data.normalizedHeaders = {};\n        Object.keys(data.headers || {}).forEach(function (key) {\n          var value = [].concat(data.headers[key] || []).shift();\n          value = value && value.value || value;\n\n          if (value) {\n            if (['references', 'in-reply-to', 'message-id', 'content-id'].includes(key)) {\n              value = _this3.message._encodeHeaderValue(key, value);\n            }\n\n            data.normalizedHeaders[key] = value;\n          }\n        });\n\n        if (data.list && typeof data.list === 'object') {\n          var listHeaders = _this3._getListHeaders(data.list);\n\n          listHeaders.forEach(function (entry) {\n            data.normalizedHeaders[entry.key] = entry.value.map(function (val) {\n              return val && val.value || val;\n            }).join(', ');\n          });\n        }\n\n        if (data.references) {\n          data.normalizedHeaders.references = _this3.message._encodeHeaderValue('references', data.references);\n        }\n\n        if (data.inReplyTo) {\n          data.normalizedHeaders['in-reply-to'] = _this3.message._encodeHeaderValue('in-reply-to', data.inReplyTo);\n        }\n\n        return callback(null, data);\n      });\n    }\n  }, {\n    key: \"setMailerHeader\",\n    value: function setMailerHeader() {\n      if (!this.message || !this.data.xMailer) {\n        return;\n      }\n\n      this.message.setHeader('X-Mailer', this.data.xMailer);\n    }\n  }, {\n    key: \"setPriorityHeaders\",\n    value: function setPriorityHeaders() {\n      if (!this.message || !this.data.priority) {\n        return;\n      }\n\n      switch ((this.data.priority || '').toString().toLowerCase()) {\n        case 'high':\n          this.message.setHeader('X-Priority', '1 (Highest)');\n          this.message.setHeader('X-MSMail-Priority', 'High');\n          this.message.setHeader('Importance', 'High');\n          break;\n\n        case 'low':\n          this.message.setHeader('X-Priority', '5 (Lowest)');\n          this.message.setHeader('X-MSMail-Priority', 'Low');\n          this.message.setHeader('Importance', 'Low');\n          break;\n\n        default: // do not add anything, since all messages are 'Normal' by default\n\n      }\n    }\n  }, {\n    key: \"setListHeaders\",\n    value: function setListHeaders() {\n      var _this4 = this;\n\n      if (!this.message || !this.data.list || typeof this.data.list !== 'object') {\n        return;\n      } // add optional List-* headers\n\n\n      if (this.data.list && typeof this.data.list === 'object') {\n        this._getListHeaders(this.data.list).forEach(function (listHeader) {\n          listHeader.value.forEach(function (value) {\n            _this4.message.addHeader(listHeader.key, value);\n          });\n        });\n      }\n    }\n  }, {\n    key: \"_getListHeaders\",\n    value: function _getListHeaders(listData) {\n      var _this5 = this;\n\n      // make sure an url looks like <protocol:url>\n      return Object.keys(listData).map(function (key) {\n        return {\n          key: 'list-' + key.toLowerCase().trim(),\n          value: [].concat(listData[key] || []).map(function (value) {\n            return {\n              prepared: true,\n              foldLines: true,\n              value: [].concat(value || []).map(function (value) {\n                if (typeof value === 'string') {\n                  value = {\n                    url: value\n                  };\n                }\n\n                if (value && value.url) {\n                  if (key.toLowerCase().trim() === 'id') {\n                    // List-ID: \"comment\" <domain>\n                    var _comment = value.comment || '';\n\n                    if (mimeFuncs.isPlainText(_comment)) {\n                      _comment = '\"' + _comment + '\"';\n                    } else {\n                      _comment = mimeFuncs.encodeWord(_comment);\n                    }\n\n                    return (value.comment ? _comment + ' ' : '') + _this5._formatListUrl(value.url).replace(/^<[^:]+\\/{,2}/, '');\n                  } // List-*: <http://domain> (comment)\n\n\n                  var comment = value.comment || '';\n\n                  if (!mimeFuncs.isPlainText(comment)) {\n                    comment = mimeFuncs.encodeWord(comment);\n                  }\n\n                  return _this5._formatListUrl(value.url) + (value.comment ? ' (' + comment + ')' : '');\n                }\n\n                return '';\n              }).filter(function (value) {\n                return value;\n              }).join(', ')\n            };\n          })\n        };\n      });\n    }\n  }, {\n    key: \"_formatListUrl\",\n    value: function _formatListUrl(url) {\n      url = url.replace(/[\\s<]+|[\\s>]+/g, '');\n\n      if (/^(https?|mailto|ftp):/.test(url)) {\n        return '<' + url + '>';\n      }\n\n      if (/^[^@]+@[^@]+$/.test(url)) {\n        return '<mailto:' + url + '>';\n      }\n\n      return '<http://' + url + '>';\n    }\n  }]);\n\n  return MailMessage;\n}();\n\nmodule.exports = MailMessage;","/* eslint no-control-regex:0 */\n'use strict';\n\nvar base64 = require('../base64');\n\nvar qp = require('../qp');\n\nvar mimeTypes = require('./mime-types');\n\nmodule.exports = {\n  /**\n   * Checks if a value is plaintext string (uses only printable 7bit chars)\n   *\n   * @param {String} value String to be tested\n   * @returns {Boolean} true if it is a plaintext string\n   */\n  isPlainText: function isPlainText(value, isParam) {\n    var re = isParam ? /[\\x00-\\x08\\x0b\\x0c\\x0e-\\x1f\"\\u0080-\\uFFFF]/ : /[\\x00-\\x08\\x0b\\x0c\\x0e-\\x1f\\u0080-\\uFFFF]/;\n\n    if (typeof value !== 'string' || re.test(value)) {\n      return false;\n    } else {\n      return true;\n    }\n  },\n\n  /**\n   * Checks if a multi line string containes lines longer than the selected value.\n   *\n   * Useful when detecting if a mail message needs any processing at all \n   * if only plaintext characters are used and lines are short, then there is\n   * no need to encode the values in any way. If the value is plaintext but has\n   * longer lines then allowed, then use format=flowed\n   *\n   * @param {Number} lineLength Max line length to check for\n   * @returns {Boolean} Returns true if there is at least one line longer than lineLength chars\n   */\n  hasLongerLines: function hasLongerLines(str, lineLength) {\n    if (str.length > 128 * 1024) {\n      // do not test strings longer than 128kB\n      return true;\n    }\n\n    return new RegExp('^.{' + (lineLength + 1) + ',}', 'm').test(str);\n  },\n\n  /**\n   * Encodes a string or an Buffer to an UTF-8 MIME Word (rfc2047)\n   *\n   * @param {String|Buffer} data String to be encoded\n   * @param {String} mimeWordEncoding='Q' Encoding for the mime word, either Q or B\n   * @param {Number} [maxLength=0] If set, split mime words into several chunks if needed\n   * @return {String} Single or several mime words joined together\n   */\n  encodeWord: function encodeWord(data, mimeWordEncoding, maxLength) {\n    mimeWordEncoding = (mimeWordEncoding || 'Q').toString().toUpperCase().trim().charAt(0);\n    maxLength = maxLength || 0;\n    var encodedStr;\n    var toCharset = 'UTF-8';\n\n    if (maxLength && maxLength > 7 + toCharset.length) {\n      maxLength -= 7 + toCharset.length;\n    }\n\n    if (mimeWordEncoding === 'Q') {\n      // https://tools.ietf.org/html/rfc2047#section-5 rule (3)\n      encodedStr = qp.encode(data).replace(/[^a-z0-9!*+\\-/=]/gi, function (chr) {\n        var ord = chr.charCodeAt(0).toString(16).toUpperCase();\n\n        if (chr === ' ') {\n          return '_';\n        } else {\n          return '=' + (ord.length === 1 ? '0' + ord : ord);\n        }\n      });\n    } else if (mimeWordEncoding === 'B') {\n      encodedStr = typeof data === 'string' ? data : base64.encode(data);\n      maxLength = maxLength ? Math.max(3, (maxLength - maxLength % 4) / 4 * 3) : 0;\n    }\n\n    if (maxLength && (mimeWordEncoding !== 'B' ? encodedStr : base64.encode(data)).length > maxLength) {\n      if (mimeWordEncoding === 'Q') {\n        encodedStr = this.splitMimeEncodedString(encodedStr, maxLength).join('?= =?' + toCharset + '?' + mimeWordEncoding + '?');\n      } else {\n        // RFC2047 6.3 (2) states that encoded-word must include an integral number of characters, so no chopping unicode sequences\n        var parts = [];\n        var lpart = '';\n\n        for (var i = 0, len = encodedStr.length; i < len; i++) {\n          var chr = encodedStr.charAt(i); // check if we can add this character to the existing string\n          // without breaking byte length limit\n\n          if (Buffer.byteLength(lpart + chr) <= maxLength || i === 0) {\n            lpart += chr;\n          } else {\n            // we hit the length limit, so push the existing string and start over\n            parts.push(base64.encode(lpart));\n            lpart = chr;\n          }\n        }\n\n        if (lpart) {\n          parts.push(base64.encode(lpart));\n        }\n\n        if (parts.length > 1) {\n          encodedStr = parts.join('?= =?' + toCharset + '?' + mimeWordEncoding + '?');\n        } else {\n          encodedStr = parts.join('');\n        }\n      }\n    } else if (mimeWordEncoding === 'B') {\n      encodedStr = base64.encode(data);\n    }\n\n    return '=?' + toCharset + '?' + mimeWordEncoding + '?' + encodedStr + (encodedStr.substr(-2) === '?=' ? '' : '?=');\n  },\n\n  /**\n   * Finds word sequences with non ascii text and converts these to mime words\n   *\n   * @param {String} value String to be encoded\n   * @param {String} mimeWordEncoding='Q' Encoding for the mime word, either Q or B\n   * @param {Number} [maxLength=0] If set, split mime words into several chunks if needed\n   * @param {Boolean} [encodeAll=false] If true and the value needs encoding then encodes entire string, not just the smallest match\n   * @return {String} String with possible mime words\n   */\n  encodeWords: function encodeWords(value, mimeWordEncoding, maxLength, encodeAll) {\n    maxLength = maxLength || 0;\n    var encodedValue; // find first word with a non-printable ascii or special symbol in it\n\n    var firstMatch = value.match(/(?:^|\\s)([^\\s]*[\"\\u0080-\\uFFFF])/);\n\n    if (!firstMatch) {\n      return value;\n    }\n\n    if (encodeAll) {\n      // if it is requested to encode everything or the string contains something that resebles encoded word, then encode everything\n      return this.encodeWord(value, mimeWordEncoding, maxLength);\n    } // find the last word with a non-printable ascii in it\n\n\n    var lastMatch = value.match(/([\"\\u0080-\\uFFFF][^\\s]*)[^\"\\u0080-\\uFFFF]*$/);\n\n    if (!lastMatch) {\n      // should not happen\n      return value;\n    }\n\n    var startIndex = firstMatch.index + (firstMatch[0].match(/[^\\s]/) || {\n      index: 0\n    }).index;\n    var endIndex = lastMatch.index + (lastMatch[1] || '').length;\n    encodedValue = (startIndex ? value.substr(0, startIndex) : '') + this.encodeWord(value.substring(startIndex, endIndex), mimeWordEncoding || 'Q', maxLength) + (endIndex < value.length ? value.substr(endIndex) : '');\n    return encodedValue;\n  },\n\n  /**\n   * Joins parsed header value together as 'value; param1=value1; param2=value2'\n   * PS: We are following RFC 822 for the list of special characters that we need to keep in quotes.\n   *      Refer: https://www.w3.org/Protocols/rfc1341/4_Content-Type.html\n   * @param {Object} structured Parsed header value\n   * @return {String} joined header value\n   */\n  buildHeaderValue: function buildHeaderValue(structured) {\n    var _this = this;\n\n    var paramsArray = [];\n    Object.keys(structured.params || {}).forEach(function (param) {\n      // filename might include unicode characters so it is a special case\n      // other values probably do not\n      var value = structured.params[param];\n\n      if (!_this.isPlainText(value, true) || value.length >= 75) {\n        _this.buildHeaderParam(param, value, 50).forEach(function (encodedParam) {\n          if (!/[\\s\"\\\\;:/=(),<>@[\\]?]|^[-']|'$/.test(encodedParam.value) || encodedParam.key.substr(-1) === '*') {\n            paramsArray.push(encodedParam.key + '=' + encodedParam.value);\n          } else {\n            paramsArray.push(encodedParam.key + '=' + JSON.stringify(encodedParam.value));\n          }\n        });\n      } else if (/[\\s'\"\\\\;:/=(),<>@[\\]?]|^-/.test(value)) {\n        paramsArray.push(param + '=' + JSON.stringify(value));\n      } else {\n        paramsArray.push(param + '=' + value);\n      }\n    });\n    return structured.value + (paramsArray.length ? '; ' + paramsArray.join('; ') : '');\n  },\n\n  /**\n   * Encodes a string or an Buffer to an UTF-8 Parameter Value Continuation encoding (rfc2231)\n   * Useful for splitting long parameter values.\n   *\n   * For example\n   *      title=\"unicode string\"\n   * becomes\n   *     title*0*=utf-8''unicode\n   *     title*1*=%20string\n   *\n   * @param {String|Buffer} data String to be encoded\n   * @param {Number} [maxLength=50] Max length for generated chunks\n   * @param {String} [fromCharset='UTF-8'] Source sharacter set\n   * @return {Array} A list of encoded keys and headers\n   */\n  buildHeaderParam: function buildHeaderParam(key, data, maxLength) {\n    var list = [];\n    var encodedStr = typeof data === 'string' ? data : (data || '').toString();\n    var encodedStrArr;\n    var chr, ord;\n    var line;\n    var startPos = 0;\n    var i, len;\n    maxLength = maxLength || 50; // process ascii only text\n\n    if (this.isPlainText(data, true)) {\n      // check if conversion is even needed\n      if (encodedStr.length <= maxLength) {\n        return [{\n          key: key,\n          value: encodedStr\n        }];\n      }\n\n      encodedStr = encodedStr.replace(new RegExp('.{' + maxLength + '}', 'g'), function (str) {\n        list.push({\n          line: str\n        });\n        return '';\n      });\n\n      if (encodedStr) {\n        list.push({\n          line: encodedStr\n        });\n      }\n    } else {\n      if (/[\\uD800-\\uDBFF]/.test(encodedStr)) {\n        // string containts surrogate pairs, so normalize it to an array of bytes\n        encodedStrArr = [];\n\n        for (i = 0, len = encodedStr.length; i < len; i++) {\n          chr = encodedStr.charAt(i);\n          ord = chr.charCodeAt(0);\n\n          if (ord >= 0xd800 && ord <= 0xdbff && i < len - 1) {\n            chr += encodedStr.charAt(i + 1);\n            encodedStrArr.push(chr);\n            i++;\n          } else {\n            encodedStrArr.push(chr);\n          }\n        }\n\n        encodedStr = encodedStrArr;\n      } // first line includes the charset and language info and needs to be encoded\n      // even if it does not contain any unicode characters\n\n\n      line = 'utf-8\\x27\\x27';\n      var encoded = true;\n      startPos = 0; // process text with unicode or special chars\n\n      for (i = 0, len = encodedStr.length; i < len; i++) {\n        chr = encodedStr[i];\n\n        if (encoded) {\n          chr = this.safeEncodeURIComponent(chr);\n        } else {\n          // try to urlencode current char\n          chr = chr === ' ' ? chr : this.safeEncodeURIComponent(chr); // By default it is not required to encode a line, the need\n          // only appears when the string contains unicode or special chars\n          // in this case we start processing the line over and encode all chars\n\n          if (chr !== encodedStr[i]) {\n            // Check if it is even possible to add the encoded char to the line\n            // If not, there is no reason to use this line, just push it to the list\n            // and start a new line with the char that needs encoding\n            if ((this.safeEncodeURIComponent(line) + chr).length >= maxLength) {\n              list.push({\n                line: line,\n                encoded: encoded\n              });\n              line = '';\n              startPos = i - 1;\n            } else {\n              encoded = true;\n              i = startPos;\n              line = '';\n              continue;\n            }\n          }\n        } // if the line is already too long, push it to the list and start a new one\n\n\n        if ((line + chr).length >= maxLength) {\n          list.push({\n            line: line,\n            encoded: encoded\n          });\n          line = chr = encodedStr[i] === ' ' ? ' ' : this.safeEncodeURIComponent(encodedStr[i]);\n\n          if (chr === encodedStr[i]) {\n            encoded = false;\n            startPos = i - 1;\n          } else {\n            encoded = true;\n          }\n        } else {\n          line += chr;\n        }\n      }\n\n      if (line) {\n        list.push({\n          line: line,\n          encoded: encoded\n        });\n      }\n    }\n\n    return list.map(function (item, i) {\n      return {\n        // encoded lines: {name}*{part}*\n        // unencoded lines: {name}*{part}\n        // if any line needs to be encoded then the first line (part==0) is always encoded\n        key: key + '*' + i + (item.encoded ? '*' : ''),\n        value: item.line\n      };\n    });\n  },\n\n  /**\n   * Parses a header value with key=value arguments into a structured\n   * object.\n   *\n   *   parseHeaderValue('content-type: text/plain; CHARSET='UTF-8'') ->\n   *   {\n   *     'value': 'text/plain',\n   *     'params': {\n   *       'charset': 'UTF-8'\n   *     }\n   *   }\n   *\n   * @param {String} str Header value\n   * @return {Object} Header value as a parsed structure\n   */\n  parseHeaderValue: function parseHeaderValue(str) {\n    var response = {\n      value: false,\n      params: {}\n    };\n    var key = false;\n    var value = '';\n    var type = 'value';\n    var quote = false;\n    var escaped = false;\n    var chr;\n\n    for (var i = 0, len = str.length; i < len; i++) {\n      chr = str.charAt(i);\n\n      if (type === 'key') {\n        if (chr === '=') {\n          key = value.trim().toLowerCase();\n          type = 'value';\n          value = '';\n          continue;\n        }\n\n        value += chr;\n      } else {\n        if (escaped) {\n          value += chr;\n        } else if (chr === '\\\\') {\n          escaped = true;\n          continue;\n        } else if (quote && chr === quote) {\n          quote = false;\n        } else if (!quote && chr === '\"') {\n          quote = chr;\n        } else if (!quote && chr === ';') {\n          if (key === false) {\n            response.value = value.trim();\n          } else {\n            response.params[key] = value.trim();\n          }\n\n          type = 'key';\n          value = '';\n        } else {\n          value += chr;\n        }\n\n        escaped = false;\n      }\n    }\n\n    if (type === 'value') {\n      if (key === false) {\n        response.value = value.trim();\n      } else {\n        response.params[key] = value.trim();\n      }\n    } else if (value.trim()) {\n      response.params[value.trim().toLowerCase()] = '';\n    } // handle parameter value continuations\n    // https://tools.ietf.org/html/rfc2231#section-3\n    // preprocess values\n\n\n    Object.keys(response.params).forEach(function (key) {\n      var actualKey, nr, match, value;\n\n      if (match = key.match(/(\\*(\\d+)|\\*(\\d+)\\*|\\*)$/)) {\n        actualKey = key.substr(0, match.index);\n        nr = Number(match[2] || match[3]) || 0;\n\n        if (!response.params[actualKey] || typeof response.params[actualKey] !== 'object') {\n          response.params[actualKey] = {\n            charset: false,\n            values: []\n          };\n        }\n\n        value = response.params[key];\n\n        if (nr === 0 && match[0].substr(-1) === '*' && (match = value.match(/^([^']*)'[^']*'(.*)$/))) {\n          response.params[actualKey].charset = match[1] || 'iso-8859-1';\n          value = match[2];\n        }\n\n        response.params[actualKey].values[nr] = value; // remove the old reference\n\n        delete response.params[key];\n      }\n    }); // concatenate split rfc2231 strings and convert encoded strings to mime encoded words\n\n    Object.keys(response.params).forEach(function (key) {\n      var value;\n\n      if (response.params[key] && Array.isArray(response.params[key].values)) {\n        value = response.params[key].values.map(function (val) {\n          return val || '';\n        }).join('');\n\n        if (response.params[key].charset) {\n          // convert \"%AB\" to \"=?charset?Q?=AB?=\"\n          response.params[key] = '=?' + response.params[key].charset + '?Q?' + value // fix invalidly encoded chars\n          .replace(/[=?_\\s]/g, function (s) {\n            var c = s.charCodeAt(0).toString(16);\n\n            if (s === ' ') {\n              return '_';\n            } else {\n              return '%' + (c.length < 2 ? '0' : '') + c;\n            }\n          }) // change from urlencoding to percent encoding\n          .replace(/%/g, '=') + '?=';\n        } else {\n          response.params[key] = value;\n        }\n      }\n    });\n    return response;\n  },\n\n  /**\n   * Returns file extension for a content type string. If no suitable extensions\n   * are found, 'bin' is used as the default extension\n   *\n   * @param {String} mimeType Content type to be checked for\n   * @return {String} File extension\n   */\n  detectExtension: function detectExtension(mimeType) {\n    return mimeTypes.detectExtension(mimeType);\n  },\n\n  /**\n   * Returns content type for a file extension. If no suitable content types\n   * are found, 'application/octet-stream' is used as the default content type\n   *\n   * @param {String} extension Extension to be checked for\n   * @return {String} File extension\n   */\n  detectMimeType: function detectMimeType(extension) {\n    return mimeTypes.detectMimeType(extension);\n  },\n\n  /**\n   * Folds long lines, useful for folding header lines (afterSpace=false) and\n   * flowed text (afterSpace=true)\n   *\n   * @param {String} str String to be folded\n   * @param {Number} [lineLength=76] Maximum length of a line\n   * @param {Boolean} afterSpace If true, leave a space in th end of a line\n   * @return {String} String with folded lines\n   */\n  foldLines: function foldLines(str, lineLength, afterSpace) {\n    str = (str || '').toString();\n    lineLength = lineLength || 76;\n    var pos = 0,\n        len = str.length,\n        result = '',\n        line,\n        match;\n\n    while (pos < len) {\n      line = str.substr(pos, lineLength);\n\n      if (line.length < lineLength) {\n        result += line;\n        break;\n      }\n\n      if (match = line.match(/^[^\\n\\r]*(\\r?\\n|\\r)/)) {\n        line = match[0];\n        result += line;\n        pos += line.length;\n        continue;\n      } else if ((match = line.match(/(\\s+)[^\\s]*$/)) && match[0].length - (afterSpace ? (match[1] || '').length : 0) < line.length) {\n        line = line.substr(0, line.length - (match[0].length - (afterSpace ? (match[1] || '').length : 0)));\n      } else if (match = str.substr(pos + line.length).match(/^[^\\s]+(\\s*)/)) {\n        line = line + match[0].substr(0, match[0].length - (!afterSpace ? (match[1] || '').length : 0));\n      }\n\n      result += line;\n      pos += line.length;\n\n      if (pos < len) {\n        result += '\\r\\n';\n      }\n    }\n\n    return result;\n  },\n\n  /**\n   * Splits a mime encoded string. Needed for dividing mime words into smaller chunks\n   *\n   * @param {String} str Mime encoded string to be split up\n   * @param {Number} maxlen Maximum length of characters for one part (minimum 12)\n   * @return {Array} Split string\n   */\n  splitMimeEncodedString: function splitMimeEncodedString(str, maxlen) {\n    var curLine,\n        match,\n        chr,\n        done,\n        lines = []; // require at least 12 symbols to fit possible 4 octet UTF-8 sequences\n\n    maxlen = Math.max(maxlen || 0, 12);\n\n    while (str.length) {\n      curLine = str.substr(0, maxlen); // move incomplete escaped char back to main\n\n      if (match = curLine.match(/[=][0-9A-F]?$/i)) {\n        curLine = curLine.substr(0, match.index);\n      }\n\n      done = false;\n\n      while (!done) {\n        done = true; // check if not middle of a unicode char sequence\n\n        if (match = str.substr(curLine.length).match(/^[=]([0-9A-F]{2})/i)) {\n          chr = parseInt(match[1], 16); // invalid sequence, move one char back anc recheck\n\n          if (chr < 0xc2 && chr > 0x7f) {\n            curLine = curLine.substr(0, curLine.length - 3);\n            done = false;\n          }\n        }\n      }\n\n      if (curLine.length) {\n        lines.push(curLine);\n      }\n\n      str = str.substr(curLine.length);\n    }\n\n    return lines;\n  },\n  encodeURICharComponent: function encodeURICharComponent(chr) {\n    var res = '';\n    var ord = chr.charCodeAt(0).toString(16).toUpperCase();\n\n    if (ord.length % 2) {\n      ord = '0' + ord;\n    }\n\n    if (ord.length > 2) {\n      for (var i = 0, len = ord.length / 2; i < len; i++) {\n        res += '%' + ord.substr(i, 2);\n      }\n    } else {\n      res += '%' + ord;\n    }\n\n    return res;\n  },\n  safeEncodeURIComponent: function safeEncodeURIComponent(str) {\n    var _this2 = this;\n\n    str = (str || '').toString();\n\n    try {\n      // might throw if we try to encode invalid sequences, eg. partial emoji\n      str = encodeURIComponent(str);\n    } catch (E) {\n      // should never run\n      return str.replace(/[^\\x00-\\x1F *'()<>@,;:\\\\\"[\\]?=\\u007F-\\uFFFF]+/g, '');\n    } // ensure chars that are not handled by encodeURICompent are converted as well\n\n\n    return str.replace(/[\\x00-\\x1F *'()<>@,;:\\\\\"[\\]?=\\u007F-\\uFFFF]/g, function (chr) {\n      return _this2.encodeURICharComponent(chr);\n    });\n  }\n};","/* eslint quote-props: 0 */\n'use strict';\n\nvar path = require('path');\n\nvar defaultMimeType = 'application/octet-stream';\nvar defaultExtension = 'bin';\nvar mimeTypes = new Map([['application/acad', 'dwg'], ['application/applixware', 'aw'], ['application/arj', 'arj'], ['application/atom+xml', 'xml'], ['application/atomcat+xml', 'atomcat'], ['application/atomsvc+xml', 'atomsvc'], ['application/base64', ['mm', 'mme']], ['application/binhex', 'hqx'], ['application/binhex4', 'hqx'], ['application/book', ['book', 'boo']], ['application/ccxml+xml,', 'ccxml'], ['application/cdf', 'cdf'], ['application/cdmi-capability', 'cdmia'], ['application/cdmi-container', 'cdmic'], ['application/cdmi-domain', 'cdmid'], ['application/cdmi-object', 'cdmio'], ['application/cdmi-queue', 'cdmiq'], ['application/clariscad', 'ccad'], ['application/commonground', 'dp'], ['application/cu-seeme', 'cu'], ['application/davmount+xml', 'davmount'], ['application/drafting', 'drw'], ['application/dsptype', 'tsp'], ['application/dssc+der', 'dssc'], ['application/dssc+xml', 'xdssc'], ['application/dxf', 'dxf'], ['application/ecmascript', ['js', 'es']], ['application/emma+xml', 'emma'], ['application/envoy', 'evy'], ['application/epub+zip', 'epub'], ['application/excel', ['xls', 'xl', 'xla', 'xlb', 'xlc', 'xld', 'xlk', 'xll', 'xlm', 'xlt', 'xlv', 'xlw']], ['application/exi', 'exi'], ['application/font-tdpfr', 'pfr'], ['application/fractals', 'fif'], ['application/freeloader', 'frl'], ['application/futuresplash', 'spl'], ['application/gnutar', 'tgz'], ['application/groupwise', 'vew'], ['application/hlp', 'hlp'], ['application/hta', 'hta'], ['application/hyperstudio', 'stk'], ['application/i-deas', 'unv'], ['application/iges', ['iges', 'igs']], ['application/inf', 'inf'], ['application/internet-property-stream', 'acx'], ['application/ipfix', 'ipfix'], ['application/java', 'class'], ['application/java-archive', 'jar'], ['application/java-byte-code', 'class'], ['application/java-serialized-object', 'ser'], ['application/java-vm', 'class'], ['application/javascript', 'js'], ['application/json', 'json'], ['application/lha', 'lha'], ['application/lzx', 'lzx'], ['application/mac-binary', 'bin'], ['application/mac-binhex', 'hqx'], ['application/mac-binhex40', 'hqx'], ['application/mac-compactpro', 'cpt'], ['application/macbinary', 'bin'], ['application/mads+xml', 'mads'], ['application/marc', 'mrc'], ['application/marcxml+xml', 'mrcx'], ['application/mathematica', 'ma'], ['application/mathml+xml', 'mathml'], ['application/mbedlet', 'mbd'], ['application/mbox', 'mbox'], ['application/mcad', 'mcd'], ['application/mediaservercontrol+xml', 'mscml'], ['application/metalink4+xml', 'meta4'], ['application/mets+xml', 'mets'], ['application/mime', 'aps'], ['application/mods+xml', 'mods'], ['application/mp21', 'm21'], ['application/mp4', 'mp4'], ['application/mspowerpoint', ['ppt', 'pot', 'pps', 'ppz']], ['application/msword', ['doc', 'dot', 'w6w', 'wiz', 'word']], ['application/mswrite', 'wri'], ['application/mxf', 'mxf'], ['application/netmc', 'mcp'], ['application/octet-stream', ['*']], ['application/oda', 'oda'], ['application/oebps-package+xml', 'opf'], ['application/ogg', 'ogx'], ['application/olescript', 'axs'], ['application/onenote', 'onetoc'], ['application/patch-ops-error+xml', 'xer'], ['application/pdf', 'pdf'], ['application/pgp-encrypted', 'asc'], ['application/pgp-signature', 'pgp'], ['application/pics-rules', 'prf'], ['application/pkcs-12', 'p12'], ['application/pkcs-crl', 'crl'], ['application/pkcs10', 'p10'], ['application/pkcs7-mime', ['p7c', 'p7m']], ['application/pkcs7-signature', 'p7s'], ['application/pkcs8', 'p8'], ['application/pkix-attr-cert', 'ac'], ['application/pkix-cert', ['cer', 'crt']], ['application/pkix-crl', 'crl'], ['application/pkix-pkipath', 'pkipath'], ['application/pkixcmp', 'pki'], ['application/plain', 'text'], ['application/pls+xml', 'pls'], ['application/postscript', ['ps', 'ai', 'eps']], ['application/powerpoint', 'ppt'], ['application/pro_eng', ['part', 'prt']], ['application/prs.cww', 'cww'], ['application/pskc+xml', 'pskcxml'], ['application/rdf+xml', 'rdf'], ['application/reginfo+xml', 'rif'], ['application/relax-ng-compact-syntax', 'rnc'], ['application/resource-lists+xml', 'rl'], ['application/resource-lists-diff+xml', 'rld'], ['application/ringing-tones', 'rng'], ['application/rls-services+xml', 'rs'], ['application/rsd+xml', 'rsd'], ['application/rss+xml', 'xml'], ['application/rtf', ['rtf', 'rtx']], ['application/sbml+xml', 'sbml'], ['application/scvp-cv-request', 'scq'], ['application/scvp-cv-response', 'scs'], ['application/scvp-vp-request', 'spq'], ['application/scvp-vp-response', 'spp'], ['application/sdp', 'sdp'], ['application/sea', 'sea'], ['application/set', 'set'], ['application/set-payment-initiation', 'setpay'], ['application/set-registration-initiation', 'setreg'], ['application/shf+xml', 'shf'], ['application/sla', 'stl'], ['application/smil', ['smi', 'smil']], ['application/smil+xml', 'smi'], ['application/solids', 'sol'], ['application/sounder', 'sdr'], ['application/sparql-query', 'rq'], ['application/sparql-results+xml', 'srx'], ['application/srgs', 'gram'], ['application/srgs+xml', 'grxml'], ['application/sru+xml', 'sru'], ['application/ssml+xml', 'ssml'], ['application/step', ['step', 'stp']], ['application/streamingmedia', 'ssm'], ['application/tei+xml', 'tei'], ['application/thraud+xml', 'tfi'], ['application/timestamped-data', 'tsd'], ['application/toolbook', 'tbk'], ['application/vda', 'vda'], ['application/vnd.3gpp.pic-bw-large', 'plb'], ['application/vnd.3gpp.pic-bw-small', 'psb'], ['application/vnd.3gpp.pic-bw-var', 'pvb'], ['application/vnd.3gpp2.tcap', 'tcap'], ['application/vnd.3m.post-it-notes', 'pwn'], ['application/vnd.accpac.simply.aso', 'aso'], ['application/vnd.accpac.simply.imp', 'imp'], ['application/vnd.acucobol', 'acu'], ['application/vnd.acucorp', 'atc'], ['application/vnd.adobe.air-application-installer-package+zip', 'air'], ['application/vnd.adobe.fxp', 'fxp'], ['application/vnd.adobe.xdp+xml', 'xdp'], ['application/vnd.adobe.xfdf', 'xfdf'], ['application/vnd.ahead.space', 'ahead'], ['application/vnd.airzip.filesecure.azf', 'azf'], ['application/vnd.airzip.filesecure.azs', 'azs'], ['application/vnd.amazon.ebook', 'azw'], ['application/vnd.americandynamics.acc', 'acc'], ['application/vnd.amiga.ami', 'ami'], ['application/vnd.android.package-archive', 'apk'], ['application/vnd.anser-web-certificate-issue-initiation', 'cii'], ['application/vnd.anser-web-funds-transfer-initiation', 'fti'], ['application/vnd.antix.game-component', 'atx'], ['application/vnd.apple.installer+xml', 'mpkg'], ['application/vnd.apple.mpegurl', 'm3u8'], ['application/vnd.aristanetworks.swi', 'swi'], ['application/vnd.audiograph', 'aep'], ['application/vnd.blueice.multipass', 'mpm'], ['application/vnd.bmi', 'bmi'], ['application/vnd.businessobjects', 'rep'], ['application/vnd.chemdraw+xml', 'cdxml'], ['application/vnd.chipnuts.karaoke-mmd', 'mmd'], ['application/vnd.cinderella', 'cdy'], ['application/vnd.claymore', 'cla'], ['application/vnd.cloanto.rp9', 'rp9'], ['application/vnd.clonk.c4group', 'c4g'], ['application/vnd.cluetrust.cartomobile-config', 'c11amc'], ['application/vnd.cluetrust.cartomobile-config-pkg', 'c11amz'], ['application/vnd.commonspace', 'csp'], ['application/vnd.contact.cmsg', 'cdbcmsg'], ['application/vnd.cosmocaller', 'cmc'], ['application/vnd.crick.clicker', 'clkx'], ['application/vnd.crick.clicker.keyboard', 'clkk'], ['application/vnd.crick.clicker.palette', 'clkp'], ['application/vnd.crick.clicker.template', 'clkt'], ['application/vnd.crick.clicker.wordbank', 'clkw'], ['application/vnd.criticaltools.wbs+xml', 'wbs'], ['application/vnd.ctc-posml', 'pml'], ['application/vnd.cups-ppd', 'ppd'], ['application/vnd.curl.car', 'car'], ['application/vnd.curl.pcurl', 'pcurl'], ['application/vnd.data-vision.rdz', 'rdz'], ['application/vnd.denovo.fcselayout-link', 'fe_launch'], ['application/vnd.dna', 'dna'], ['application/vnd.dolby.mlp', 'mlp'], ['application/vnd.dpgraph', 'dpg'], ['application/vnd.dreamfactory', 'dfac'], ['application/vnd.dvb.ait', 'ait'], ['application/vnd.dvb.service', 'svc'], ['application/vnd.dynageo', 'geo'], ['application/vnd.ecowin.chart', 'mag'], ['application/vnd.enliven', 'nml'], ['application/vnd.epson.esf', 'esf'], ['application/vnd.epson.msf', 'msf'], ['application/vnd.epson.quickanime', 'qam'], ['application/vnd.epson.salt', 'slt'], ['application/vnd.epson.ssf', 'ssf'], ['application/vnd.eszigno3+xml', 'es3'], ['application/vnd.ezpix-album', 'ez2'], ['application/vnd.ezpix-package', 'ez3'], ['application/vnd.fdf', 'fdf'], ['application/vnd.fdsn.seed', 'seed'], ['application/vnd.flographit', 'gph'], ['application/vnd.fluxtime.clip', 'ftc'], ['application/vnd.framemaker', 'fm'], ['application/vnd.frogans.fnc', 'fnc'], ['application/vnd.frogans.ltf', 'ltf'], ['application/vnd.fsc.weblaunch', 'fsc'], ['application/vnd.fujitsu.oasys', 'oas'], ['application/vnd.fujitsu.oasys2', 'oa2'], ['application/vnd.fujitsu.oasys3', 'oa3'], ['application/vnd.fujitsu.oasysgp', 'fg5'], ['application/vnd.fujitsu.oasysprs', 'bh2'], ['application/vnd.fujixerox.ddd', 'ddd'], ['application/vnd.fujixerox.docuworks', 'xdw'], ['application/vnd.fujixerox.docuworks.binder', 'xbd'], ['application/vnd.fuzzysheet', 'fzs'], ['application/vnd.genomatix.tuxedo', 'txd'], ['application/vnd.geogebra.file', 'ggb'], ['application/vnd.geogebra.tool', 'ggt'], ['application/vnd.geometry-explorer', 'gex'], ['application/vnd.geonext', 'gxt'], ['application/vnd.geoplan', 'g2w'], ['application/vnd.geospace', 'g3w'], ['application/vnd.gmx', 'gmx'], ['application/vnd.google-earth.kml+xml', 'kml'], ['application/vnd.google-earth.kmz', 'kmz'], ['application/vnd.grafeq', 'gqf'], ['application/vnd.groove-account', 'gac'], ['application/vnd.groove-help', 'ghf'], ['application/vnd.groove-identity-message', 'gim'], ['application/vnd.groove-injector', 'grv'], ['application/vnd.groove-tool-message', 'gtm'], ['application/vnd.groove-tool-template', 'tpl'], ['application/vnd.groove-vcard', 'vcg'], ['application/vnd.hal+xml', 'hal'], ['application/vnd.handheld-entertainment+xml', 'zmm'], ['application/vnd.hbci', 'hbci'], ['application/vnd.hhe.lesson-player', 'les'], ['application/vnd.hp-hpgl', ['hgl', 'hpg', 'hpgl']], ['application/vnd.hp-hpid', 'hpid'], ['application/vnd.hp-hps', 'hps'], ['application/vnd.hp-jlyt', 'jlt'], ['application/vnd.hp-pcl', 'pcl'], ['application/vnd.hp-pclxl', 'pclxl'], ['application/vnd.hydrostatix.sof-data', 'sfd-hdstx'], ['application/vnd.hzn-3d-crossword', 'x3d'], ['application/vnd.ibm.minipay', 'mpy'], ['application/vnd.ibm.modcap', 'afp'], ['application/vnd.ibm.rights-management', 'irm'], ['application/vnd.ibm.secure-container', 'sc'], ['application/vnd.iccprofile', 'icc'], ['application/vnd.igloader', 'igl'], ['application/vnd.immervision-ivp', 'ivp'], ['application/vnd.immervision-ivu', 'ivu'], ['application/vnd.insors.igm', 'igm'], ['application/vnd.intercon.formnet', 'xpw'], ['application/vnd.intergeo', 'i2g'], ['application/vnd.intu.qbo', 'qbo'], ['application/vnd.intu.qfx', 'qfx'], ['application/vnd.ipunplugged.rcprofile', 'rcprofile'], ['application/vnd.irepository.package+xml', 'irp'], ['application/vnd.is-xpr', 'xpr'], ['application/vnd.isac.fcs', 'fcs'], ['application/vnd.jam', 'jam'], ['application/vnd.jcp.javame.midlet-rms', 'rms'], ['application/vnd.jisp', 'jisp'], ['application/vnd.joost.joda-archive', 'joda'], ['application/vnd.kahootz', 'ktz'], ['application/vnd.kde.karbon', 'karbon'], ['application/vnd.kde.kchart', 'chrt'], ['application/vnd.kde.kformula', 'kfo'], ['application/vnd.kde.kivio', 'flw'], ['application/vnd.kde.kontour', 'kon'], ['application/vnd.kde.kpresenter', 'kpr'], ['application/vnd.kde.kspread', 'ksp'], ['application/vnd.kde.kword', 'kwd'], ['application/vnd.kenameaapp', 'htke'], ['application/vnd.kidspiration', 'kia'], ['application/vnd.kinar', 'kne'], ['application/vnd.koan', 'skp'], ['application/vnd.kodak-descriptor', 'sse'], ['application/vnd.las.las+xml', 'lasxml'], ['application/vnd.llamagraphics.life-balance.desktop', 'lbd'], ['application/vnd.llamagraphics.life-balance.exchange+xml', 'lbe'], ['application/vnd.lotus-1-2-3', '123'], ['application/vnd.lotus-approach', 'apr'], ['application/vnd.lotus-freelance', 'pre'], ['application/vnd.lotus-notes', 'nsf'], ['application/vnd.lotus-organizer', 'org'], ['application/vnd.lotus-screencam', 'scm'], ['application/vnd.lotus-wordpro', 'lwp'], ['application/vnd.macports.portpkg', 'portpkg'], ['application/vnd.mcd', 'mcd'], ['application/vnd.medcalcdata', 'mc1'], ['application/vnd.mediastation.cdkey', 'cdkey'], ['application/vnd.mfer', 'mwf'], ['application/vnd.mfmp', 'mfm'], ['application/vnd.micrografx.flo', 'flo'], ['application/vnd.micrografx.igx', 'igx'], ['application/vnd.mif', 'mif'], ['application/vnd.mobius.daf', 'daf'], ['application/vnd.mobius.dis', 'dis'], ['application/vnd.mobius.mbk', 'mbk'], ['application/vnd.mobius.mqy', 'mqy'], ['application/vnd.mobius.msl', 'msl'], ['application/vnd.mobius.plc', 'plc'], ['application/vnd.mobius.txf', 'txf'], ['application/vnd.mophun.application', 'mpn'], ['application/vnd.mophun.certificate', 'mpc'], ['application/vnd.mozilla.xul+xml', 'xul'], ['application/vnd.ms-artgalry', 'cil'], ['application/vnd.ms-cab-compressed', 'cab'], ['application/vnd.ms-excel', ['xls', 'xla', 'xlc', 'xlm', 'xlt', 'xlw', 'xlb', 'xll']], ['application/vnd.ms-excel.addin.macroenabled.12', 'xlam'], ['application/vnd.ms-excel.sheet.binary.macroenabled.12', 'xlsb'], ['application/vnd.ms-excel.sheet.macroenabled.12', 'xlsm'], ['application/vnd.ms-excel.template.macroenabled.12', 'xltm'], ['application/vnd.ms-fontobject', 'eot'], ['application/vnd.ms-htmlhelp', 'chm'], ['application/vnd.ms-ims', 'ims'], ['application/vnd.ms-lrm', 'lrm'], ['application/vnd.ms-officetheme', 'thmx'], ['application/vnd.ms-outlook', 'msg'], ['application/vnd.ms-pki.certstore', 'sst'], ['application/vnd.ms-pki.pko', 'pko'], ['application/vnd.ms-pki.seccat', 'cat'], ['application/vnd.ms-pki.stl', 'stl'], ['application/vnd.ms-pkicertstore', 'sst'], ['application/vnd.ms-pkiseccat', 'cat'], ['application/vnd.ms-pkistl', 'stl'], ['application/vnd.ms-powerpoint', ['ppt', 'pot', 'pps', 'ppa', 'pwz']], ['application/vnd.ms-powerpoint.addin.macroenabled.12', 'ppam'], ['application/vnd.ms-powerpoint.presentation.macroenabled.12', 'pptm'], ['application/vnd.ms-powerpoint.slide.macroenabled.12', 'sldm'], ['application/vnd.ms-powerpoint.slideshow.macroenabled.12', 'ppsm'], ['application/vnd.ms-powerpoint.template.macroenabled.12', 'potm'], ['application/vnd.ms-project', 'mpp'], ['application/vnd.ms-word.document.macroenabled.12', 'docm'], ['application/vnd.ms-word.template.macroenabled.12', 'dotm'], ['application/vnd.ms-works', ['wks', 'wcm', 'wdb', 'wps']], ['application/vnd.ms-wpl', 'wpl'], ['application/vnd.ms-xpsdocument', 'xps'], ['application/vnd.mseq', 'mseq'], ['application/vnd.musician', 'mus'], ['application/vnd.muvee.style', 'msty'], ['application/vnd.neurolanguage.nlu', 'nlu'], ['application/vnd.noblenet-directory', 'nnd'], ['application/vnd.noblenet-sealer', 'nns'], ['application/vnd.noblenet-web', 'nnw'], ['application/vnd.nokia.configuration-message', 'ncm'], ['application/vnd.nokia.n-gage.data', 'ngdat'], ['application/vnd.nokia.n-gage.symbian.install', 'n-gage'], ['application/vnd.nokia.radio-preset', 'rpst'], ['application/vnd.nokia.radio-presets', 'rpss'], ['application/vnd.nokia.ringing-tone', 'rng'], ['application/vnd.novadigm.edm', 'edm'], ['application/vnd.novadigm.edx', 'edx'], ['application/vnd.novadigm.ext', 'ext'], ['application/vnd.oasis.opendocument.chart', 'odc'], ['application/vnd.oasis.opendocument.chart-template', 'otc'], ['application/vnd.oasis.opendocument.database', 'odb'], ['application/vnd.oasis.opendocument.formula', 'odf'], ['application/vnd.oasis.opendocument.formula-template', 'odft'], ['application/vnd.oasis.opendocument.graphics', 'odg'], ['application/vnd.oasis.opendocument.graphics-template', 'otg'], ['application/vnd.oasis.opendocument.image', 'odi'], ['application/vnd.oasis.opendocument.image-template', 'oti'], ['application/vnd.oasis.opendocument.presentation', 'odp'], ['application/vnd.oasis.opendocument.presentation-template', 'otp'], ['application/vnd.oasis.opendocument.spreadsheet', 'ods'], ['application/vnd.oasis.opendocument.spreadsheet-template', 'ots'], ['application/vnd.oasis.opendocument.text', 'odt'], ['application/vnd.oasis.opendocument.text-master', 'odm'], ['application/vnd.oasis.opendocument.text-template', 'ott'], ['application/vnd.oasis.opendocument.text-web', 'oth'], ['application/vnd.olpc-sugar', 'xo'], ['application/vnd.oma.dd2+xml', 'dd2'], ['application/vnd.openofficeorg.extension', 'oxt'], ['application/vnd.openxmlformats-officedocument.presentationml.presentation', 'pptx'], ['application/vnd.openxmlformats-officedocument.presentationml.slide', 'sldx'], ['application/vnd.openxmlformats-officedocument.presentationml.slideshow', 'ppsx'], ['application/vnd.openxmlformats-officedocument.presentationml.template', 'potx'], ['application/vnd.openxmlformats-officedocument.spreadsheetml.sheet', 'xlsx'], ['application/vnd.openxmlformats-officedocument.spreadsheetml.template', 'xltx'], ['application/vnd.openxmlformats-officedocument.wordprocessingml.document', 'docx'], ['application/vnd.openxmlformats-officedocument.wordprocessingml.template', 'dotx'], ['application/vnd.osgeo.mapguide.package', 'mgp'], ['application/vnd.osgi.dp', 'dp'], ['application/vnd.palm', 'pdb'], ['application/vnd.pawaafile', 'paw'], ['application/vnd.pg.format', 'str'], ['application/vnd.pg.osasli', 'ei6'], ['application/vnd.picsel', 'efif'], ['application/vnd.pmi.widget', 'wg'], ['application/vnd.pocketlearn', 'plf'], ['application/vnd.powerbuilder6', 'pbd'], ['application/vnd.previewsystems.box', 'box'], ['application/vnd.proteus.magazine', 'mgz'], ['application/vnd.publishare-delta-tree', 'qps'], ['application/vnd.pvi.ptid1', 'ptid'], ['application/vnd.quark.quarkxpress', 'qxd'], ['application/vnd.realvnc.bed', 'bed'], ['application/vnd.recordare.musicxml', 'mxl'], ['application/vnd.recordare.musicxml+xml', 'musicxml'], ['application/vnd.rig.cryptonote', 'cryptonote'], ['application/vnd.rim.cod', 'cod'], ['application/vnd.rn-realmedia', 'rm'], ['application/vnd.rn-realplayer', 'rnx'], ['application/vnd.route66.link66+xml', 'link66'], ['application/vnd.sailingtracker.track', 'st'], ['application/vnd.seemail', 'see'], ['application/vnd.sema', 'sema'], ['application/vnd.semd', 'semd'], ['application/vnd.semf', 'semf'], ['application/vnd.shana.informed.formdata', 'ifm'], ['application/vnd.shana.informed.formtemplate', 'itp'], ['application/vnd.shana.informed.interchange', 'iif'], ['application/vnd.shana.informed.package', 'ipk'], ['application/vnd.simtech-mindmapper', 'twd'], ['application/vnd.smaf', 'mmf'], ['application/vnd.smart.teacher', 'teacher'], ['application/vnd.solent.sdkm+xml', 'sdkm'], ['application/vnd.spotfire.dxp', 'dxp'], ['application/vnd.spotfire.sfs', 'sfs'], ['application/vnd.stardivision.calc', 'sdc'], ['application/vnd.stardivision.draw', 'sda'], ['application/vnd.stardivision.impress', 'sdd'], ['application/vnd.stardivision.math', 'smf'], ['application/vnd.stardivision.writer', 'sdw'], ['application/vnd.stardivision.writer-global', 'sgl'], ['application/vnd.stepmania.stepchart', 'sm'], ['application/vnd.sun.xml.calc', 'sxc'], ['application/vnd.sun.xml.calc.template', 'stc'], ['application/vnd.sun.xml.draw', 'sxd'], ['application/vnd.sun.xml.draw.template', 'std'], ['application/vnd.sun.xml.impress', 'sxi'], ['application/vnd.sun.xml.impress.template', 'sti'], ['application/vnd.sun.xml.math', 'sxm'], ['application/vnd.sun.xml.writer', 'sxw'], ['application/vnd.sun.xml.writer.global', 'sxg'], ['application/vnd.sun.xml.writer.template', 'stw'], ['application/vnd.sus-calendar', 'sus'], ['application/vnd.svd', 'svd'], ['application/vnd.symbian.install', 'sis'], ['application/vnd.syncml+xml', 'xsm'], ['application/vnd.syncml.dm+wbxml', 'bdm'], ['application/vnd.syncml.dm+xml', 'xdm'], ['application/vnd.tao.intent-module-archive', 'tao'], ['application/vnd.tmobile-livetv', 'tmo'], ['application/vnd.trid.tpt', 'tpt'], ['application/vnd.triscape.mxs', 'mxs'], ['application/vnd.trueapp', 'tra'], ['application/vnd.ufdl', 'ufd'], ['application/vnd.uiq.theme', 'utz'], ['application/vnd.umajin', 'umj'], ['application/vnd.unity', 'unityweb'], ['application/vnd.uoml+xml', 'uoml'], ['application/vnd.vcx', 'vcx'], ['application/vnd.visio', 'vsd'], ['application/vnd.visionary', 'vis'], ['application/vnd.vsf', 'vsf'], ['application/vnd.wap.wbxml', 'wbxml'], ['application/vnd.wap.wmlc', 'wmlc'], ['application/vnd.wap.wmlscriptc', 'wmlsc'], ['application/vnd.webturbo', 'wtb'], ['application/vnd.wolfram.player', 'nbp'], ['application/vnd.wordperfect', 'wpd'], ['application/vnd.wqd', 'wqd'], ['application/vnd.wt.stf', 'stf'], ['application/vnd.xara', ['web', 'xar']], ['application/vnd.xfdl', 'xfdl'], ['application/vnd.yamaha.hv-dic', 'hvd'], ['application/vnd.yamaha.hv-script', 'hvs'], ['application/vnd.yamaha.hv-voice', 'hvp'], ['application/vnd.yamaha.openscoreformat', 'osf'], ['application/vnd.yamaha.openscoreformat.osfpvg+xml', 'osfpvg'], ['application/vnd.yamaha.smaf-audio', 'saf'], ['application/vnd.yamaha.smaf-phrase', 'spf'], ['application/vnd.yellowriver-custom-menu', 'cmp'], ['application/vnd.zul', 'zir'], ['application/vnd.zzazz.deck+xml', 'zaz'], ['application/vocaltec-media-desc', 'vmd'], ['application/vocaltec-media-file', 'vmf'], ['application/voicexml+xml', 'vxml'], ['application/widget', 'wgt'], ['application/winhlp', 'hlp'], ['application/wordperfect', ['wp', 'wp5', 'wp6', 'wpd']], ['application/wordperfect6.0', ['w60', 'wp5']], ['application/wordperfect6.1', 'w61'], ['application/wsdl+xml', 'wsdl'], ['application/wspolicy+xml', 'wspolicy'], ['application/x-123', 'wk1'], ['application/x-7z-compressed', '7z'], ['application/x-abiword', 'abw'], ['application/x-ace-compressed', 'ace'], ['application/x-aim', 'aim'], ['application/x-authorware-bin', 'aab'], ['application/x-authorware-map', 'aam'], ['application/x-authorware-seg', 'aas'], ['application/x-bcpio', 'bcpio'], ['application/x-binary', 'bin'], ['application/x-binhex40', 'hqx'], ['application/x-bittorrent', 'torrent'], ['application/x-bsh', ['bsh', 'sh', 'shar']], ['application/x-bytecode.elisp', 'elc'], ['application/x-bytecode.python', 'pyc'], ['application/x-bzip', 'bz'], ['application/x-bzip2', ['boz', 'bz2']], ['application/x-cdf', 'cdf'], ['application/x-cdlink', 'vcd'], ['application/x-chat', ['cha', 'chat']], ['application/x-chess-pgn', 'pgn'], ['application/x-cmu-raster', 'ras'], ['application/x-cocoa', 'cco'], ['application/x-compactpro', 'cpt'], ['application/x-compress', 'z'], ['application/x-compressed', ['tgz', 'gz', 'z', 'zip']], ['application/x-conference', 'nsc'], ['application/x-cpio', 'cpio'], ['application/x-cpt', 'cpt'], ['application/x-csh', 'csh'], ['application/x-debian-package', 'deb'], ['application/x-deepv', 'deepv'], ['application/x-director', ['dir', 'dcr', 'dxr']], ['application/x-doom', 'wad'], ['application/x-dtbncx+xml', 'ncx'], ['application/x-dtbook+xml', 'dtb'], ['application/x-dtbresource+xml', 'res'], ['application/x-dvi', 'dvi'], ['application/x-elc', 'elc'], ['application/x-envoy', ['env', 'evy']], ['application/x-esrehber', 'es'], ['application/x-excel', ['xls', 'xla', 'xlb', 'xlc', 'xld', 'xlk', 'xll', 'xlm', 'xlt', 'xlv', 'xlw']], ['application/x-font-bdf', 'bdf'], ['application/x-font-ghostscript', 'gsf'], ['application/x-font-linux-psf', 'psf'], ['application/x-font-otf', 'otf'], ['application/x-font-pcf', 'pcf'], ['application/x-font-snf', 'snf'], ['application/x-font-ttf', 'ttf'], ['application/x-font-type1', 'pfa'], ['application/x-font-woff', 'woff'], ['application/x-frame', 'mif'], ['application/x-freelance', 'pre'], ['application/x-futuresplash', 'spl'], ['application/x-gnumeric', 'gnumeric'], ['application/x-gsp', 'gsp'], ['application/x-gss', 'gss'], ['application/x-gtar', 'gtar'], ['application/x-gzip', ['gz', 'gzip']], ['application/x-hdf', 'hdf'], ['application/x-helpfile', ['help', 'hlp']], ['application/x-httpd-imap', 'imap'], ['application/x-ima', 'ima'], ['application/x-internet-signup', ['ins', 'isp']], ['application/x-internett-signup', 'ins'], ['application/x-inventor', 'iv'], ['application/x-ip2', 'ip'], ['application/x-iphone', 'iii'], ['application/x-java-class', 'class'], ['application/x-java-commerce', 'jcm'], ['application/x-java-jnlp-file', 'jnlp'], ['application/x-javascript', 'js'], ['application/x-koan', ['skd', 'skm', 'skp', 'skt']], ['application/x-ksh', 'ksh'], ['application/x-latex', ['latex', 'ltx']], ['application/x-lha', 'lha'], ['application/x-lisp', 'lsp'], ['application/x-livescreen', 'ivy'], ['application/x-lotus', 'wq1'], ['application/x-lotusscreencam', 'scm'], ['application/x-lzh', 'lzh'], ['application/x-lzx', 'lzx'], ['application/x-mac-binhex40', 'hqx'], ['application/x-macbinary', 'bin'], ['application/x-magic-cap-package-1.0', 'mc$'], ['application/x-mathcad', 'mcd'], ['application/x-meme', 'mm'], ['application/x-midi', ['mid', 'midi']], ['application/x-mif', 'mif'], ['application/x-mix-transfer', 'nix'], ['application/x-mobipocket-ebook', 'prc'], ['application/x-mplayer2', 'asx'], ['application/x-ms-application', 'application'], ['application/x-ms-wmd', 'wmd'], ['application/x-ms-wmz', 'wmz'], ['application/x-ms-xbap', 'xbap'], ['application/x-msaccess', 'mdb'], ['application/x-msbinder', 'obd'], ['application/x-mscardfile', 'crd'], ['application/x-msclip', 'clp'], ['application/x-msdownload', ['exe', 'dll']], ['application/x-msexcel', ['xls', 'xla', 'xlw']], ['application/x-msmediaview', ['mvb', 'm13', 'm14']], ['application/x-msmetafile', 'wmf'], ['application/x-msmoney', 'mny'], ['application/x-mspowerpoint', 'ppt'], ['application/x-mspublisher', 'pub'], ['application/x-msschedule', 'scd'], ['application/x-msterminal', 'trm'], ['application/x-mswrite', 'wri'], ['application/x-navi-animation', 'ani'], ['application/x-navidoc', 'nvd'], ['application/x-navimap', 'map'], ['application/x-navistyle', 'stl'], ['application/x-netcdf', ['cdf', 'nc']], ['application/x-newton-compatible-pkg', 'pkg'], ['application/x-nokia-9000-communicator-add-on-software', 'aos'], ['application/x-omc', 'omc'], ['application/x-omcdatamaker', 'omcd'], ['application/x-omcregerator', 'omcr'], ['application/x-pagemaker', ['pm4', 'pm5']], ['application/x-pcl', 'pcl'], ['application/x-perfmon', ['pma', 'pmc', 'pml', 'pmr', 'pmw']], ['application/x-pixclscript', 'plx'], ['application/x-pkcs10', 'p10'], ['application/x-pkcs12', ['p12', 'pfx']], ['application/x-pkcs7-certificates', ['p7b', 'spc']], ['application/x-pkcs7-certreqresp', 'p7r'], ['application/x-pkcs7-mime', ['p7m', 'p7c']], ['application/x-pkcs7-signature', ['p7s', 'p7a']], ['application/x-pointplus', 'css'], ['application/x-portable-anymap', 'pnm'], ['application/x-project', ['mpc', 'mpt', 'mpv', 'mpx']], ['application/x-qpro', 'wb1'], ['application/x-rar-compressed', 'rar'], ['application/x-rtf', 'rtf'], ['application/x-sdp', 'sdp'], ['application/x-sea', 'sea'], ['application/x-seelogo', 'sl'], ['application/x-sh', 'sh'], ['application/x-shar', ['shar', 'sh']], ['application/x-shockwave-flash', 'swf'], ['application/x-silverlight-app', 'xap'], ['application/x-sit', 'sit'], ['application/x-sprite', ['spr', 'sprite']], ['application/x-stuffit', 'sit'], ['application/x-stuffitx', 'sitx'], ['application/x-sv4cpio', 'sv4cpio'], ['application/x-sv4crc', 'sv4crc'], ['application/x-tar', 'tar'], ['application/x-tbook', ['sbk', 'tbk']], ['application/x-tcl', 'tcl'], ['application/x-tex', 'tex'], ['application/x-tex-tfm', 'tfm'], ['application/x-texinfo', ['texi', 'texinfo']], ['application/x-troff', ['roff', 't', 'tr']], ['application/x-troff-man', 'man'], ['application/x-troff-me', 'me'], ['application/x-troff-ms', 'ms'], ['application/x-troff-msvideo', 'avi'], ['application/x-ustar', 'ustar'], ['application/x-visio', ['vsd', 'vst', 'vsw']], ['application/x-vnd.audioexplosion.mzz', 'mzz'], ['application/x-vnd.ls-xpix', 'xpix'], ['application/x-vrml', 'vrml'], ['application/x-wais-source', ['src', 'wsrc']], ['application/x-winhelp', 'hlp'], ['application/x-wintalk', 'wtk'], ['application/x-world', ['wrl', 'svr']], ['application/x-wpwin', 'wpd'], ['application/x-wri', 'wri'], ['application/x-x509-ca-cert', ['cer', 'crt', 'der']], ['application/x-x509-user-cert', 'crt'], ['application/x-xfig', 'fig'], ['application/x-xpinstall', 'xpi'], ['application/x-zip-compressed', 'zip'], ['application/xcap-diff+xml', 'xdf'], ['application/xenc+xml', 'xenc'], ['application/xhtml+xml', 'xhtml'], ['application/xml', 'xml'], ['application/xml-dtd', 'dtd'], ['application/xop+xml', 'xop'], ['application/xslt+xml', 'xslt'], ['application/xspf+xml', 'xspf'], ['application/xv+xml', 'mxml'], ['application/yang', 'yang'], ['application/yin+xml', 'yin'], ['application/ynd.ms-pkipko', 'pko'], ['application/zip', 'zip'], ['audio/adpcm', 'adp'], ['audio/aiff', ['aiff', 'aif', 'aifc']], ['audio/basic', ['snd', 'au']], ['audio/it', 'it'], ['audio/make', ['funk', 'my', 'pfunk']], ['audio/make.my.funk', 'pfunk'], ['audio/mid', ['mid', 'rmi']], ['audio/midi', ['midi', 'kar', 'mid']], ['audio/mod', 'mod'], ['audio/mp4', 'mp4a'], ['audio/mpeg', ['mpga', 'mp3', 'm2a', 'mp2', 'mpa', 'mpg']], ['audio/mpeg3', 'mp3'], ['audio/nspaudio', ['la', 'lma']], ['audio/ogg', 'oga'], ['audio/s3m', 's3m'], ['audio/tsp-audio', 'tsi'], ['audio/tsplayer', 'tsp'], ['audio/vnd.dece.audio', 'uva'], ['audio/vnd.digital-winds', 'eol'], ['audio/vnd.dra', 'dra'], ['audio/vnd.dts', 'dts'], ['audio/vnd.dts.hd', 'dtshd'], ['audio/vnd.lucent.voice', 'lvp'], ['audio/vnd.ms-playready.media.pya', 'pya'], ['audio/vnd.nuera.ecelp4800', 'ecelp4800'], ['audio/vnd.nuera.ecelp7470', 'ecelp7470'], ['audio/vnd.nuera.ecelp9600', 'ecelp9600'], ['audio/vnd.qcelp', 'qcp'], ['audio/vnd.rip', 'rip'], ['audio/voc', 'voc'], ['audio/voxware', 'vox'], ['audio/wav', 'wav'], ['audio/webm', 'weba'], ['audio/x-aac', 'aac'], ['audio/x-adpcm', 'snd'], ['audio/x-aiff', ['aiff', 'aif', 'aifc']], ['audio/x-au', 'au'], ['audio/x-gsm', ['gsd', 'gsm']], ['audio/x-jam', 'jam'], ['audio/x-liveaudio', 'lam'], ['audio/x-mid', ['mid', 'midi']], ['audio/x-midi', ['midi', 'mid']], ['audio/x-mod', 'mod'], ['audio/x-mpeg', 'mp2'], ['audio/x-mpeg-3', 'mp3'], ['audio/x-mpegurl', 'm3u'], ['audio/x-mpequrl', 'm3u'], ['audio/x-ms-wax', 'wax'], ['audio/x-ms-wma', 'wma'], ['audio/x-nspaudio', ['la', 'lma']], ['audio/x-pn-realaudio', ['ra', 'ram', 'rm', 'rmm', 'rmp']], ['audio/x-pn-realaudio-plugin', ['ra', 'rmp', 'rpm']], ['audio/x-psid', 'sid'], ['audio/x-realaudio', 'ra'], ['audio/x-twinvq', 'vqf'], ['audio/x-twinvq-plugin', ['vqe', 'vql']], ['audio/x-vnd.audioexplosion.mjuicemediafile', 'mjf'], ['audio/x-voc', 'voc'], ['audio/x-wav', 'wav'], ['audio/xm', 'xm'], ['chemical/x-cdx', 'cdx'], ['chemical/x-cif', 'cif'], ['chemical/x-cmdf', 'cmdf'], ['chemical/x-cml', 'cml'], ['chemical/x-csml', 'csml'], ['chemical/x-pdb', ['pdb', 'xyz']], ['chemical/x-xyz', 'xyz'], ['drawing/x-dwf', 'dwf'], ['i-world/i-vrml', 'ivr'], ['image/bmp', ['bmp', 'bm']], ['image/cgm', 'cgm'], ['image/cis-cod', 'cod'], ['image/cmu-raster', ['ras', 'rast']], ['image/fif', 'fif'], ['image/florian', ['flo', 'turbot']], ['image/g3fax', 'g3'], ['image/gif', 'gif'], ['image/ief', ['ief', 'iefs']], ['image/jpeg', ['jpeg', 'jpe', 'jpg', 'jfif', 'jfif-tbnl']], ['image/jutvision', 'jut'], ['image/ktx', 'ktx'], ['image/naplps', ['nap', 'naplps']], ['image/pict', ['pic', 'pict']], ['image/pipeg', 'jfif'], ['image/pjpeg', ['jfif', 'jpe', 'jpeg', 'jpg']], ['image/png', ['png', 'x-png']], ['image/prs.btif', 'btif'], ['image/svg+xml', 'svg'], ['image/tiff', ['tif', 'tiff']], ['image/vasa', 'mcf'], ['image/vnd.adobe.photoshop', 'psd'], ['image/vnd.dece.graphic', 'uvi'], ['image/vnd.djvu', 'djvu'], ['image/vnd.dvb.subtitle', 'sub'], ['image/vnd.dwg', ['dwg', 'dxf', 'svf']], ['image/vnd.dxf', 'dxf'], ['image/vnd.fastbidsheet', 'fbs'], ['image/vnd.fpx', 'fpx'], ['image/vnd.fst', 'fst'], ['image/vnd.fujixerox.edmics-mmr', 'mmr'], ['image/vnd.fujixerox.edmics-rlc', 'rlc'], ['image/vnd.ms-modi', 'mdi'], ['image/vnd.net-fpx', ['fpx', 'npx']], ['image/vnd.rn-realflash', 'rf'], ['image/vnd.rn-realpix', 'rp'], ['image/vnd.wap.wbmp', 'wbmp'], ['image/vnd.xiff', 'xif'], ['image/webp', 'webp'], ['image/x-cmu-raster', 'ras'], ['image/x-cmx', 'cmx'], ['image/x-dwg', ['dwg', 'dxf', 'svf']], ['image/x-freehand', 'fh'], ['image/x-icon', 'ico'], ['image/x-jg', 'art'], ['image/x-jps', 'jps'], ['image/x-niff', ['niff', 'nif']], ['image/x-pcx', 'pcx'], ['image/x-pict', ['pct', 'pic']], ['image/x-portable-anymap', 'pnm'], ['image/x-portable-bitmap', 'pbm'], ['image/x-portable-graymap', 'pgm'], ['image/x-portable-greymap', 'pgm'], ['image/x-portable-pixmap', 'ppm'], ['image/x-quicktime', ['qif', 'qti', 'qtif']], ['image/x-rgb', 'rgb'], ['image/x-tiff', ['tif', 'tiff']], ['image/x-windows-bmp', 'bmp'], ['image/x-xbitmap', 'xbm'], ['image/x-xbm', 'xbm'], ['image/x-xpixmap', ['xpm', 'pm']], ['image/x-xwd', 'xwd'], ['image/x-xwindowdump', 'xwd'], ['image/xbm', 'xbm'], ['image/xpm', 'xpm'], ['message/rfc822', ['eml', 'mht', 'mhtml', 'nws', 'mime']], ['model/iges', ['iges', 'igs']], ['model/mesh', 'msh'], ['model/vnd.collada+xml', 'dae'], ['model/vnd.dwf', 'dwf'], ['model/vnd.gdl', 'gdl'], ['model/vnd.gtw', 'gtw'], ['model/vnd.mts', 'mts'], ['model/vnd.vtu', 'vtu'], ['model/vrml', ['vrml', 'wrl', 'wrz']], ['model/x-pov', 'pov'], ['multipart/x-gzip', 'gzip'], ['multipart/x-ustar', 'ustar'], ['multipart/x-zip', 'zip'], ['music/crescendo', ['mid', 'midi']], ['music/x-karaoke', 'kar'], ['paleovu/x-pv', 'pvu'], ['text/asp', 'asp'], ['text/calendar', 'ics'], ['text/css', 'css'], ['text/csv', 'csv'], ['text/ecmascript', 'js'], ['text/h323', '323'], ['text/html', ['html', 'htm', 'stm', 'acgi', 'htmls', 'htx', 'shtml']], ['text/iuls', 'uls'], ['text/javascript', 'js'], ['text/mcf', 'mcf'], ['text/n3', 'n3'], ['text/pascal', 'pas'], ['text/plain', ['txt', 'bas', 'c', 'h', 'c++', 'cc', 'com', 'conf', 'cxx', 'def', 'f', 'f90', 'for', 'g', 'hh', 'idc', 'jav', 'java', 'list', 'log', 'lst', 'm', 'mar', 'pl', 'sdml', 'text']], ['text/plain-bas', 'par'], ['text/prs.lines.tag', 'dsc'], ['text/richtext', ['rtx', 'rt', 'rtf']], ['text/scriplet', 'wsc'], ['text/scriptlet', 'sct'], ['text/sgml', ['sgm', 'sgml']], ['text/tab-separated-values', 'tsv'], ['text/troff', 't'], ['text/turtle', 'ttl'], ['text/uri-list', ['uni', 'unis', 'uri', 'uris']], ['text/vnd.abc', 'abc'], ['text/vnd.curl', 'curl'], ['text/vnd.curl.dcurl', 'dcurl'], ['text/vnd.curl.mcurl', 'mcurl'], ['text/vnd.curl.scurl', 'scurl'], ['text/vnd.fly', 'fly'], ['text/vnd.fmi.flexstor', 'flx'], ['text/vnd.graphviz', 'gv'], ['text/vnd.in3d.3dml', '3dml'], ['text/vnd.in3d.spot', 'spot'], ['text/vnd.rn-realtext', 'rt'], ['text/vnd.sun.j2me.app-descriptor', 'jad'], ['text/vnd.wap.wml', 'wml'], ['text/vnd.wap.wmlscript', 'wmls'], ['text/webviewhtml', 'htt'], ['text/x-asm', ['asm', 's']], ['text/x-audiosoft-intra', 'aip'], ['text/x-c', ['c', 'cc', 'cpp']], ['text/x-component', 'htc'], ['text/x-fortran', ['for', 'f', 'f77', 'f90']], ['text/x-h', ['h', 'hh']], ['text/x-java-source', ['java', 'jav']], ['text/x-java-source,java', 'java'], ['text/x-la-asf', 'lsx'], ['text/x-m', 'm'], ['text/x-pascal', 'p'], ['text/x-script', 'hlb'], ['text/x-script.csh', 'csh'], ['text/x-script.elisp', 'el'], ['text/x-script.guile', 'scm'], ['text/x-script.ksh', 'ksh'], ['text/x-script.lisp', 'lsp'], ['text/x-script.perl', 'pl'], ['text/x-script.perl-module', 'pm'], ['text/x-script.phyton', 'py'], ['text/x-script.rexx', 'rexx'], ['text/x-script.scheme', 'scm'], ['text/x-script.sh', 'sh'], ['text/x-script.tcl', 'tcl'], ['text/x-script.tcsh', 'tcsh'], ['text/x-script.zsh', 'zsh'], ['text/x-server-parsed-html', ['shtml', 'ssi']], ['text/x-setext', 'etx'], ['text/x-sgml', ['sgm', 'sgml']], ['text/x-speech', ['spc', 'talk']], ['text/x-uil', 'uil'], ['text/x-uuencode', ['uu', 'uue']], ['text/x-vcalendar', 'vcs'], ['text/x-vcard', 'vcf'], ['text/xml', 'xml'], ['video/3gpp', '3gp'], ['video/3gpp2', '3g2'], ['video/animaflex', 'afl'], ['video/avi', 'avi'], ['video/avs-video', 'avs'], ['video/dl', 'dl'], ['video/fli', 'fli'], ['video/gl', 'gl'], ['video/h261', 'h261'], ['video/h263', 'h263'], ['video/h264', 'h264'], ['video/jpeg', 'jpgv'], ['video/jpm', 'jpm'], ['video/mj2', 'mj2'], ['video/mp4', 'mp4'], ['video/mpeg', ['mpeg', 'mp2', 'mpa', 'mpe', 'mpg', 'mpv2', 'm1v', 'm2v', 'mp3']], ['video/msvideo', 'avi'], ['video/ogg', 'ogv'], ['video/quicktime', ['mov', 'qt', 'moov']], ['video/vdo', 'vdo'], ['video/vivo', ['viv', 'vivo']], ['video/vnd.dece.hd', 'uvh'], ['video/vnd.dece.mobile', 'uvm'], ['video/vnd.dece.pd', 'uvp'], ['video/vnd.dece.sd', 'uvs'], ['video/vnd.dece.video', 'uvv'], ['video/vnd.fvt', 'fvt'], ['video/vnd.mpegurl', 'mxu'], ['video/vnd.ms-playready.media.pyv', 'pyv'], ['video/vnd.rn-realvideo', 'rv'], ['video/vnd.uvvu.mp4', 'uvu'], ['video/vnd.vivo', ['viv', 'vivo']], ['video/vosaic', 'vos'], ['video/webm', 'webm'], ['video/x-amt-demorun', 'xdr'], ['video/x-amt-showrun', 'xsr'], ['video/x-atomic3d-feature', 'fmf'], ['video/x-dl', 'dl'], ['video/x-dv', ['dif', 'dv']], ['video/x-f4v', 'f4v'], ['video/x-fli', 'fli'], ['video/x-flv', 'flv'], ['video/x-gl', 'gl'], ['video/x-isvideo', 'isu'], ['video/x-la-asf', ['lsf', 'lsx']], ['video/x-m4v', 'm4v'], ['video/x-motion-jpeg', 'mjpg'], ['video/x-mpeg', ['mp3', 'mp2']], ['video/x-mpeq2a', 'mp2'], ['video/x-ms-asf', ['asf', 'asr', 'asx']], ['video/x-ms-asf-plugin', 'asx'], ['video/x-ms-wm', 'wm'], ['video/x-ms-wmv', 'wmv'], ['video/x-ms-wmx', 'wmx'], ['video/x-ms-wvx', 'wvx'], ['video/x-msvideo', 'avi'], ['video/x-qtc', 'qtc'], ['video/x-scm', 'scm'], ['video/x-sgi-movie', ['movie', 'mv']], ['windows/metafile', 'wmf'], ['www/mime', 'mime'], ['x-conference/x-cooltalk', 'ice'], ['x-music/x-midi', ['mid', 'midi']], ['x-world/x-3dmf', ['3dm', '3dmf', 'qd3', 'qd3d']], ['x-world/x-svr', 'svr'], ['x-world/x-vrml', ['flr', 'vrml', 'wrl', 'wrz', 'xaf', 'xof']], ['x-world/x-vrt', 'vrt'], ['xgl/drawing', 'xgz'], ['xgl/movie', 'xmz']]);\nvar extensions = new Map([['123', 'application/vnd.lotus-1-2-3'], ['323', 'text/h323'], ['*', 'application/octet-stream'], ['3dm', 'x-world/x-3dmf'], ['3dmf', 'x-world/x-3dmf'], ['3dml', 'text/vnd.in3d.3dml'], ['3g2', 'video/3gpp2'], ['3gp', 'video/3gpp'], ['7z', 'application/x-7z-compressed'], ['a', 'application/octet-stream'], ['aab', 'application/x-authorware-bin'], ['aac', 'audio/x-aac'], ['aam', 'application/x-authorware-map'], ['aas', 'application/x-authorware-seg'], ['abc', 'text/vnd.abc'], ['abw', 'application/x-abiword'], ['ac', 'application/pkix-attr-cert'], ['acc', 'application/vnd.americandynamics.acc'], ['ace', 'application/x-ace-compressed'], ['acgi', 'text/html'], ['acu', 'application/vnd.acucobol'], ['acx', 'application/internet-property-stream'], ['adp', 'audio/adpcm'], ['aep', 'application/vnd.audiograph'], ['afl', 'video/animaflex'], ['afp', 'application/vnd.ibm.modcap'], ['ahead', 'application/vnd.ahead.space'], ['ai', 'application/postscript'], ['aif', ['audio/aiff', 'audio/x-aiff']], ['aifc', ['audio/aiff', 'audio/x-aiff']], ['aiff', ['audio/aiff', 'audio/x-aiff']], ['aim', 'application/x-aim'], ['aip', 'text/x-audiosoft-intra'], ['air', 'application/vnd.adobe.air-application-installer-package+zip'], ['ait', 'application/vnd.dvb.ait'], ['ami', 'application/vnd.amiga.ami'], ['ani', 'application/x-navi-animation'], ['aos', 'application/x-nokia-9000-communicator-add-on-software'], ['apk', 'application/vnd.android.package-archive'], ['application', 'application/x-ms-application'], ['apr', 'application/vnd.lotus-approach'], ['aps', 'application/mime'], ['arc', 'application/octet-stream'], ['arj', ['application/arj', 'application/octet-stream']], ['art', 'image/x-jg'], ['asf', 'video/x-ms-asf'], ['asm', 'text/x-asm'], ['aso', 'application/vnd.accpac.simply.aso'], ['asp', 'text/asp'], ['asr', 'video/x-ms-asf'], ['asx', ['video/x-ms-asf', 'application/x-mplayer2', 'video/x-ms-asf-plugin']], ['atc', 'application/vnd.acucorp'], ['atomcat', 'application/atomcat+xml'], ['atomsvc', 'application/atomsvc+xml'], ['atx', 'application/vnd.antix.game-component'], ['au', ['audio/basic', 'audio/x-au']], ['avi', ['video/avi', 'video/msvideo', 'application/x-troff-msvideo', 'video/x-msvideo']], ['avs', 'video/avs-video'], ['aw', 'application/applixware'], ['axs', 'application/olescript'], ['azf', 'application/vnd.airzip.filesecure.azf'], ['azs', 'application/vnd.airzip.filesecure.azs'], ['azw', 'application/vnd.amazon.ebook'], ['bas', 'text/plain'], ['bcpio', 'application/x-bcpio'], ['bdf', 'application/x-font-bdf'], ['bdm', 'application/vnd.syncml.dm+wbxml'], ['bed', 'application/vnd.realvnc.bed'], ['bh2', 'application/vnd.fujitsu.oasysprs'], ['bin', ['application/octet-stream', 'application/mac-binary', 'application/macbinary', 'application/x-macbinary', 'application/x-binary']], ['bm', 'image/bmp'], ['bmi', 'application/vnd.bmi'], ['bmp', ['image/bmp', 'image/x-windows-bmp']], ['boo', 'application/book'], ['book', 'application/book'], ['box', 'application/vnd.previewsystems.box'], ['boz', 'application/x-bzip2'], ['bsh', 'application/x-bsh'], ['btif', 'image/prs.btif'], ['bz', 'application/x-bzip'], ['bz2', 'application/x-bzip2'], ['c', ['text/plain', 'text/x-c']], ['c++', 'text/plain'], ['c11amc', 'application/vnd.cluetrust.cartomobile-config'], ['c11amz', 'application/vnd.cluetrust.cartomobile-config-pkg'], ['c4g', 'application/vnd.clonk.c4group'], ['cab', 'application/vnd.ms-cab-compressed'], ['car', 'application/vnd.curl.car'], ['cat', ['application/vnd.ms-pkiseccat', 'application/vnd.ms-pki.seccat']], ['cc', ['text/plain', 'text/x-c']], ['ccad', 'application/clariscad'], ['cco', 'application/x-cocoa'], ['ccxml', 'application/ccxml+xml,'], ['cdbcmsg', 'application/vnd.contact.cmsg'], ['cdf', ['application/cdf', 'application/x-cdf', 'application/x-netcdf']], ['cdkey', 'application/vnd.mediastation.cdkey'], ['cdmia', 'application/cdmi-capability'], ['cdmic', 'application/cdmi-container'], ['cdmid', 'application/cdmi-domain'], ['cdmio', 'application/cdmi-object'], ['cdmiq', 'application/cdmi-queue'], ['cdx', 'chemical/x-cdx'], ['cdxml', 'application/vnd.chemdraw+xml'], ['cdy', 'application/vnd.cinderella'], ['cer', ['application/pkix-cert', 'application/x-x509-ca-cert']], ['cgm', 'image/cgm'], ['cha', 'application/x-chat'], ['chat', 'application/x-chat'], ['chm', 'application/vnd.ms-htmlhelp'], ['chrt', 'application/vnd.kde.kchart'], ['cif', 'chemical/x-cif'], ['cii', 'application/vnd.anser-web-certificate-issue-initiation'], ['cil', 'application/vnd.ms-artgalry'], ['cla', 'application/vnd.claymore'], ['class', ['application/octet-stream', 'application/java', 'application/java-byte-code', 'application/java-vm', 'application/x-java-class']], ['clkk', 'application/vnd.crick.clicker.keyboard'], ['clkp', 'application/vnd.crick.clicker.palette'], ['clkt', 'application/vnd.crick.clicker.template'], ['clkw', 'application/vnd.crick.clicker.wordbank'], ['clkx', 'application/vnd.crick.clicker'], ['clp', 'application/x-msclip'], ['cmc', 'application/vnd.cosmocaller'], ['cmdf', 'chemical/x-cmdf'], ['cml', 'chemical/x-cml'], ['cmp', 'application/vnd.yellowriver-custom-menu'], ['cmx', 'image/x-cmx'], ['cod', ['image/cis-cod', 'application/vnd.rim.cod']], ['com', ['application/octet-stream', 'text/plain']], ['conf', 'text/plain'], ['cpio', 'application/x-cpio'], ['cpp', 'text/x-c'], ['cpt', ['application/mac-compactpro', 'application/x-compactpro', 'application/x-cpt']], ['crd', 'application/x-mscardfile'], ['crl', ['application/pkix-crl', 'application/pkcs-crl']], ['crt', ['application/pkix-cert', 'application/x-x509-user-cert', 'application/x-x509-ca-cert']], ['cryptonote', 'application/vnd.rig.cryptonote'], ['csh', ['text/x-script.csh', 'application/x-csh']], ['csml', 'chemical/x-csml'], ['csp', 'application/vnd.commonspace'], ['css', ['text/css', 'application/x-pointplus']], ['csv', 'text/csv'], ['cu', 'application/cu-seeme'], ['curl', 'text/vnd.curl'], ['cww', 'application/prs.cww'], ['cxx', 'text/plain'], ['dae', 'model/vnd.collada+xml'], ['daf', 'application/vnd.mobius.daf'], ['davmount', 'application/davmount+xml'], ['dcr', 'application/x-director'], ['dcurl', 'text/vnd.curl.dcurl'], ['dd2', 'application/vnd.oma.dd2+xml'], ['ddd', 'application/vnd.fujixerox.ddd'], ['deb', 'application/x-debian-package'], ['deepv', 'application/x-deepv'], ['def', 'text/plain'], ['der', 'application/x-x509-ca-cert'], ['dfac', 'application/vnd.dreamfactory'], ['dif', 'video/x-dv'], ['dir', 'application/x-director'], ['dis', 'application/vnd.mobius.dis'], ['djvu', 'image/vnd.djvu'], ['dl', ['video/dl', 'video/x-dl']], ['dll', 'application/x-msdownload'], ['dms', 'application/octet-stream'], ['dna', 'application/vnd.dna'], ['doc', 'application/msword'], ['docm', 'application/vnd.ms-word.document.macroenabled.12'], ['docx', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'], ['dot', 'application/msword'], ['dotm', 'application/vnd.ms-word.template.macroenabled.12'], ['dotx', 'application/vnd.openxmlformats-officedocument.wordprocessingml.template'], ['dp', ['application/commonground', 'application/vnd.osgi.dp']], ['dpg', 'application/vnd.dpgraph'], ['dra', 'audio/vnd.dra'], ['drw', 'application/drafting'], ['dsc', 'text/prs.lines.tag'], ['dssc', 'application/dssc+der'], ['dtb', 'application/x-dtbook+xml'], ['dtd', 'application/xml-dtd'], ['dts', 'audio/vnd.dts'], ['dtshd', 'audio/vnd.dts.hd'], ['dump', 'application/octet-stream'], ['dv', 'video/x-dv'], ['dvi', 'application/x-dvi'], ['dwf', ['model/vnd.dwf', 'drawing/x-dwf']], ['dwg', ['application/acad', 'image/vnd.dwg', 'image/x-dwg']], ['dxf', ['application/dxf', 'image/vnd.dwg', 'image/vnd.dxf', 'image/x-dwg']], ['dxp', 'application/vnd.spotfire.dxp'], ['dxr', 'application/x-director'], ['ecelp4800', 'audio/vnd.nuera.ecelp4800'], ['ecelp7470', 'audio/vnd.nuera.ecelp7470'], ['ecelp9600', 'audio/vnd.nuera.ecelp9600'], ['edm', 'application/vnd.novadigm.edm'], ['edx', 'application/vnd.novadigm.edx'], ['efif', 'application/vnd.picsel'], ['ei6', 'application/vnd.pg.osasli'], ['el', 'text/x-script.elisp'], ['elc', ['application/x-elc', 'application/x-bytecode.elisp']], ['eml', 'message/rfc822'], ['emma', 'application/emma+xml'], ['env', 'application/x-envoy'], ['eol', 'audio/vnd.digital-winds'], ['eot', 'application/vnd.ms-fontobject'], ['eps', 'application/postscript'], ['epub', 'application/epub+zip'], ['es', ['application/ecmascript', 'application/x-esrehber']], ['es3', 'application/vnd.eszigno3+xml'], ['esf', 'application/vnd.epson.esf'], ['etx', 'text/x-setext'], ['evy', ['application/envoy', 'application/x-envoy']], ['exe', ['application/octet-stream', 'application/x-msdownload']], ['exi', 'application/exi'], ['ext', 'application/vnd.novadigm.ext'], ['ez2', 'application/vnd.ezpix-album'], ['ez3', 'application/vnd.ezpix-package'], ['f', ['text/plain', 'text/x-fortran']], ['f4v', 'video/x-f4v'], ['f77', 'text/x-fortran'], ['f90', ['text/plain', 'text/x-fortran']], ['fbs', 'image/vnd.fastbidsheet'], ['fcs', 'application/vnd.isac.fcs'], ['fdf', 'application/vnd.fdf'], ['fe_launch', 'application/vnd.denovo.fcselayout-link'], ['fg5', 'application/vnd.fujitsu.oasysgp'], ['fh', 'image/x-freehand'], ['fif', ['application/fractals', 'image/fif']], ['fig', 'application/x-xfig'], ['fli', ['video/fli', 'video/x-fli']], ['flo', ['image/florian', 'application/vnd.micrografx.flo']], ['flr', 'x-world/x-vrml'], ['flv', 'video/x-flv'], ['flw', 'application/vnd.kde.kivio'], ['flx', 'text/vnd.fmi.flexstor'], ['fly', 'text/vnd.fly'], ['fm', 'application/vnd.framemaker'], ['fmf', 'video/x-atomic3d-feature'], ['fnc', 'application/vnd.frogans.fnc'], ['for', ['text/plain', 'text/x-fortran']], ['fpx', ['image/vnd.fpx', 'image/vnd.net-fpx']], ['frl', 'application/freeloader'], ['fsc', 'application/vnd.fsc.weblaunch'], ['fst', 'image/vnd.fst'], ['ftc', 'application/vnd.fluxtime.clip'], ['fti', 'application/vnd.anser-web-funds-transfer-initiation'], ['funk', 'audio/make'], ['fvt', 'video/vnd.fvt'], ['fxp', 'application/vnd.adobe.fxp'], ['fzs', 'application/vnd.fuzzysheet'], ['g', 'text/plain'], ['g2w', 'application/vnd.geoplan'], ['g3', 'image/g3fax'], ['g3w', 'application/vnd.geospace'], ['gac', 'application/vnd.groove-account'], ['gdl', 'model/vnd.gdl'], ['geo', 'application/vnd.dynageo'], ['gex', 'application/vnd.geometry-explorer'], ['ggb', 'application/vnd.geogebra.file'], ['ggt', 'application/vnd.geogebra.tool'], ['ghf', 'application/vnd.groove-help'], ['gif', 'image/gif'], ['gim', 'application/vnd.groove-identity-message'], ['gl', ['video/gl', 'video/x-gl']], ['gmx', 'application/vnd.gmx'], ['gnumeric', 'application/x-gnumeric'], ['gph', 'application/vnd.flographit'], ['gqf', 'application/vnd.grafeq'], ['gram', 'application/srgs'], ['grv', 'application/vnd.groove-injector'], ['grxml', 'application/srgs+xml'], ['gsd', 'audio/x-gsm'], ['gsf', 'application/x-font-ghostscript'], ['gsm', 'audio/x-gsm'], ['gsp', 'application/x-gsp'], ['gss', 'application/x-gss'], ['gtar', 'application/x-gtar'], ['gtm', 'application/vnd.groove-tool-message'], ['gtw', 'model/vnd.gtw'], ['gv', 'text/vnd.graphviz'], ['gxt', 'application/vnd.geonext'], ['gz', ['application/x-gzip', 'application/x-compressed']], ['gzip', ['multipart/x-gzip', 'application/x-gzip']], ['h', ['text/plain', 'text/x-h']], ['h261', 'video/h261'], ['h263', 'video/h263'], ['h264', 'video/h264'], ['hal', 'application/vnd.hal+xml'], ['hbci', 'application/vnd.hbci'], ['hdf', 'application/x-hdf'], ['help', 'application/x-helpfile'], ['hgl', 'application/vnd.hp-hpgl'], ['hh', ['text/plain', 'text/x-h']], ['hlb', 'text/x-script'], ['hlp', ['application/winhlp', 'application/hlp', 'application/x-helpfile', 'application/x-winhelp']], ['hpg', 'application/vnd.hp-hpgl'], ['hpgl', 'application/vnd.hp-hpgl'], ['hpid', 'application/vnd.hp-hpid'], ['hps', 'application/vnd.hp-hps'], ['hqx', ['application/mac-binhex40', 'application/binhex', 'application/binhex4', 'application/mac-binhex', 'application/x-binhex40', 'application/x-mac-binhex40']], ['hta', 'application/hta'], ['htc', 'text/x-component'], ['htke', 'application/vnd.kenameaapp'], ['htm', 'text/html'], ['html', 'text/html'], ['htmls', 'text/html'], ['htt', 'text/webviewhtml'], ['htx', 'text/html'], ['hvd', 'application/vnd.yamaha.hv-dic'], ['hvp', 'application/vnd.yamaha.hv-voice'], ['hvs', 'application/vnd.yamaha.hv-script'], ['i2g', 'application/vnd.intergeo'], ['icc', 'application/vnd.iccprofile'], ['ice', 'x-conference/x-cooltalk'], ['ico', 'image/x-icon'], ['ics', 'text/calendar'], ['idc', 'text/plain'], ['ief', 'image/ief'], ['iefs', 'image/ief'], ['ifm', 'application/vnd.shana.informed.formdata'], ['iges', ['application/iges', 'model/iges']], ['igl', 'application/vnd.igloader'], ['igm', 'application/vnd.insors.igm'], ['igs', ['application/iges', 'model/iges']], ['igx', 'application/vnd.micrografx.igx'], ['iif', 'application/vnd.shana.informed.interchange'], ['iii', 'application/x-iphone'], ['ima', 'application/x-ima'], ['imap', 'application/x-httpd-imap'], ['imp', 'application/vnd.accpac.simply.imp'], ['ims', 'application/vnd.ms-ims'], ['inf', 'application/inf'], ['ins', ['application/x-internet-signup', 'application/x-internett-signup']], ['ip', 'application/x-ip2'], ['ipfix', 'application/ipfix'], ['ipk', 'application/vnd.shana.informed.package'], ['irm', 'application/vnd.ibm.rights-management'], ['irp', 'application/vnd.irepository.package+xml'], ['isp', 'application/x-internet-signup'], ['isu', 'video/x-isvideo'], ['it', 'audio/it'], ['itp', 'application/vnd.shana.informed.formtemplate'], ['iv', 'application/x-inventor'], ['ivp', 'application/vnd.immervision-ivp'], ['ivr', 'i-world/i-vrml'], ['ivu', 'application/vnd.immervision-ivu'], ['ivy', 'application/x-livescreen'], ['jad', 'text/vnd.sun.j2me.app-descriptor'], ['jam', ['application/vnd.jam', 'audio/x-jam']], ['jar', 'application/java-archive'], ['jav', ['text/plain', 'text/x-java-source']], ['java', ['text/plain', 'text/x-java-source,java', 'text/x-java-source']], ['jcm', 'application/x-java-commerce'], ['jfif', ['image/pipeg', 'image/jpeg', 'image/pjpeg']], ['jfif-tbnl', 'image/jpeg'], ['jisp', 'application/vnd.jisp'], ['jlt', 'application/vnd.hp-jlyt'], ['jnlp', 'application/x-java-jnlp-file'], ['joda', 'application/vnd.joost.joda-archive'], ['jpe', ['image/jpeg', 'image/pjpeg']], ['jpeg', ['image/jpeg', 'image/pjpeg']], ['jpg', ['image/jpeg', 'image/pjpeg']], ['jpgv', 'video/jpeg'], ['jpm', 'video/jpm'], ['jps', 'image/x-jps'], ['js', ['application/javascript', 'application/ecmascript', 'text/javascript', 'text/ecmascript', 'application/x-javascript']], ['json', 'application/json'], ['jut', 'image/jutvision'], ['kar', ['audio/midi', 'music/x-karaoke']], ['karbon', 'application/vnd.kde.karbon'], ['kfo', 'application/vnd.kde.kformula'], ['kia', 'application/vnd.kidspiration'], ['kml', 'application/vnd.google-earth.kml+xml'], ['kmz', 'application/vnd.google-earth.kmz'], ['kne', 'application/vnd.kinar'], ['kon', 'application/vnd.kde.kontour'], ['kpr', 'application/vnd.kde.kpresenter'], ['ksh', ['application/x-ksh', 'text/x-script.ksh']], ['ksp', 'application/vnd.kde.kspread'], ['ktx', 'image/ktx'], ['ktz', 'application/vnd.kahootz'], ['kwd', 'application/vnd.kde.kword'], ['la', ['audio/nspaudio', 'audio/x-nspaudio']], ['lam', 'audio/x-liveaudio'], ['lasxml', 'application/vnd.las.las+xml'], ['latex', 'application/x-latex'], ['lbd', 'application/vnd.llamagraphics.life-balance.desktop'], ['lbe', 'application/vnd.llamagraphics.life-balance.exchange+xml'], ['les', 'application/vnd.hhe.lesson-player'], ['lha', ['application/octet-stream', 'application/lha', 'application/x-lha']], ['lhx', 'application/octet-stream'], ['link66', 'application/vnd.route66.link66+xml'], ['list', 'text/plain'], ['lma', ['audio/nspaudio', 'audio/x-nspaudio']], ['log', 'text/plain'], ['lrm', 'application/vnd.ms-lrm'], ['lsf', 'video/x-la-asf'], ['lsp', ['application/x-lisp', 'text/x-script.lisp']], ['lst', 'text/plain'], ['lsx', ['video/x-la-asf', 'text/x-la-asf']], ['ltf', 'application/vnd.frogans.ltf'], ['ltx', 'application/x-latex'], ['lvp', 'audio/vnd.lucent.voice'], ['lwp', 'application/vnd.lotus-wordpro'], ['lzh', ['application/octet-stream', 'application/x-lzh']], ['lzx', ['application/lzx', 'application/octet-stream', 'application/x-lzx']], ['m', ['text/plain', 'text/x-m']], ['m13', 'application/x-msmediaview'], ['m14', 'application/x-msmediaview'], ['m1v', 'video/mpeg'], ['m21', 'application/mp21'], ['m2a', 'audio/mpeg'], ['m2v', 'video/mpeg'], ['m3u', ['audio/x-mpegurl', 'audio/x-mpequrl']], ['m3u8', 'application/vnd.apple.mpegurl'], ['m4v', 'video/x-m4v'], ['ma', 'application/mathematica'], ['mads', 'application/mads+xml'], ['mag', 'application/vnd.ecowin.chart'], ['man', 'application/x-troff-man'], ['map', 'application/x-navimap'], ['mar', 'text/plain'], ['mathml', 'application/mathml+xml'], ['mbd', 'application/mbedlet'], ['mbk', 'application/vnd.mobius.mbk'], ['mbox', 'application/mbox'], ['mc$', 'application/x-magic-cap-package-1.0'], ['mc1', 'application/vnd.medcalcdata'], ['mcd', ['application/mcad', 'application/vnd.mcd', 'application/x-mathcad']], ['mcf', ['image/vasa', 'text/mcf']], ['mcp', 'application/netmc'], ['mcurl', 'text/vnd.curl.mcurl'], ['mdb', 'application/x-msaccess'], ['mdi', 'image/vnd.ms-modi'], ['me', 'application/x-troff-me'], ['meta4', 'application/metalink4+xml'], ['mets', 'application/mets+xml'], ['mfm', 'application/vnd.mfmp'], ['mgp', 'application/vnd.osgeo.mapguide.package'], ['mgz', 'application/vnd.proteus.magazine'], ['mht', 'message/rfc822'], ['mhtml', 'message/rfc822'], ['mid', ['audio/mid', 'audio/midi', 'music/crescendo', 'x-music/x-midi', 'audio/x-midi', 'application/x-midi', 'audio/x-mid']], ['midi', ['audio/midi', 'music/crescendo', 'x-music/x-midi', 'audio/x-midi', 'application/x-midi', 'audio/x-mid']], ['mif', ['application/vnd.mif', 'application/x-mif', 'application/x-frame']], ['mime', ['message/rfc822', 'www/mime']], ['mj2', 'video/mj2'], ['mjf', 'audio/x-vnd.audioexplosion.mjuicemediafile'], ['mjpg', 'video/x-motion-jpeg'], ['mlp', 'application/vnd.dolby.mlp'], ['mm', ['application/base64', 'application/x-meme']], ['mmd', 'application/vnd.chipnuts.karaoke-mmd'], ['mme', 'application/base64'], ['mmf', 'application/vnd.smaf'], ['mmr', 'image/vnd.fujixerox.edmics-mmr'], ['mny', 'application/x-msmoney'], ['mod', ['audio/mod', 'audio/x-mod']], ['mods', 'application/mods+xml'], ['moov', 'video/quicktime'], ['mov', 'video/quicktime'], ['movie', 'video/x-sgi-movie'], ['mp2', ['video/mpeg', 'audio/mpeg', 'video/x-mpeg', 'audio/x-mpeg', 'video/x-mpeq2a']], ['mp3', ['audio/mpeg', 'audio/mpeg3', 'video/mpeg', 'audio/x-mpeg-3', 'video/x-mpeg']], ['mp4', ['video/mp4', 'application/mp4']], ['mp4a', 'audio/mp4'], ['mpa', ['video/mpeg', 'audio/mpeg']], ['mpc', ['application/vnd.mophun.certificate', 'application/x-project']], ['mpe', 'video/mpeg'], ['mpeg', 'video/mpeg'], ['mpg', ['video/mpeg', 'audio/mpeg']], ['mpga', 'audio/mpeg'], ['mpkg', 'application/vnd.apple.installer+xml'], ['mpm', 'application/vnd.blueice.multipass'], ['mpn', 'application/vnd.mophun.application'], ['mpp', 'application/vnd.ms-project'], ['mpt', 'application/x-project'], ['mpv', 'application/x-project'], ['mpv2', 'video/mpeg'], ['mpx', 'application/x-project'], ['mpy', 'application/vnd.ibm.minipay'], ['mqy', 'application/vnd.mobius.mqy'], ['mrc', 'application/marc'], ['mrcx', 'application/marcxml+xml'], ['ms', 'application/x-troff-ms'], ['mscml', 'application/mediaservercontrol+xml'], ['mseq', 'application/vnd.mseq'], ['msf', 'application/vnd.epson.msf'], ['msg', 'application/vnd.ms-outlook'], ['msh', 'model/mesh'], ['msl', 'application/vnd.mobius.msl'], ['msty', 'application/vnd.muvee.style'], ['mts', 'model/vnd.mts'], ['mus', 'application/vnd.musician'], ['musicxml', 'application/vnd.recordare.musicxml+xml'], ['mv', 'video/x-sgi-movie'], ['mvb', 'application/x-msmediaview'], ['mwf', 'application/vnd.mfer'], ['mxf', 'application/mxf'], ['mxl', 'application/vnd.recordare.musicxml'], ['mxml', 'application/xv+xml'], ['mxs', 'application/vnd.triscape.mxs'], ['mxu', 'video/vnd.mpegurl'], ['my', 'audio/make'], ['mzz', 'application/x-vnd.audioexplosion.mzz'], ['n-gage', 'application/vnd.nokia.n-gage.symbian.install'], ['n3', 'text/n3'], ['nap', 'image/naplps'], ['naplps', 'image/naplps'], ['nbp', 'application/vnd.wolfram.player'], ['nc', 'application/x-netcdf'], ['ncm', 'application/vnd.nokia.configuration-message'], ['ncx', 'application/x-dtbncx+xml'], ['ngdat', 'application/vnd.nokia.n-gage.data'], ['nif', 'image/x-niff'], ['niff', 'image/x-niff'], ['nix', 'application/x-mix-transfer'], ['nlu', 'application/vnd.neurolanguage.nlu'], ['nml', 'application/vnd.enliven'], ['nnd', 'application/vnd.noblenet-directory'], ['nns', 'application/vnd.noblenet-sealer'], ['nnw', 'application/vnd.noblenet-web'], ['npx', 'image/vnd.net-fpx'], ['nsc', 'application/x-conference'], ['nsf', 'application/vnd.lotus-notes'], ['nvd', 'application/x-navidoc'], ['nws', 'message/rfc822'], ['o', 'application/octet-stream'], ['oa2', 'application/vnd.fujitsu.oasys2'], ['oa3', 'application/vnd.fujitsu.oasys3'], ['oas', 'application/vnd.fujitsu.oasys'], ['obd', 'application/x-msbinder'], ['oda', 'application/oda'], ['odb', 'application/vnd.oasis.opendocument.database'], ['odc', 'application/vnd.oasis.opendocument.chart'], ['odf', 'application/vnd.oasis.opendocument.formula'], ['odft', 'application/vnd.oasis.opendocument.formula-template'], ['odg', 'application/vnd.oasis.opendocument.graphics'], ['odi', 'application/vnd.oasis.opendocument.image'], ['odm', 'application/vnd.oasis.opendocument.text-master'], ['odp', 'application/vnd.oasis.opendocument.presentation'], ['ods', 'application/vnd.oasis.opendocument.spreadsheet'], ['odt', 'application/vnd.oasis.opendocument.text'], ['oga', 'audio/ogg'], ['ogv', 'video/ogg'], ['ogx', 'application/ogg'], ['omc', 'application/x-omc'], ['omcd', 'application/x-omcdatamaker'], ['omcr', 'application/x-omcregerator'], ['onetoc', 'application/onenote'], ['opf', 'application/oebps-package+xml'], ['org', 'application/vnd.lotus-organizer'], ['osf', 'application/vnd.yamaha.openscoreformat'], ['osfpvg', 'application/vnd.yamaha.openscoreformat.osfpvg+xml'], ['otc', 'application/vnd.oasis.opendocument.chart-template'], ['otf', 'application/x-font-otf'], ['otg', 'application/vnd.oasis.opendocument.graphics-template'], ['oth', 'application/vnd.oasis.opendocument.text-web'], ['oti', 'application/vnd.oasis.opendocument.image-template'], ['otp', 'application/vnd.oasis.opendocument.presentation-template'], ['ots', 'application/vnd.oasis.opendocument.spreadsheet-template'], ['ott', 'application/vnd.oasis.opendocument.text-template'], ['oxt', 'application/vnd.openofficeorg.extension'], ['p', 'text/x-pascal'], ['p10', ['application/pkcs10', 'application/x-pkcs10']], ['p12', ['application/pkcs-12', 'application/x-pkcs12']], ['p7a', 'application/x-pkcs7-signature'], ['p7b', 'application/x-pkcs7-certificates'], ['p7c', ['application/pkcs7-mime', 'application/x-pkcs7-mime']], ['p7m', ['application/pkcs7-mime', 'application/x-pkcs7-mime']], ['p7r', 'application/x-pkcs7-certreqresp'], ['p7s', ['application/pkcs7-signature', 'application/x-pkcs7-signature']], ['p8', 'application/pkcs8'], ['par', 'text/plain-bas'], ['part', 'application/pro_eng'], ['pas', 'text/pascal'], ['paw', 'application/vnd.pawaafile'], ['pbd', 'application/vnd.powerbuilder6'], ['pbm', 'image/x-portable-bitmap'], ['pcf', 'application/x-font-pcf'], ['pcl', ['application/vnd.hp-pcl', 'application/x-pcl']], ['pclxl', 'application/vnd.hp-pclxl'], ['pct', 'image/x-pict'], ['pcurl', 'application/vnd.curl.pcurl'], ['pcx', 'image/x-pcx'], ['pdb', ['application/vnd.palm', 'chemical/x-pdb']], ['pdf', 'application/pdf'], ['pfa', 'application/x-font-type1'], ['pfr', 'application/font-tdpfr'], ['pfunk', ['audio/make', 'audio/make.my.funk']], ['pfx', 'application/x-pkcs12'], ['pgm', ['image/x-portable-graymap', 'image/x-portable-greymap']], ['pgn', 'application/x-chess-pgn'], ['pgp', 'application/pgp-signature'], ['pic', ['image/pict', 'image/x-pict']], ['pict', 'image/pict'], ['pkg', 'application/x-newton-compatible-pkg'], ['pki', 'application/pkixcmp'], ['pkipath', 'application/pkix-pkipath'], ['pko', ['application/ynd.ms-pkipko', 'application/vnd.ms-pki.pko']], ['pl', ['text/plain', 'text/x-script.perl']], ['plb', 'application/vnd.3gpp.pic-bw-large'], ['plc', 'application/vnd.mobius.plc'], ['plf', 'application/vnd.pocketlearn'], ['pls', 'application/pls+xml'], ['plx', 'application/x-pixclscript'], ['pm', ['text/x-script.perl-module', 'image/x-xpixmap']], ['pm4', 'application/x-pagemaker'], ['pm5', 'application/x-pagemaker'], ['pma', 'application/x-perfmon'], ['pmc', 'application/x-perfmon'], ['pml', ['application/vnd.ctc-posml', 'application/x-perfmon']], ['pmr', 'application/x-perfmon'], ['pmw', 'application/x-perfmon'], ['png', 'image/png'], ['pnm', ['application/x-portable-anymap', 'image/x-portable-anymap']], ['portpkg', 'application/vnd.macports.portpkg'], ['pot', ['application/vnd.ms-powerpoint', 'application/mspowerpoint']], ['potm', 'application/vnd.ms-powerpoint.template.macroenabled.12'], ['potx', 'application/vnd.openxmlformats-officedocument.presentationml.template'], ['pov', 'model/x-pov'], ['ppa', 'application/vnd.ms-powerpoint'], ['ppam', 'application/vnd.ms-powerpoint.addin.macroenabled.12'], ['ppd', 'application/vnd.cups-ppd'], ['ppm', 'image/x-portable-pixmap'], ['pps', ['application/vnd.ms-powerpoint', 'application/mspowerpoint']], ['ppsm', 'application/vnd.ms-powerpoint.slideshow.macroenabled.12'], ['ppsx', 'application/vnd.openxmlformats-officedocument.presentationml.slideshow'], ['ppt', ['application/vnd.ms-powerpoint', 'application/mspowerpoint', 'application/powerpoint', 'application/x-mspowerpoint']], ['pptm', 'application/vnd.ms-powerpoint.presentation.macroenabled.12'], ['pptx', 'application/vnd.openxmlformats-officedocument.presentationml.presentation'], ['ppz', 'application/mspowerpoint'], ['prc', 'application/x-mobipocket-ebook'], ['pre', ['application/vnd.lotus-freelance', 'application/x-freelance']], ['prf', 'application/pics-rules'], ['prt', 'application/pro_eng'], ['ps', 'application/postscript'], ['psb', 'application/vnd.3gpp.pic-bw-small'], ['psd', ['application/octet-stream', 'image/vnd.adobe.photoshop']], ['psf', 'application/x-font-linux-psf'], ['pskcxml', 'application/pskc+xml'], ['ptid', 'application/vnd.pvi.ptid1'], ['pub', 'application/x-mspublisher'], ['pvb', 'application/vnd.3gpp.pic-bw-var'], ['pvu', 'paleovu/x-pv'], ['pwn', 'application/vnd.3m.post-it-notes'], ['pwz', 'application/vnd.ms-powerpoint'], ['py', 'text/x-script.phyton'], ['pya', 'audio/vnd.ms-playready.media.pya'], ['pyc', 'application/x-bytecode.python'], ['pyv', 'video/vnd.ms-playready.media.pyv'], ['qam', 'application/vnd.epson.quickanime'], ['qbo', 'application/vnd.intu.qbo'], ['qcp', 'audio/vnd.qcelp'], ['qd3', 'x-world/x-3dmf'], ['qd3d', 'x-world/x-3dmf'], ['qfx', 'application/vnd.intu.qfx'], ['qif', 'image/x-quicktime'], ['qps', 'application/vnd.publishare-delta-tree'], ['qt', 'video/quicktime'], ['qtc', 'video/x-qtc'], ['qti', 'image/x-quicktime'], ['qtif', 'image/x-quicktime'], ['qxd', 'application/vnd.quark.quarkxpress'], ['ra', ['audio/x-realaudio', 'audio/x-pn-realaudio', 'audio/x-pn-realaudio-plugin']], ['ram', 'audio/x-pn-realaudio'], ['rar', 'application/x-rar-compressed'], ['ras', ['image/cmu-raster', 'application/x-cmu-raster', 'image/x-cmu-raster']], ['rast', 'image/cmu-raster'], ['rcprofile', 'application/vnd.ipunplugged.rcprofile'], ['rdf', 'application/rdf+xml'], ['rdz', 'application/vnd.data-vision.rdz'], ['rep', 'application/vnd.businessobjects'], ['res', 'application/x-dtbresource+xml'], ['rexx', 'text/x-script.rexx'], ['rf', 'image/vnd.rn-realflash'], ['rgb', 'image/x-rgb'], ['rif', 'application/reginfo+xml'], ['rip', 'audio/vnd.rip'], ['rl', 'application/resource-lists+xml'], ['rlc', 'image/vnd.fujixerox.edmics-rlc'], ['rld', 'application/resource-lists-diff+xml'], ['rm', ['application/vnd.rn-realmedia', 'audio/x-pn-realaudio']], ['rmi', 'audio/mid'], ['rmm', 'audio/x-pn-realaudio'], ['rmp', ['audio/x-pn-realaudio-plugin', 'audio/x-pn-realaudio']], ['rms', 'application/vnd.jcp.javame.midlet-rms'], ['rnc', 'application/relax-ng-compact-syntax'], ['rng', ['application/ringing-tones', 'application/vnd.nokia.ringing-tone']], ['rnx', 'application/vnd.rn-realplayer'], ['roff', 'application/x-troff'], ['rp', 'image/vnd.rn-realpix'], ['rp9', 'application/vnd.cloanto.rp9'], ['rpm', 'audio/x-pn-realaudio-plugin'], ['rpss', 'application/vnd.nokia.radio-presets'], ['rpst', 'application/vnd.nokia.radio-preset'], ['rq', 'application/sparql-query'], ['rs', 'application/rls-services+xml'], ['rsd', 'application/rsd+xml'], ['rt', ['text/richtext', 'text/vnd.rn-realtext']], ['rtf', ['application/rtf', 'text/richtext', 'application/x-rtf']], ['rtx', ['text/richtext', 'application/rtf']], ['rv', 'video/vnd.rn-realvideo'], ['s', 'text/x-asm'], ['s3m', 'audio/s3m'], ['saf', 'application/vnd.yamaha.smaf-audio'], ['saveme', 'application/octet-stream'], ['sbk', 'application/x-tbook'], ['sbml', 'application/sbml+xml'], ['sc', 'application/vnd.ibm.secure-container'], ['scd', 'application/x-msschedule'], ['scm', ['application/vnd.lotus-screencam', 'video/x-scm', 'text/x-script.guile', 'application/x-lotusscreencam', 'text/x-script.scheme']], ['scq', 'application/scvp-cv-request'], ['scs', 'application/scvp-cv-response'], ['sct', 'text/scriptlet'], ['scurl', 'text/vnd.curl.scurl'], ['sda', 'application/vnd.stardivision.draw'], ['sdc', 'application/vnd.stardivision.calc'], ['sdd', 'application/vnd.stardivision.impress'], ['sdkm', 'application/vnd.solent.sdkm+xml'], ['sdml', 'text/plain'], ['sdp', ['application/sdp', 'application/x-sdp']], ['sdr', 'application/sounder'], ['sdw', 'application/vnd.stardivision.writer'], ['sea', ['application/sea', 'application/x-sea']], ['see', 'application/vnd.seemail'], ['seed', 'application/vnd.fdsn.seed'], ['sema', 'application/vnd.sema'], ['semd', 'application/vnd.semd'], ['semf', 'application/vnd.semf'], ['ser', 'application/java-serialized-object'], ['set', 'application/set'], ['setpay', 'application/set-payment-initiation'], ['setreg', 'application/set-registration-initiation'], ['sfd-hdstx', 'application/vnd.hydrostatix.sof-data'], ['sfs', 'application/vnd.spotfire.sfs'], ['sgl', 'application/vnd.stardivision.writer-global'], ['sgm', ['text/sgml', 'text/x-sgml']], ['sgml', ['text/sgml', 'text/x-sgml']], ['sh', ['application/x-shar', 'application/x-bsh', 'application/x-sh', 'text/x-script.sh']], ['shar', ['application/x-bsh', 'application/x-shar']], ['shf', 'application/shf+xml'], ['shtml', ['text/html', 'text/x-server-parsed-html']], ['sid', 'audio/x-psid'], ['sis', 'application/vnd.symbian.install'], ['sit', ['application/x-stuffit', 'application/x-sit']], ['sitx', 'application/x-stuffitx'], ['skd', 'application/x-koan'], ['skm', 'application/x-koan'], ['skp', ['application/vnd.koan', 'application/x-koan']], ['skt', 'application/x-koan'], ['sl', 'application/x-seelogo'], ['sldm', 'application/vnd.ms-powerpoint.slide.macroenabled.12'], ['sldx', 'application/vnd.openxmlformats-officedocument.presentationml.slide'], ['slt', 'application/vnd.epson.salt'], ['sm', 'application/vnd.stepmania.stepchart'], ['smf', 'application/vnd.stardivision.math'], ['smi', ['application/smil', 'application/smil+xml']], ['smil', 'application/smil'], ['snd', ['audio/basic', 'audio/x-adpcm']], ['snf', 'application/x-font-snf'], ['sol', 'application/solids'], ['spc', ['text/x-speech', 'application/x-pkcs7-certificates']], ['spf', 'application/vnd.yamaha.smaf-phrase'], ['spl', ['application/futuresplash', 'application/x-futuresplash']], ['spot', 'text/vnd.in3d.spot'], ['spp', 'application/scvp-vp-response'], ['spq', 'application/scvp-vp-request'], ['spr', 'application/x-sprite'], ['sprite', 'application/x-sprite'], ['src', 'application/x-wais-source'], ['sru', 'application/sru+xml'], ['srx', 'application/sparql-results+xml'], ['sse', 'application/vnd.kodak-descriptor'], ['ssf', 'application/vnd.epson.ssf'], ['ssi', 'text/x-server-parsed-html'], ['ssm', 'application/streamingmedia'], ['ssml', 'application/ssml+xml'], ['sst', ['application/vnd.ms-pkicertstore', 'application/vnd.ms-pki.certstore']], ['st', 'application/vnd.sailingtracker.track'], ['stc', 'application/vnd.sun.xml.calc.template'], ['std', 'application/vnd.sun.xml.draw.template'], ['step', 'application/step'], ['stf', 'application/vnd.wt.stf'], ['sti', 'application/vnd.sun.xml.impress.template'], ['stk', 'application/hyperstudio'], ['stl', ['application/vnd.ms-pkistl', 'application/sla', 'application/vnd.ms-pki.stl', 'application/x-navistyle']], ['stm', 'text/html'], ['stp', 'application/step'], ['str', 'application/vnd.pg.format'], ['stw', 'application/vnd.sun.xml.writer.template'], ['sub', 'image/vnd.dvb.subtitle'], ['sus', 'application/vnd.sus-calendar'], ['sv4cpio', 'application/x-sv4cpio'], ['sv4crc', 'application/x-sv4crc'], ['svc', 'application/vnd.dvb.service'], ['svd', 'application/vnd.svd'], ['svf', ['image/vnd.dwg', 'image/x-dwg']], ['svg', 'image/svg+xml'], ['svr', ['x-world/x-svr', 'application/x-world']], ['swf', 'application/x-shockwave-flash'], ['swi', 'application/vnd.aristanetworks.swi'], ['sxc', 'application/vnd.sun.xml.calc'], ['sxd', 'application/vnd.sun.xml.draw'], ['sxg', 'application/vnd.sun.xml.writer.global'], ['sxi', 'application/vnd.sun.xml.impress'], ['sxm', 'application/vnd.sun.xml.math'], ['sxw', 'application/vnd.sun.xml.writer'], ['t', ['text/troff', 'application/x-troff']], ['talk', 'text/x-speech'], ['tao', 'application/vnd.tao.intent-module-archive'], ['tar', 'application/x-tar'], ['tbk', ['application/toolbook', 'application/x-tbook']], ['tcap', 'application/vnd.3gpp2.tcap'], ['tcl', ['text/x-script.tcl', 'application/x-tcl']], ['tcsh', 'text/x-script.tcsh'], ['teacher', 'application/vnd.smart.teacher'], ['tei', 'application/tei+xml'], ['tex', 'application/x-tex'], ['texi', 'application/x-texinfo'], ['texinfo', 'application/x-texinfo'], ['text', ['application/plain', 'text/plain']], ['tfi', 'application/thraud+xml'], ['tfm', 'application/x-tex-tfm'], ['tgz', ['application/gnutar', 'application/x-compressed']], ['thmx', 'application/vnd.ms-officetheme'], ['tif', ['image/tiff', 'image/x-tiff']], ['tiff', ['image/tiff', 'image/x-tiff']], ['tmo', 'application/vnd.tmobile-livetv'], ['torrent', 'application/x-bittorrent'], ['tpl', 'application/vnd.groove-tool-template'], ['tpt', 'application/vnd.trid.tpt'], ['tr', 'application/x-troff'], ['tra', 'application/vnd.trueapp'], ['trm', 'application/x-msterminal'], ['tsd', 'application/timestamped-data'], ['tsi', 'audio/tsp-audio'], ['tsp', ['application/dsptype', 'audio/tsplayer']], ['tsv', 'text/tab-separated-values'], ['ttf', 'application/x-font-ttf'], ['ttl', 'text/turtle'], ['turbot', 'image/florian'], ['twd', 'application/vnd.simtech-mindmapper'], ['txd', 'application/vnd.genomatix.tuxedo'], ['txf', 'application/vnd.mobius.txf'], ['txt', 'text/plain'], ['ufd', 'application/vnd.ufdl'], ['uil', 'text/x-uil'], ['uls', 'text/iuls'], ['umj', 'application/vnd.umajin'], ['uni', 'text/uri-list'], ['unis', 'text/uri-list'], ['unityweb', 'application/vnd.unity'], ['unv', 'application/i-deas'], ['uoml', 'application/vnd.uoml+xml'], ['uri', 'text/uri-list'], ['uris', 'text/uri-list'], ['ustar', ['application/x-ustar', 'multipart/x-ustar']], ['utz', 'application/vnd.uiq.theme'], ['uu', ['application/octet-stream', 'text/x-uuencode']], ['uue', 'text/x-uuencode'], ['uva', 'audio/vnd.dece.audio'], ['uvh', 'video/vnd.dece.hd'], ['uvi', 'image/vnd.dece.graphic'], ['uvm', 'video/vnd.dece.mobile'], ['uvp', 'video/vnd.dece.pd'], ['uvs', 'video/vnd.dece.sd'], ['uvu', 'video/vnd.uvvu.mp4'], ['uvv', 'video/vnd.dece.video'], ['vcd', 'application/x-cdlink'], ['vcf', 'text/x-vcard'], ['vcg', 'application/vnd.groove-vcard'], ['vcs', 'text/x-vcalendar'], ['vcx', 'application/vnd.vcx'], ['vda', 'application/vda'], ['vdo', 'video/vdo'], ['vew', 'application/groupwise'], ['vis', 'application/vnd.visionary'], ['viv', ['video/vivo', 'video/vnd.vivo']], ['vivo', ['video/vivo', 'video/vnd.vivo']], ['vmd', 'application/vocaltec-media-desc'], ['vmf', 'application/vocaltec-media-file'], ['voc', ['audio/voc', 'audio/x-voc']], ['vos', 'video/vosaic'], ['vox', 'audio/voxware'], ['vqe', 'audio/x-twinvq-plugin'], ['vqf', 'audio/x-twinvq'], ['vql', 'audio/x-twinvq-plugin'], ['vrml', ['model/vrml', 'x-world/x-vrml', 'application/x-vrml']], ['vrt', 'x-world/x-vrt'], ['vsd', ['application/vnd.visio', 'application/x-visio']], ['vsf', 'application/vnd.vsf'], ['vst', 'application/x-visio'], ['vsw', 'application/x-visio'], ['vtu', 'model/vnd.vtu'], ['vxml', 'application/voicexml+xml'], ['w60', 'application/wordperfect6.0'], ['w61', 'application/wordperfect6.1'], ['w6w', 'application/msword'], ['wad', 'application/x-doom'], ['wav', ['audio/wav', 'audio/x-wav']], ['wax', 'audio/x-ms-wax'], ['wb1', 'application/x-qpro'], ['wbmp', 'image/vnd.wap.wbmp'], ['wbs', 'application/vnd.criticaltools.wbs+xml'], ['wbxml', 'application/vnd.wap.wbxml'], ['wcm', 'application/vnd.ms-works'], ['wdb', 'application/vnd.ms-works'], ['web', 'application/vnd.xara'], ['weba', 'audio/webm'], ['webm', 'video/webm'], ['webp', 'image/webp'], ['wg', 'application/vnd.pmi.widget'], ['wgt', 'application/widget'], ['wiz', 'application/msword'], ['wk1', 'application/x-123'], ['wks', 'application/vnd.ms-works'], ['wm', 'video/x-ms-wm'], ['wma', 'audio/x-ms-wma'], ['wmd', 'application/x-ms-wmd'], ['wmf', ['windows/metafile', 'application/x-msmetafile']], ['wml', 'text/vnd.wap.wml'], ['wmlc', 'application/vnd.wap.wmlc'], ['wmls', 'text/vnd.wap.wmlscript'], ['wmlsc', 'application/vnd.wap.wmlscriptc'], ['wmv', 'video/x-ms-wmv'], ['wmx', 'video/x-ms-wmx'], ['wmz', 'application/x-ms-wmz'], ['woff', 'application/x-font-woff'], ['word', 'application/msword'], ['wp', 'application/wordperfect'], ['wp5', ['application/wordperfect', 'application/wordperfect6.0']], ['wp6', 'application/wordperfect'], ['wpd', ['application/wordperfect', 'application/vnd.wordperfect', 'application/x-wpwin']], ['wpl', 'application/vnd.ms-wpl'], ['wps', 'application/vnd.ms-works'], ['wq1', 'application/x-lotus'], ['wqd', 'application/vnd.wqd'], ['wri', ['application/mswrite', 'application/x-wri', 'application/x-mswrite']], ['wrl', ['model/vrml', 'x-world/x-vrml', 'application/x-world']], ['wrz', ['model/vrml', 'x-world/x-vrml']], ['wsc', 'text/scriplet'], ['wsdl', 'application/wsdl+xml'], ['wspolicy', 'application/wspolicy+xml'], ['wsrc', 'application/x-wais-source'], ['wtb', 'application/vnd.webturbo'], ['wtk', 'application/x-wintalk'], ['wvx', 'video/x-ms-wvx'], ['x-png', 'image/png'], ['x3d', 'application/vnd.hzn-3d-crossword'], ['xaf', 'x-world/x-vrml'], ['xap', 'application/x-silverlight-app'], ['xar', 'application/vnd.xara'], ['xbap', 'application/x-ms-xbap'], ['xbd', 'application/vnd.fujixerox.docuworks.binder'], ['xbm', ['image/xbm', 'image/x-xbm', 'image/x-xbitmap']], ['xdf', 'application/xcap-diff+xml'], ['xdm', 'application/vnd.syncml.dm+xml'], ['xdp', 'application/vnd.adobe.xdp+xml'], ['xdr', 'video/x-amt-demorun'], ['xdssc', 'application/dssc+xml'], ['xdw', 'application/vnd.fujixerox.docuworks'], ['xenc', 'application/xenc+xml'], ['xer', 'application/patch-ops-error+xml'], ['xfdf', 'application/vnd.adobe.xfdf'], ['xfdl', 'application/vnd.xfdl'], ['xgz', 'xgl/drawing'], ['xhtml', 'application/xhtml+xml'], ['xif', 'image/vnd.xiff'], ['xl', 'application/excel'], ['xla', ['application/vnd.ms-excel', 'application/excel', 'application/x-msexcel', 'application/x-excel']], ['xlam', 'application/vnd.ms-excel.addin.macroenabled.12'], ['xlb', ['application/excel', 'application/vnd.ms-excel', 'application/x-excel']], ['xlc', ['application/vnd.ms-excel', 'application/excel', 'application/x-excel']], ['xld', ['application/excel', 'application/x-excel']], ['xlk', ['application/excel', 'application/x-excel']], ['xll', ['application/excel', 'application/vnd.ms-excel', 'application/x-excel']], ['xlm', ['application/vnd.ms-excel', 'application/excel', 'application/x-excel']], ['xls', ['application/vnd.ms-excel', 'application/excel', 'application/x-msexcel', 'application/x-excel']], ['xlsb', 'application/vnd.ms-excel.sheet.binary.macroenabled.12'], ['xlsm', 'application/vnd.ms-excel.sheet.macroenabled.12'], ['xlsx', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'], ['xlt', ['application/vnd.ms-excel', 'application/excel', 'application/x-excel']], ['xltm', 'application/vnd.ms-excel.template.macroenabled.12'], ['xltx', 'application/vnd.openxmlformats-officedocument.spreadsheetml.template'], ['xlv', ['application/excel', 'application/x-excel']], ['xlw', ['application/vnd.ms-excel', 'application/excel', 'application/x-msexcel', 'application/x-excel']], ['xm', 'audio/xm'], ['xml', ['application/xml', 'text/xml', 'application/atom+xml', 'application/rss+xml']], ['xmz', 'xgl/movie'], ['xo', 'application/vnd.olpc-sugar'], ['xof', 'x-world/x-vrml'], ['xop', 'application/xop+xml'], ['xpi', 'application/x-xpinstall'], ['xpix', 'application/x-vnd.ls-xpix'], ['xpm', ['image/xpm', 'image/x-xpixmap']], ['xpr', 'application/vnd.is-xpr'], ['xps', 'application/vnd.ms-xpsdocument'], ['xpw', 'application/vnd.intercon.formnet'], ['xslt', 'application/xslt+xml'], ['xsm', 'application/vnd.syncml+xml'], ['xspf', 'application/xspf+xml'], ['xsr', 'video/x-amt-showrun'], ['xul', 'application/vnd.mozilla.xul+xml'], ['xwd', ['image/x-xwd', 'image/x-xwindowdump']], ['xyz', ['chemical/x-xyz', 'chemical/x-pdb']], ['yang', 'application/yang'], ['yin', 'application/yin+xml'], ['z', ['application/x-compressed', 'application/x-compress']], ['zaz', 'application/vnd.zzazz.deck+xml'], ['zip', ['application/zip', 'multipart/x-zip', 'application/x-zip-compressed', 'application/x-compressed']], ['zir', 'application/vnd.zul'], ['zmm', 'application/vnd.handheld-entertainment+xml'], ['zoo', 'application/octet-stream'], ['zsh', 'text/x-script.zsh']]);\nmodule.exports = {\n  detectMimeType: function detectMimeType(filename) {\n    if (!filename) {\n      return defaultMimeType;\n    }\n\n    var parsed = path.parse(filename);\n    var extension = (parsed.ext.substr(1) || parsed.name || '').split('?').shift().trim().toLowerCase();\n    var value = defaultMimeType;\n\n    if (extensions.has(extension)) {\n      value = extensions.get(extension);\n    }\n\n    if (Array.isArray(value)) {\n      return value[0];\n    }\n\n    return value;\n  },\n  detectExtension: function detectExtension(mimeType) {\n    if (!mimeType) {\n      return defaultExtension;\n    }\n\n    var parts = (mimeType || '').toLowerCase().trim().split('/');\n    var rootType = parts.shift().trim();\n    var subType = parts.join('/').trim();\n\n    if (mimeTypes.has(rootType + '/' + subType)) {\n      var value = mimeTypes.get(rootType + '/' + subType);\n\n      if (Array.isArray(value)) {\n        return value[0];\n      }\n\n      return value;\n    }\n\n    switch (rootType) {\n      case 'text':\n        return 'txt';\n\n      default:\n        return 'bin';\n    }\n  }\n};","/* eslint no-undefined: 0, prefer-spread: 0, no-control-regex: 0 */\n'use strict';\n\nvar _classCallCheck = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/classCallCheck.js\");\n\nvar _createClass = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/createClass.js\");\n\nvar crypto = require('crypto');\n\nvar fs = require('fs');\n\nvar punycode = require('punycode');\n\nvar PassThrough = require('stream').PassThrough;\n\nvar shared = require('../shared');\n\nvar mimeFuncs = require('../mime-funcs');\n\nvar qp = require('../qp');\n\nvar base64 = require('../base64');\n\nvar addressparser = require('../addressparser');\n\nvar nmfetch = require('../fetch');\n\nvar LastNewline = require('./last-newline');\n\nvar LeWindows = require('./le-windows');\n\nvar LeUnix = require('./le-unix');\n/**\n * Creates a new mime tree node. Assumes 'multipart/*' as the content type\n * if it is a branch, anything else counts as leaf. If rootNode is missing from\n * the options, assumes this is the root.\n *\n * @param {String} contentType Define the content type for the node. Can be left blank for attachments (derived from filename)\n * @param {Object} [options] optional options\n * @param {Object} [options.rootNode] root node for this tree\n * @param {Object} [options.parentNode] immediate parent for this node\n * @param {Object} [options.filename] filename for an attachment node\n * @param {String} [options.baseBoundary] shared part of the unique multipart boundary\n * @param {Boolean} [options.keepBcc] If true, do not exclude Bcc from the generated headers\n * @param {Function} [options.normalizeHeaderKey] method to normalize header keys for custom caseing\n * @param {String} [options.textEncoding] either 'Q' (the default) or 'B'\n */\n\n\nvar MimeNode = /*#__PURE__*/function () {\n  function MimeNode(contentType, options) {\n    _classCallCheck(this, MimeNode);\n\n    this.nodeCounter = 0;\n    options = options || {};\n    /**\n     * shared part of the unique multipart boundary\n     */\n\n    this.baseBoundary = options.baseBoundary || crypto.randomBytes(8).toString('hex');\n    this.boundaryPrefix = options.boundaryPrefix || '--_NmP';\n    this.disableFileAccess = !!options.disableFileAccess;\n    this.disableUrlAccess = !!options.disableUrlAccess;\n    this.normalizeHeaderKey = options.normalizeHeaderKey;\n    /**\n     * If date headers is missing and current node is the root, this value is used instead\n     */\n\n    this.date = new Date();\n    /**\n     * Root node for current mime tree\n     */\n\n    this.rootNode = options.rootNode || this;\n    /**\n     * If true include Bcc in generated headers (if available)\n     */\n\n    this.keepBcc = !!options.keepBcc;\n    /**\n     * If filename is specified but contentType is not (probably an attachment)\n     * detect the content type from filename extension\n     */\n\n    if (options.filename) {\n      /**\n       * Filename for this node. Useful with attachments\n       */\n      this.filename = options.filename;\n\n      if (!contentType) {\n        contentType = mimeFuncs.detectMimeType(this.filename.split('.').pop());\n      }\n    }\n    /**\n     * Indicates which encoding should be used for header strings: \"Q\" or \"B\"\n     */\n\n\n    this.textEncoding = (options.textEncoding || '').toString().trim().charAt(0).toUpperCase();\n    /**\n     * Immediate parent for this node (or undefined if not set)\n     */\n\n    this.parentNode = options.parentNode;\n    /**\n     * Hostname for default message-id values\n     */\n\n    this.hostname = options.hostname;\n    /**\n     * If set to 'win' then uses \\r\\n, if 'linux' then \\n. If not set (or `raw` is used) then newlines are kept as is.\n     */\n\n    this.newline = options.newline;\n    /**\n     * An array for possible child nodes\n     */\n\n    this.childNodes = [];\n    /**\n     * Used for generating unique boundaries (prepended to the shared base)\n     */\n\n    this._nodeId = ++this.rootNode.nodeCounter;\n    /**\n     * A list of header values for this node in the form of [{key:'', value:''}]\n     */\n\n    this._headers = [];\n    /**\n     * True if the content only uses ASCII printable characters\n     * @type {Boolean}\n     */\n\n    this._isPlainText = false;\n    /**\n     * True if the content is plain text but has longer lines than allowed\n     * @type {Boolean}\n     */\n\n    this._hasLongLines = false;\n    /**\n     * If set, use instead this value for envelopes instead of generating one\n     * @type {Boolean}\n     */\n\n    this._envelope = false;\n    /**\n     * If set then use this value as the stream content instead of building it\n     * @type {String|Buffer|Stream}\n     */\n\n    this._raw = false;\n    /**\n     * Additional transform streams that the message will be piped before\n     * exposing by createReadStream\n     * @type {Array}\n     */\n\n    this._transforms = [];\n    /**\n     * Additional process functions that the message will be piped through before\n     * exposing by createReadStream. These functions are run after transforms\n     * @type {Array}\n     */\n\n    this._processFuncs = [];\n    /**\n     * If content type is set (or derived from the filename) add it to headers\n     */\n\n    if (contentType) {\n      this.setHeader('Content-Type', contentType);\n    }\n  } /////// PUBLIC METHODS\n\n  /**\n   * Creates and appends a child node.Arguments provided are passed to MimeNode constructor\n   *\n   * @param {String} [contentType] Optional content type\n   * @param {Object} [options] Optional options object\n   * @return {Object} Created node object\n   */\n\n\n  _createClass(MimeNode, [{\n    key: \"createChild\",\n    value: function createChild(contentType, options) {\n      if (!options && typeof contentType === 'object') {\n        options = contentType;\n        contentType = undefined;\n      }\n\n      var node = new MimeNode(contentType, options);\n      this.appendChild(node);\n      return node;\n    }\n    /**\n     * Appends an existing node to the mime tree. Removes the node from an existing\n     * tree if needed\n     *\n     * @param {Object} childNode node to be appended\n     * @return {Object} Appended node object\n     */\n\n  }, {\n    key: \"appendChild\",\n    value: function appendChild(childNode) {\n      if (childNode.rootNode !== this.rootNode) {\n        childNode.rootNode = this.rootNode;\n        childNode._nodeId = ++this.rootNode.nodeCounter;\n      }\n\n      childNode.parentNode = this;\n      this.childNodes.push(childNode);\n      return childNode;\n    }\n    /**\n     * Replaces current node with another node\n     *\n     * @param {Object} node Replacement node\n     * @return {Object} Replacement node\n     */\n\n  }, {\n    key: \"replace\",\n    value: function replace(node) {\n      var _this = this;\n\n      if (node === this) {\n        return this;\n      }\n\n      this.parentNode.childNodes.forEach(function (childNode, i) {\n        if (childNode === _this) {\n          node.rootNode = _this.rootNode;\n          node.parentNode = _this.parentNode;\n          node._nodeId = _this._nodeId;\n          _this.rootNode = _this;\n          _this.parentNode = undefined;\n          node.parentNode.childNodes[i] = node;\n        }\n      });\n      return node;\n    }\n    /**\n     * Removes current node from the mime tree\n     *\n     * @return {Object} removed node\n     */\n\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      if (!this.parentNode) {\n        return this;\n      }\n\n      for (var i = this.parentNode.childNodes.length - 1; i >= 0; i--) {\n        if (this.parentNode.childNodes[i] === this) {\n          this.parentNode.childNodes.splice(i, 1);\n          this.parentNode = undefined;\n          this.rootNode = this;\n          return this;\n        }\n      }\n    }\n    /**\n     * Sets a header value. If the value for selected key exists, it is overwritten.\n     * You can set multiple values as well by using [{key:'', value:''}] or\n     * {key: 'value'} as the first argument.\n     *\n     * @param {String|Array|Object} key Header key or a list of key value pairs\n     * @param {String} value Header value\n     * @return {Object} current node\n     */\n\n  }, {\n    key: \"setHeader\",\n    value: function setHeader(key, value) {\n      var _this2 = this;\n\n      var added = false,\n          headerValue; // Allow setting multiple headers at once\n\n      if (!value && key && typeof key === 'object') {\n        // allow {key:'content-type', value: 'text/plain'}\n        if (key.key && 'value' in key) {\n          this.setHeader(key.key, key.value);\n        } else if (Array.isArray(key)) {\n          // allow [{key:'content-type', value: 'text/plain'}]\n          key.forEach(function (i) {\n            _this2.setHeader(i.key, i.value);\n          });\n        } else {\n          // allow {'content-type': 'text/plain'}\n          Object.keys(key).forEach(function (i) {\n            _this2.setHeader(i, key[i]);\n          });\n        }\n\n        return this;\n      }\n\n      key = this._normalizeHeaderKey(key);\n      headerValue = {\n        key: key,\n        value: value\n      }; // Check if the value exists and overwrite\n\n      for (var i = 0, len = this._headers.length; i < len; i++) {\n        if (this._headers[i].key === key) {\n          if (!added) {\n            // replace the first match\n            this._headers[i] = headerValue;\n            added = true;\n          } else {\n            // remove following matches\n            this._headers.splice(i, 1);\n\n            i--;\n            len--;\n          }\n        }\n      } // match not found, append the value\n\n\n      if (!added) {\n        this._headers.push(headerValue);\n      }\n\n      return this;\n    }\n    /**\n     * Adds a header value. If the value for selected key exists, the value is appended\n     * as a new field and old one is not touched.\n     * You can set multiple values as well by using [{key:'', value:''}] or\n     * {key: 'value'} as the first argument.\n     *\n     * @param {String|Array|Object} key Header key or a list of key value pairs\n     * @param {String} value Header value\n     * @return {Object} current node\n     */\n\n  }, {\n    key: \"addHeader\",\n    value: function addHeader(key, value) {\n      var _this3 = this;\n\n      // Allow setting multiple headers at once\n      if (!value && key && typeof key === 'object') {\n        // allow {key:'content-type', value: 'text/plain'}\n        if (key.key && key.value) {\n          this.addHeader(key.key, key.value);\n        } else if (Array.isArray(key)) {\n          // allow [{key:'content-type', value: 'text/plain'}]\n          key.forEach(function (i) {\n            _this3.addHeader(i.key, i.value);\n          });\n        } else {\n          // allow {'content-type': 'text/plain'}\n          Object.keys(key).forEach(function (i) {\n            _this3.addHeader(i, key[i]);\n          });\n        }\n\n        return this;\n      } else if (Array.isArray(value)) {\n        value.forEach(function (val) {\n          _this3.addHeader(key, val);\n        });\n        return this;\n      }\n\n      this._headers.push({\n        key: this._normalizeHeaderKey(key),\n        value: value\n      });\n\n      return this;\n    }\n    /**\n     * Retrieves the first mathcing value of a selected key\n     *\n     * @param {String} key Key to search for\n     * @retun {String} Value for the key\n     */\n\n  }, {\n    key: \"getHeader\",\n    value: function getHeader(key) {\n      key = this._normalizeHeaderKey(key);\n\n      for (var i = 0, len = this._headers.length; i < len; i++) {\n        if (this._headers[i].key === key) {\n          return this._headers[i].value;\n        }\n      }\n    }\n    /**\n     * Sets body content for current node. If the value is a string, charset is added automatically\n     * to Content-Type (if it is text/*). If the value is a Buffer, you need to specify\n     * the charset yourself\n     *\n     * @param (String|Buffer) content Body content\n     * @return {Object} current node\n     */\n\n  }, {\n    key: \"setContent\",\n    value: function setContent(content) {\n      var _this4 = this;\n\n      this.content = content;\n\n      if (typeof this.content.pipe === 'function') {\n        // pre-stream handler. might be triggered if a stream is set as content\n        // and 'error' fires before anything is done with this stream\n        this._contentErrorHandler = function (err) {\n          _this4.content.removeListener('error', _this4._contentErrorHandler);\n\n          _this4.content = err;\n        };\n\n        this.content.once('error', this._contentErrorHandler);\n      } else if (typeof this.content === 'string') {\n        this._isPlainText = mimeFuncs.isPlainText(this.content);\n\n        if (this._isPlainText && mimeFuncs.hasLongerLines(this.content, 76)) {\n          // If there are lines longer than 76 symbols/bytes do not use 7bit\n          this._hasLongLines = true;\n        }\n      }\n\n      return this;\n    }\n  }, {\n    key: \"build\",\n    value: function build(callback) {\n      var promise;\n\n      if (!callback) {\n        promise = new Promise(function (resolve, reject) {\n          callback = shared.callbackPromise(resolve, reject);\n        });\n      }\n\n      var stream = this.createReadStream();\n      var buf = [];\n      var buflen = 0;\n      var returned = false;\n      stream.on('readable', function () {\n        var chunk;\n\n        while ((chunk = stream.read()) !== null) {\n          buf.push(chunk);\n          buflen += chunk.length;\n        }\n      });\n      stream.once('error', function (err) {\n        if (returned) {\n          return;\n        }\n\n        returned = true;\n        return callback(err);\n      });\n      stream.once('end', function (chunk) {\n        if (returned) {\n          return;\n        }\n\n        returned = true;\n\n        if (chunk && chunk.length) {\n          buf.push(chunk);\n          buflen += chunk.length;\n        }\n\n        return callback(null, Buffer.concat(buf, buflen));\n      });\n      return promise;\n    }\n  }, {\n    key: \"getTransferEncoding\",\n    value: function getTransferEncoding() {\n      var transferEncoding = false;\n      var contentType = (this.getHeader('Content-Type') || '').toString().toLowerCase().trim();\n\n      if (this.content) {\n        transferEncoding = (this.getHeader('Content-Transfer-Encoding') || '').toString().toLowerCase().trim();\n\n        if (!transferEncoding || !['base64', 'quoted-printable'].includes(transferEncoding)) {\n          if (/^text\\//i.test(contentType)) {\n            // If there are no special symbols, no need to modify the text\n            if (this._isPlainText && !this._hasLongLines) {\n              transferEncoding = '7bit';\n            } else if (typeof this.content === 'string' || this.content instanceof Buffer) {\n              // detect preferred encoding for string value\n              transferEncoding = this._getTextEncoding(this.content) === 'Q' ? 'quoted-printable' : 'base64';\n            } else {\n              // we can not check content for a stream, so either use preferred encoding or fallback to QP\n              transferEncoding = this.textEncoding === 'B' ? 'base64' : 'quoted-printable';\n            }\n          } else if (!/^(multipart|message)\\//i.test(contentType)) {\n            transferEncoding = transferEncoding || 'base64';\n          }\n        }\n      }\n\n      return transferEncoding;\n    }\n    /**\n     * Builds the header block for the mime node. Append \\r\\n\\r\\n before writing the content\n     *\n     * @returns {String} Headers\n     */\n\n  }, {\n    key: \"buildHeaders\",\n    value: function buildHeaders() {\n      var _this5 = this;\n\n      var transferEncoding = this.getTransferEncoding();\n      var headers = [];\n\n      if (transferEncoding) {\n        this.setHeader('Content-Transfer-Encoding', transferEncoding);\n      }\n\n      if (this.filename && !this.getHeader('Content-Disposition')) {\n        this.setHeader('Content-Disposition', 'attachment');\n      } // Ensure mandatory header fields\n\n\n      if (this.rootNode === this) {\n        if (!this.getHeader('Date')) {\n          this.setHeader('Date', this.date.toUTCString().replace(/GMT/, '+0000'));\n        } // ensure that Message-Id is present\n\n\n        this.messageId();\n\n        if (!this.getHeader('MIME-Version')) {\n          this.setHeader('MIME-Version', '1.0');\n        }\n      }\n\n      this._headers.forEach(function (header) {\n        var key = header.key;\n        var value = header.value;\n        var structured;\n        var param;\n        var options = {};\n        var formattedHeaders = ['From', 'Sender', 'To', 'Cc', 'Bcc', 'Reply-To', 'Date', 'References'];\n\n        if (value && typeof value === 'object' && !formattedHeaders.includes(key)) {\n          Object.keys(value).forEach(function (key) {\n            if (key !== 'value') {\n              options[key] = value[key];\n            }\n          });\n          value = (value.value || '').toString();\n\n          if (!value.trim()) {\n            return;\n          }\n        }\n\n        if (options.prepared) {\n          // header value is\n          if (options.foldLines) {\n            headers.push(mimeFuncs.foldLines(key + ': ' + value));\n          } else {\n            headers.push(key + ': ' + value);\n          }\n\n          return;\n        }\n\n        switch (header.key) {\n          case 'Content-Disposition':\n            structured = mimeFuncs.parseHeaderValue(value);\n\n            if (_this5.filename) {\n              structured.params.filename = _this5.filename;\n            }\n\n            value = mimeFuncs.buildHeaderValue(structured);\n            break;\n\n          case 'Content-Type':\n            structured = mimeFuncs.parseHeaderValue(value);\n\n            _this5._handleContentType(structured);\n\n            if (structured.value.match(/^text\\/plain\\b/) && typeof _this5.content === 'string' && /[\\u0080-\\uFFFF]/.test(_this5.content)) {\n              structured.params.charset = 'utf-8';\n            }\n\n            value = mimeFuncs.buildHeaderValue(structured);\n\n            if (_this5.filename) {\n              // add support for non-compliant clients like QQ webmail\n              // we can't build the value with buildHeaderValue as the value is non standard and\n              // would be converted to parameter continuation encoding that we do not want\n              param = _this5._encodeWords(_this5.filename);\n\n              if (param !== _this5.filename || /[\\s'\"\\\\;:/=(),<>@[\\]?]|^-/.test(param)) {\n                // include value in quotes if needed\n                param = '\"' + param + '\"';\n              }\n\n              value += '; name=' + param;\n            }\n\n            break;\n\n          case 'Bcc':\n            if (!_this5.keepBcc) {\n              // skip BCC values\n              return;\n            }\n\n            break;\n        }\n\n        value = _this5._encodeHeaderValue(key, value); // skip empty lines\n\n        if (!(value || '').toString().trim()) {\n          return;\n        }\n\n        if (typeof _this5.normalizeHeaderKey === 'function') {\n          var normalized = _this5.normalizeHeaderKey(key, value);\n\n          if (normalized && typeof normalized === 'string' && normalized.length) {\n            key = normalized;\n          }\n        }\n\n        headers.push(mimeFuncs.foldLines(key + ': ' + value, 76));\n      });\n\n      return headers.join('\\r\\n');\n    }\n    /**\n     * Streams the rfc2822 message from the current node. If this is a root node,\n     * mandatory header fields are set if missing (Date, Message-Id, MIME-Version)\n     *\n     * @return {String} Compiled message\n     */\n\n  }, {\n    key: \"createReadStream\",\n    value: function createReadStream(options) {\n      options = options || {};\n      var stream = new PassThrough(options);\n      var outputStream = stream;\n      var transform;\n      this.stream(stream, options, function (err) {\n        if (err) {\n          outputStream.emit('error', err);\n          return;\n        }\n\n        stream.end();\n      });\n\n      for (var i = 0, len = this._transforms.length; i < len; i++) {\n        transform = typeof this._transforms[i] === 'function' ? this._transforms[i]() : this._transforms[i];\n        outputStream.once('error', function (err) {\n          transform.emit('error', err);\n        });\n        outputStream = outputStream.pipe(transform);\n      } // ensure terminating newline after possible user transforms\n\n\n      transform = new LastNewline();\n      outputStream.once('error', function (err) {\n        transform.emit('error', err);\n      });\n      outputStream = outputStream.pipe(transform); // dkim and stuff\n\n      for (var _i = 0, _len = this._processFuncs.length; _i < _len; _i++) {\n        transform = this._processFuncs[_i];\n        outputStream = transform(outputStream);\n      }\n\n      if (this.newline) {\n        var winbreak = ['win', 'windows', 'dos', '\\r\\n'].includes(this.newline.toString().toLowerCase());\n        var newlineTransform = winbreak ? new LeWindows() : new LeUnix();\n\n        var _stream = outputStream.pipe(newlineTransform);\n\n        outputStream.on('error', function (err) {\n          return _stream.emit('error', err);\n        });\n        return _stream;\n      }\n\n      return outputStream;\n    }\n    /**\n     * Appends a transform stream object to the transforms list. Final output\n     * is passed through this stream before exposing\n     *\n     * @param {Object} transform Read-Write stream\n     */\n\n  }, {\n    key: \"transform\",\n    value: function transform(_transform) {\n      this._transforms.push(_transform);\n    }\n    /**\n     * Appends a post process function. The functon is run after transforms and\n     * uses the following syntax\n     *\n     *   processFunc(input) -> outputStream\n     *\n     * @param {Object} processFunc Read-Write stream\n     */\n\n  }, {\n    key: \"processFunc\",\n    value: function processFunc(_processFunc) {\n      this._processFuncs.push(_processFunc);\n    }\n  }, {\n    key: \"stream\",\n    value: function stream(outputStream, options, done) {\n      var _this6 = this;\n\n      var transferEncoding = this.getTransferEncoding();\n      var contentStream;\n      var localStream; // protect actual callback against multiple triggering\n\n      var returned = false;\n\n      var callback = function callback(err) {\n        if (returned) {\n          return;\n        }\n\n        returned = true;\n        done(err);\n      }; // for multipart nodes, push child nodes\n      // for content nodes end the stream\n\n\n      var finalize = function finalize() {\n        var childId = 0;\n\n        var processChildNode = function processChildNode() {\n          if (childId >= _this6.childNodes.length) {\n            outputStream.write('\\r\\n--' + _this6.boundary + '--\\r\\n');\n            return callback();\n          }\n\n          var child = _this6.childNodes[childId++];\n          outputStream.write((childId > 1 ? '\\r\\n' : '') + '--' + _this6.boundary + '\\r\\n');\n          child.stream(outputStream, options, function (err) {\n            if (err) {\n              return callback(err);\n            }\n\n            setImmediate(processChildNode);\n          });\n        };\n\n        if (_this6.multipart) {\n          setImmediate(processChildNode);\n        } else {\n          return callback();\n        }\n      }; // pushes node content\n\n\n      var sendContent = function sendContent() {\n        if (_this6.content) {\n          if (Object.prototype.toString.call(_this6.content) === '[object Error]') {\n            // content is already errored\n            return callback(_this6.content);\n          }\n\n          if (typeof _this6.content.pipe === 'function') {\n            _this6.content.removeListener('error', _this6._contentErrorHandler);\n\n            _this6._contentErrorHandler = function (err) {\n              return callback(err);\n            };\n\n            _this6.content.once('error', _this6._contentErrorHandler);\n          }\n\n          var createStream = function createStream() {\n            if (['quoted-printable', 'base64'].includes(transferEncoding)) {\n              contentStream = new (transferEncoding === 'base64' ? base64 : qp).Encoder(options);\n              contentStream.pipe(outputStream, {\n                end: false\n              });\n              contentStream.once('end', finalize);\n              contentStream.once('error', function (err) {\n                return callback(err);\n              });\n              localStream = _this6._getStream(_this6.content);\n              localStream.pipe(contentStream);\n            } else {\n              // anything that is not QP or Base54 passes as-is\n              localStream = _this6._getStream(_this6.content);\n              localStream.pipe(outputStream, {\n                end: false\n              });\n              localStream.once('end', finalize);\n            }\n\n            localStream.once('error', function (err) {\n              return callback(err);\n            });\n          };\n\n          if (_this6.content._resolve) {\n            var chunks = [];\n            var chunklen = 0;\n            var _returned = false;\n\n            var sourceStream = _this6._getStream(_this6.content);\n\n            sourceStream.on('error', function (err) {\n              if (_returned) {\n                return;\n              }\n\n              _returned = true;\n              callback(err);\n            });\n            sourceStream.on('readable', function () {\n              var chunk;\n\n              while ((chunk = sourceStream.read()) !== null) {\n                chunks.push(chunk);\n                chunklen += chunk.length;\n              }\n            });\n            sourceStream.on('end', function () {\n              if (_returned) {\n                return;\n              }\n\n              _returned = true;\n              _this6.content._resolve = false;\n              _this6.content._resolvedValue = Buffer.concat(chunks, chunklen);\n              setImmediate(createStream);\n            });\n          } else {\n            setImmediate(createStream);\n          }\n\n          return;\n        } else {\n          return setImmediate(finalize);\n        }\n      };\n\n      if (this._raw) {\n        setImmediate(function () {\n          if (Object.prototype.toString.call(_this6._raw) === '[object Error]') {\n            // content is already errored\n            return callback(_this6._raw);\n          } // remove default error handler (if set)\n\n\n          if (typeof _this6._raw.pipe === 'function') {\n            _this6._raw.removeListener('error', _this6._contentErrorHandler);\n          }\n\n          var raw = _this6._getStream(_this6._raw);\n\n          raw.pipe(outputStream, {\n            end: false\n          });\n          raw.on('error', function (err) {\n            return outputStream.emit('error', err);\n          });\n          raw.on('end', finalize);\n        });\n      } else {\n        outputStream.write(this.buildHeaders() + '\\r\\n\\r\\n');\n        setImmediate(sendContent);\n      }\n    }\n    /**\n     * Sets envelope to be used instead of the generated one\n     *\n     * @return {Object} SMTP envelope in the form of {from: 'from@example.com', to: ['to@example.com']}\n     */\n\n  }, {\n    key: \"setEnvelope\",\n    value: function setEnvelope(envelope) {\n      var _this7 = this;\n\n      var list;\n      this._envelope = {\n        from: false,\n        to: []\n      };\n\n      if (envelope.from) {\n        list = [];\n\n        this._convertAddresses(this._parseAddresses(envelope.from), list);\n\n        list = list.filter(function (address) {\n          return address && address.address;\n        });\n\n        if (list.length && list[0]) {\n          this._envelope.from = list[0].address;\n        }\n      }\n\n      ['to', 'cc', 'bcc'].forEach(function (key) {\n        if (envelope[key]) {\n          _this7._convertAddresses(_this7._parseAddresses(envelope[key]), _this7._envelope.to);\n        }\n      });\n      this._envelope.to = this._envelope.to.map(function (to) {\n        return to.address;\n      }).filter(function (address) {\n        return address;\n      });\n      var standardFields = ['to', 'cc', 'bcc', 'from'];\n      Object.keys(envelope).forEach(function (key) {\n        if (!standardFields.includes(key)) {\n          _this7._envelope[key] = envelope[key];\n        }\n      });\n      return this;\n    }\n    /**\n     * Generates and returns an object with parsed address fields\n     *\n     * @return {Object} Address object\n     */\n\n  }, {\n    key: \"getAddresses\",\n    value: function getAddresses() {\n      var _this8 = this;\n\n      var addresses = {};\n\n      this._headers.forEach(function (header) {\n        var key = header.key.toLowerCase();\n\n        if (['from', 'sender', 'reply-to', 'to', 'cc', 'bcc'].includes(key)) {\n          if (!Array.isArray(addresses[key])) {\n            addresses[key] = [];\n          }\n\n          _this8._convertAddresses(_this8._parseAddresses(header.value), addresses[key]);\n        }\n      });\n\n      return addresses;\n    }\n    /**\n     * Generates and returns SMTP envelope with the sender address and a list of recipients addresses\n     *\n     * @return {Object} SMTP envelope in the form of {from: 'from@example.com', to: ['to@example.com']}\n     */\n\n  }, {\n    key: \"getEnvelope\",\n    value: function getEnvelope() {\n      var _this9 = this;\n\n      if (this._envelope) {\n        return this._envelope;\n      }\n\n      var envelope = {\n        from: false,\n        to: []\n      };\n\n      this._headers.forEach(function (header) {\n        var list = [];\n\n        if (header.key === 'From' || !envelope.from && ['Reply-To', 'Sender'].includes(header.key)) {\n          _this9._convertAddresses(_this9._parseAddresses(header.value), list);\n\n          if (list.length && list[0]) {\n            envelope.from = list[0].address;\n          }\n        } else if (['To', 'Cc', 'Bcc'].includes(header.key)) {\n          _this9._convertAddresses(_this9._parseAddresses(header.value), envelope.to);\n        }\n      });\n\n      envelope.to = envelope.to.map(function (to) {\n        return to.address;\n      });\n      return envelope;\n    }\n    /**\n     * Returns Message-Id value. If it does not exist, then creates one\n     *\n     * @return {String} Message-Id value\n     */\n\n  }, {\n    key: \"messageId\",\n    value: function messageId() {\n      var messageId = this.getHeader('Message-ID'); // You really should define your own Message-Id field!\n\n      if (!messageId) {\n        messageId = this._generateMessageId();\n        this.setHeader('Message-ID', messageId);\n      }\n\n      return messageId;\n    }\n    /**\n     * Sets pregenerated content that will be used as the output of this node\n     *\n     * @param {String|Buffer|Stream} Raw MIME contents\n     */\n\n  }, {\n    key: \"setRaw\",\n    value: function setRaw(raw) {\n      var _this10 = this;\n\n      this._raw = raw;\n\n      if (this._raw && typeof this._raw.pipe === 'function') {\n        // pre-stream handler. might be triggered if a stream is set as content\n        // and 'error' fires before anything is done with this stream\n        this._contentErrorHandler = function (err) {\n          _this10._raw.removeListener('error', _this10._contentErrorHandler);\n\n          _this10._raw = err;\n        };\n\n        this._raw.once('error', this._contentErrorHandler);\n      }\n\n      return this;\n    } /////// PRIVATE METHODS\n\n    /**\n     * Detects and returns handle to a stream related with the content.\n     *\n     * @param {Mixed} content Node content\n     * @returns {Object} Stream object\n     */\n\n  }, {\n    key: \"_getStream\",\n    value: function _getStream(content) {\n      var contentStream;\n\n      if (content._resolvedValue) {\n        // pass string or buffer content as a stream\n        contentStream = new PassThrough();\n        setImmediate(function () {\n          return contentStream.end(content._resolvedValue);\n        });\n        return contentStream;\n      } else if (typeof content.pipe === 'function') {\n        // assume as stream\n        return content;\n      } else if (content && typeof content.path === 'string' && !content.href) {\n        if (this.disableFileAccess) {\n          contentStream = new PassThrough();\n          setImmediate(function () {\n            return contentStream.emit('error', new Error('File access rejected for ' + content.path));\n          });\n          return contentStream;\n        } // read file\n\n\n        return fs.createReadStream(content.path);\n      } else if (content && typeof content.href === 'string') {\n        if (this.disableUrlAccess) {\n          contentStream = new PassThrough();\n          setImmediate(function () {\n            return contentStream.emit('error', new Error('Url access rejected for ' + content.href));\n          });\n          return contentStream;\n        } // fetch URL\n\n\n        return nmfetch(content.href, {\n          headers: content.httpHeaders\n        });\n      } else {\n        // pass string or buffer content as a stream\n        contentStream = new PassThrough();\n        setImmediate(function () {\n          return contentStream.end(content || '');\n        });\n        return contentStream;\n      }\n    }\n    /**\n     * Parses addresses. Takes in a single address or an array or an\n     * array of address arrays (eg. To: [[first group], [second group],...])\n     *\n     * @param {Mixed} addresses Addresses to be parsed\n     * @return {Array} An array of address objects\n     */\n\n  }, {\n    key: \"_parseAddresses\",\n    value: function _parseAddresses(addresses) {\n      var _this11 = this;\n\n      return [].concat.apply([], [].concat(addresses).map(function (address) {\n        // eslint-disable-line prefer-spread\n        if (address && address.address) {\n          address.address = _this11._normalizeAddress(address.address);\n          address.name = address.name || '';\n          return [address];\n        }\n\n        return addressparser(address);\n      }));\n    }\n    /**\n     * Normalizes a header key, uses Camel-Case form, except for uppercase MIME-\n     *\n     * @param {String} key Key to be normalized\n     * @return {String} key in Camel-Case form\n     */\n\n  }, {\n    key: \"_normalizeHeaderKey\",\n    value: function _normalizeHeaderKey(key) {\n      key = (key || '').toString() // no newlines in keys\n      .replace(/\\r?\\n|\\r/g, ' ').trim().toLowerCase() // use uppercase words, except MIME\n      .replace(/^X-SMTPAPI$|^(MIME|DKIM|ARC|BIMI)\\b|^[a-z]|-(SPF|FBL|ID|MD5)$|-[a-z]/gi, function (c) {\n        return c.toUpperCase();\n      }) // special case\n      .replace(/^Content-Features$/i, 'Content-features');\n      return key;\n    }\n    /**\n     * Checks if the content type is multipart and defines boundary if needed.\n     * Doesn't return anything, modifies object argument instead.\n     *\n     * @param {Object} structured Parsed header value for 'Content-Type' key\n     */\n\n  }, {\n    key: \"_handleContentType\",\n    value: function _handleContentType(structured) {\n      this.contentType = structured.value.trim().toLowerCase();\n      this.multipart = /^multipart\\//i.test(this.contentType) ? this.contentType.substr(this.contentType.indexOf('/') + 1) : false;\n\n      if (this.multipart) {\n        this.boundary = structured.params.boundary = structured.params.boundary || this.boundary || this._generateBoundary();\n      } else {\n        this.boundary = false;\n      }\n    }\n    /**\n     * Generates a multipart boundary value\n     *\n     * @return {String} boundary value\n     */\n\n  }, {\n    key: \"_generateBoundary\",\n    value: function _generateBoundary() {\n      return this.rootNode.boundaryPrefix + '-' + this.rootNode.baseBoundary + '-Part_' + this._nodeId;\n    }\n    /**\n     * Encodes a header value for use in the generated rfc2822 email.\n     *\n     * @param {String} key Header key\n     * @param {String} value Header value\n     */\n\n  }, {\n    key: \"_encodeHeaderValue\",\n    value: function _encodeHeaderValue(key, value) {\n      key = this._normalizeHeaderKey(key);\n\n      switch (key) {\n        // Structured headers\n        case 'From':\n        case 'Sender':\n        case 'To':\n        case 'Cc':\n        case 'Bcc':\n        case 'Reply-To':\n          return this._convertAddresses(this._parseAddresses(value));\n        // values enclosed in <>\n\n        case 'Message-ID':\n        case 'In-Reply-To':\n        case 'Content-Id':\n          value = (value || '').toString().replace(/\\r?\\n|\\r/g, ' ');\n\n          if (value.charAt(0) !== '<') {\n            value = '<' + value;\n          }\n\n          if (value.charAt(value.length - 1) !== '>') {\n            value = value + '>';\n          }\n\n          return value;\n        // space separated list of values enclosed in <>\n\n        case 'References':\n          value = [].concat.apply([], [].concat(value || '').map(function (elm) {\n            // eslint-disable-line prefer-spread\n            elm = (elm || '').toString().replace(/\\r?\\n|\\r/g, ' ').trim();\n            return elm.replace(/<[^>]*>/g, function (str) {\n              return str.replace(/\\s/g, '');\n            }).split(/\\s+/);\n          })).map(function (elm) {\n            if (elm.charAt(0) !== '<') {\n              elm = '<' + elm;\n            }\n\n            if (elm.charAt(elm.length - 1) !== '>') {\n              elm = elm + '>';\n            }\n\n            return elm;\n          });\n          return value.join(' ').trim();\n\n        case 'Date':\n          if (Object.prototype.toString.call(value) === '[object Date]') {\n            return value.toUTCString().replace(/GMT/, '+0000');\n          }\n\n          value = (value || '').toString().replace(/\\r?\\n|\\r/g, ' ');\n          return this._encodeWords(value);\n\n        case 'Content-Type':\n        case 'Content-Disposition':\n          // if it includes a filename then it is already encoded\n          return (value || '').toString().replace(/\\r?\\n|\\r/g, ' ');\n\n        default:\n          value = (value || '').toString().replace(/\\r?\\n|\\r/g, ' '); // encodeWords only encodes if needed, otherwise the original string is returned\n\n          return this._encodeWords(value);\n      }\n    }\n    /**\n     * Rebuilds address object using punycode and other adjustments\n     *\n     * @param {Array} addresses An array of address objects\n     * @param {Array} [uniqueList] An array to be populated with addresses\n     * @return {String} address string\n     */\n\n  }, {\n    key: \"_convertAddresses\",\n    value: function _convertAddresses(addresses, uniqueList) {\n      var _this12 = this;\n\n      var values = [];\n      uniqueList = uniqueList || [];\n      [].concat(addresses || []).forEach(function (address) {\n        if (address.address) {\n          address.address = _this12._normalizeAddress(address.address);\n\n          if (!address.name) {\n            values.push(address.address.indexOf(' ') >= 0 ? \"<\".concat(address.address, \">\") : \"\".concat(address.address));\n          } else if (address.name) {\n            values.push(\"\".concat(_this12._encodeAddressName(address.name), \" <\").concat(address.address, \">\"));\n          }\n\n          if (address.address) {\n            if (!uniqueList.filter(function (a) {\n              return a.address === address.address;\n            }).length) {\n              uniqueList.push(address);\n            }\n          }\n        } else if (address.group) {\n          var groupListAddresses = (address.group.length ? _this12._convertAddresses(address.group, uniqueList) : '').trim();\n          values.push(\"\".concat(_this12._encodeAddressName(address.name), \":\").concat(groupListAddresses, \";\"));\n        }\n      });\n      return values.join(', ');\n    }\n    /**\n     * Normalizes an email address\n     *\n     * @param {Array} address An array of address objects\n     * @return {String} address string\n     */\n\n  }, {\n    key: \"_normalizeAddress\",\n    value: function _normalizeAddress(address) {\n      address = (address || '').toString().replace(/[\\x00-\\x1F<>]+/g, ' ') // remove unallowed characters\n      .trim();\n      var lastAt = address.lastIndexOf('@');\n\n      if (lastAt < 0) {\n        // Bare username\n        return address;\n      }\n\n      var user = address.substr(0, lastAt);\n      var domain = address.substr(lastAt + 1); // Usernames are not touched and are kept as is even if these include unicode\n      // Domains are punycoded by default\n      // 'jgeva.ee' will be converted to 'xn--jgeva-dua.ee'\n      // non-unicode domains are left as is\n\n      var encodedDomain;\n\n      try {\n        encodedDomain = punycode.toASCII(domain.toLowerCase());\n      } catch (err) {// keep as is?\n      }\n\n      if (user.indexOf(' ') >= 0) {\n        if (user.charAt(0) !== '\"') {\n          user = '\"' + user;\n        }\n\n        if (user.substr(-1) !== '\"') {\n          user = user + '\"';\n        }\n      }\n\n      return \"\".concat(user, \"@\").concat(encodedDomain);\n    }\n    /**\n     * If needed, mime encodes the name part\n     *\n     * @param {String} name Name part of an address\n     * @returns {String} Mime word encoded string if needed\n     */\n\n  }, {\n    key: \"_encodeAddressName\",\n    value: function _encodeAddressName(name) {\n      if (!/^[\\w ']*$/.test(name)) {\n        if (/^[\\x20-\\x7e]*$/.test(name)) {\n          return '\"' + name.replace(/([\\\\\"])/g, '\\\\$1') + '\"';\n        } else {\n          return mimeFuncs.encodeWord(name, this._getTextEncoding(name), 52);\n        }\n      }\n\n      return name;\n    }\n    /**\n     * If needed, mime encodes the name part\n     *\n     * @param {String} name Name part of an address\n     * @returns {String} Mime word encoded string if needed\n     */\n\n  }, {\n    key: \"_encodeWords\",\n    value: function _encodeWords(value) {\n      // set encodeAll parameter to true even though it is against the recommendation of RFC2047,\n      // by default only words that include non-ascii should be converted into encoded words\n      // but some clients (eg. Zimbra) do not handle it properly and remove surrounding whitespace\n      return mimeFuncs.encodeWords(value, this._getTextEncoding(value), 52, true);\n    }\n    /**\n     * Detects best mime encoding for a text value\n     *\n     * @param {String} value Value to check for\n     * @return {String} either 'Q' or 'B'\n     */\n\n  }, {\n    key: \"_getTextEncoding\",\n    value: function _getTextEncoding(value) {\n      value = (value || '').toString();\n      var encoding = this.textEncoding;\n      var latinLen;\n      var nonLatinLen;\n\n      if (!encoding) {\n        // count latin alphabet symbols and 8-bit range symbols + control symbols\n        // if there are more latin characters, then use quoted-printable\n        // encoding, otherwise use base64\n        nonLatinLen = (value.match(/[\\x00-\\x08\\x0B\\x0C\\x0E-\\x1F\\u0080-\\uFFFF]/g) || []).length; // eslint-disable-line no-control-regex\n\n        latinLen = (value.match(/[a-z]/gi) || []).length; // if there are more latin symbols than binary/unicode, then prefer Q, otherwise B\n\n        encoding = nonLatinLen < latinLen ? 'Q' : 'B';\n      }\n\n      return encoding;\n    }\n    /**\n     * Generates a message id\n     *\n     * @return {String} Random Message-ID value\n     */\n\n  }, {\n    key: \"_generateMessageId\",\n    value: function _generateMessageId() {\n      return '<' + [2, 2, 2, 6].reduce( // crux to generate UUID-like random strings\n      function (prev, len) {\n        return prev + '-' + crypto.randomBytes(len).toString('hex');\n      }, crypto.randomBytes(4).toString('hex')) + '@' + // try to use the domain of the FROM address or fallback to server hostname\n      (this.getEnvelope().from || this.hostname || 'localhost').split('@').pop() + '>';\n    }\n  }]);\n\n  return MimeNode;\n}();\n\nmodule.exports = MimeNode;","'use strict';\n\nvar _classCallCheck = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/classCallCheck.js\");\n\nvar _createClass = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/createClass.js\");\n\nvar _inherits = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/inherits.js\");\n\nvar _possibleConstructorReturn = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n\nvar _getPrototypeOf = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Transform = require('stream').Transform;\n\nvar LastNewline = /*#__PURE__*/function (_Transform) {\n  _inherits(LastNewline, _Transform);\n\n  var _super = _createSuper(LastNewline);\n\n  function LastNewline() {\n    var _this;\n\n    _classCallCheck(this, LastNewline);\n\n    _this = _super.call(this);\n    _this.lastByte = false;\n    return _this;\n  }\n\n  _createClass(LastNewline, [{\n    key: \"_transform\",\n    value: function _transform(chunk, encoding, done) {\n      if (chunk.length) {\n        this.lastByte = chunk[chunk.length - 1];\n      }\n\n      this.push(chunk);\n      done();\n    }\n  }, {\n    key: \"_flush\",\n    value: function _flush(done) {\n      if (this.lastByte === 0x0a) {\n        return done();\n      }\n\n      if (this.lastByte === 0x0d) {\n        this.push(Buffer.from('\\n'));\n        return done();\n      }\n\n      this.push(Buffer.from('\\r\\n'));\n      return done();\n    }\n  }]);\n\n  return LastNewline;\n}(Transform);\n\nmodule.exports = LastNewline;","'use strict';\n\nvar _classCallCheck = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/classCallCheck.js\");\n\nvar _createClass = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/createClass.js\");\n\nvar _inherits = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/inherits.js\");\n\nvar _possibleConstructorReturn = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n\nvar _getPrototypeOf = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar stream = require('stream');\n\nvar Transform = stream.Transform;\n/**\n * Ensures that only <LF> is used for linebreaks\n *\n * @param {Object} options Stream options\n */\n\nvar LeWindows = /*#__PURE__*/function (_Transform) {\n  _inherits(LeWindows, _Transform);\n\n  var _super = _createSuper(LeWindows);\n\n  function LeWindows(options) {\n    var _this;\n\n    _classCallCheck(this, LeWindows);\n\n    _this = _super.call(this, options); // init Transform\n\n    _this.options = options || {};\n    return _this;\n  }\n  /**\n   * Escapes dots\n   */\n\n\n  _createClass(LeWindows, [{\n    key: \"_transform\",\n    value: function _transform(chunk, encoding, done) {\n      var buf;\n      var lastPos = 0;\n\n      for (var i = 0, len = chunk.length; i < len; i++) {\n        if (chunk[i] === 0x0d) {\n          // \\n\n          buf = chunk.slice(lastPos, i);\n          lastPos = i + 1;\n          this.push(buf);\n        }\n      }\n\n      if (lastPos && lastPos < chunk.length) {\n        buf = chunk.slice(lastPos);\n        this.push(buf);\n      } else if (!lastPos) {\n        this.push(chunk);\n      }\n\n      done();\n    }\n  }]);\n\n  return LeWindows;\n}(Transform);\n\nmodule.exports = LeWindows;","'use strict';\n\nvar _classCallCheck = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/classCallCheck.js\");\n\nvar _createClass = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/createClass.js\");\n\nvar _inherits = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/inherits.js\");\n\nvar _possibleConstructorReturn = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n\nvar _getPrototypeOf = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar stream = require('stream');\n\nvar Transform = stream.Transform;\n/**\n * Ensures that only <CR><LF> sequences are used for linebreaks\n *\n * @param {Object} options Stream options\n */\n\nvar LeWindows = /*#__PURE__*/function (_Transform) {\n  _inherits(LeWindows, _Transform);\n\n  var _super = _createSuper(LeWindows);\n\n  function LeWindows(options) {\n    var _this;\n\n    _classCallCheck(this, LeWindows);\n\n    _this = _super.call(this, options); // init Transform\n\n    _this.options = options || {};\n    _this.lastByte = false;\n    return _this;\n  }\n  /**\n   * Escapes dots\n   */\n\n\n  _createClass(LeWindows, [{\n    key: \"_transform\",\n    value: function _transform(chunk, encoding, done) {\n      var buf;\n      var lastPos = 0;\n\n      for (var i = 0, len = chunk.length; i < len; i++) {\n        if (chunk[i] === 0x0a) {\n          // \\n\n          if (i && chunk[i - 1] !== 0x0d || !i && this.lastByte !== 0x0d) {\n            if (i > lastPos) {\n              buf = chunk.slice(lastPos, i);\n              this.push(buf);\n            }\n\n            this.push(Buffer.from('\\r\\n'));\n            lastPos = i + 1;\n          }\n        }\n      }\n\n      if (lastPos && lastPos < chunk.length) {\n        buf = chunk.slice(lastPos);\n        this.push(buf);\n      } else if (!lastPos) {\n        this.push(chunk);\n      }\n\n      this.lastByte = chunk[chunk.length - 1];\n      done();\n    }\n  }]);\n\n  return LeWindows;\n}(Transform);\n\nmodule.exports = LeWindows;","'use strict';\n\nvar Mailer = require('./mailer');\n\nvar shared = require('./shared');\n\nvar SMTPPool = require('./smtp-pool');\n\nvar SMTPTransport = require('./smtp-transport');\n\nvar SendmailTransport = require('./sendmail-transport');\n\nvar StreamTransport = require('./stream-transport');\n\nvar JSONTransport = require('./json-transport');\n\nvar SESTransport = require('./ses-transport');\n\nvar nmfetch = require('./fetch');\n\nvar packageData = require('../package.json');\n\nvar ETHEREAL_API = (process.env.ETHEREAL_API || 'https://api.nodemailer.com').replace(/\\/+$/, '');\nvar ETHEREAL_WEB = (process.env.ETHEREAL_WEB || 'https://ethereal.email').replace(/\\/+$/, '');\nvar ETHEREAL_CACHE = ['true', 'yes', 'y', '1'].includes((process.env.ETHEREAL_CACHE || 'yes').toString().trim().toLowerCase());\nvar testAccount = false;\n\nmodule.exports.createTransport = function (transporter, defaults) {\n  var urlConfig;\n  var options;\n  var mailer;\n\n  if ( // provided transporter is a configuration object, not transporter plugin\n  typeof transporter === 'object' && typeof transporter.send !== 'function' || // provided transporter looks like a connection url\n  typeof transporter === 'string' && /^(smtps?|direct):/i.test(transporter)) {\n    if (urlConfig = typeof transporter === 'string' ? transporter : transporter.url) {\n      // parse a configuration URL into configuration options\n      options = shared.parseConnectionUrl(urlConfig);\n    } else {\n      options = transporter;\n    }\n\n    if (options.pool) {\n      transporter = new SMTPPool(options);\n    } else if (options.sendmail) {\n      transporter = new SendmailTransport(options);\n    } else if (options.streamTransport) {\n      transporter = new StreamTransport(options);\n    } else if (options.jsonTransport) {\n      transporter = new JSONTransport(options);\n    } else if (options.SES) {\n      transporter = new SESTransport(options);\n    } else {\n      transporter = new SMTPTransport(options);\n    }\n  }\n\n  mailer = new Mailer(transporter, options, defaults);\n  return mailer;\n};\n\nmodule.exports.createTestAccount = function (apiUrl, callback) {\n  var promise;\n\n  if (!callback && typeof apiUrl === 'function') {\n    callback = apiUrl;\n    apiUrl = false;\n  }\n\n  if (!callback) {\n    promise = new Promise(function (resolve, reject) {\n      callback = shared.callbackPromise(resolve, reject);\n    });\n  }\n\n  if (ETHEREAL_CACHE && testAccount) {\n    setImmediate(function () {\n      return callback(null, testAccount);\n    });\n    return promise;\n  }\n\n  apiUrl = apiUrl || ETHEREAL_API;\n  var chunks = [];\n  var chunklen = 0;\n  var req = nmfetch(apiUrl + '/user', {\n    contentType: 'application/json',\n    method: 'POST',\n    body: Buffer.from(JSON.stringify({\n      requestor: packageData.name,\n      version: packageData.version\n    }))\n  });\n  req.on('readable', function () {\n    var chunk;\n\n    while ((chunk = req.read()) !== null) {\n      chunks.push(chunk);\n      chunklen += chunk.length;\n    }\n  });\n  req.once('error', function (err) {\n    return callback(err);\n  });\n  req.once('end', function () {\n    var res = Buffer.concat(chunks, chunklen);\n    var data;\n    var err;\n\n    try {\n      data = JSON.parse(res.toString());\n    } catch (E) {\n      err = E;\n    }\n\n    if (err) {\n      return callback(err);\n    }\n\n    if (data.status !== 'success' || data.error) {\n      return callback(new Error(data.error || 'Request failed'));\n    }\n\n    delete data.status;\n    testAccount = data;\n    callback(null, testAccount);\n  });\n  return promise;\n};\n\nmodule.exports.getTestMessageUrl = function (info) {\n  if (!info || !info.response) {\n    return false;\n  }\n\n  var infoProps = new Map();\n  info.response.replace(/\\[([^\\]]+)\\]$/, function (m, props) {\n    props.replace(/\\b([A-Z0-9]+)=([^\\s]+)/g, function (m, key, value) {\n      infoProps.set(key, value);\n    });\n  });\n\n  if (infoProps.has('STATUS') && infoProps.has('MSGID')) {\n    return (testAccount.web || ETHEREAL_WEB) + '/message/' + infoProps.get('MSGID');\n  }\n\n  return false;\n};","'use strict';\n\nvar _classCallCheck = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/classCallCheck.js\");\n\nvar _createClass = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/createClass.js\");\n\nvar _inherits = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/inherits.js\");\n\nvar _possibleConstructorReturn = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n\nvar _getPrototypeOf = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Transform = require('stream').Transform;\n/**\n * Encodes a Buffer into a Quoted-Printable encoded string\n *\n * @param {Buffer} buffer Buffer to convert\n * @returns {String} Quoted-Printable encoded string\n */\n\n\nfunction encode(buffer) {\n  if (typeof buffer === 'string') {\n    buffer = Buffer.from(buffer, 'utf-8');\n  } // usable characters that do not need encoding\n\n\n  var ranges = [// https://tools.ietf.org/html/rfc2045#section-6.7\n  [0x09], // <TAB>\n  [0x0a], // <LF>\n  [0x0d], // <CR>\n  [0x20, 0x3c], // <SP>!\"#$%&'()*+,-./0123456789:;\n  [0x3e, 0x7e] // >?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}\n  ];\n  var result = '';\n  var ord;\n\n  for (var i = 0, len = buffer.length; i < len; i++) {\n    ord = buffer[i]; // if the char is in allowed range, then keep as is, unless it is a WS in the end of a line\n\n    if (checkRanges(ord, ranges) && !((ord === 0x20 || ord === 0x09) && (i === len - 1 || buffer[i + 1] === 0x0a || buffer[i + 1] === 0x0d))) {\n      result += String.fromCharCode(ord);\n      continue;\n    }\n\n    result += '=' + (ord < 0x10 ? '0' : '') + ord.toString(16).toUpperCase();\n  }\n\n  return result;\n}\n/**\n * Adds soft line breaks to a Quoted-Printable string\n *\n * @param {String} str Quoted-Printable encoded string that might need line wrapping\n * @param {Number} [lineLength=76] Maximum allowed length for a line\n * @returns {String} Soft-wrapped Quoted-Printable encoded string\n */\n\n\nfunction wrap(str, lineLength) {\n  str = (str || '').toString();\n  lineLength = lineLength || 76;\n\n  if (str.length <= lineLength) {\n    return str;\n  }\n\n  var pos = 0;\n  var len = str.length;\n  var match, code, line;\n  var lineMargin = Math.floor(lineLength / 3);\n  var result = ''; // insert soft linebreaks where needed\n\n  while (pos < len) {\n    line = str.substr(pos, lineLength);\n\n    if (match = line.match(/\\r\\n/)) {\n      line = line.substr(0, match.index + match[0].length);\n      result += line;\n      pos += line.length;\n      continue;\n    }\n\n    if (line.substr(-1) === '\\n') {\n      // nothing to change here\n      result += line;\n      pos += line.length;\n      continue;\n    } else if (match = line.substr(-lineMargin).match(/\\n.*?$/)) {\n      // truncate to nearest line break\n      line = line.substr(0, line.length - (match[0].length - 1));\n      result += line;\n      pos += line.length;\n      continue;\n    } else if (line.length > lineLength - lineMargin && (match = line.substr(-lineMargin).match(/[ \\t.,!?][^ \\t.,!?]*$/))) {\n      // truncate to nearest space\n      line = line.substr(0, line.length - (match[0].length - 1));\n    } else if (line.match(/[=][\\da-f]{0,2}$/i)) {\n      // push incomplete encoding sequences to the next line\n      if (match = line.match(/[=][\\da-f]{0,1}$/i)) {\n        line = line.substr(0, line.length - match[0].length);\n      } // ensure that utf-8 sequences are not split\n\n\n      while (line.length > 3 && line.length < len - pos && !line.match(/^(?:=[\\da-f]{2}){1,4}$/i) && (match = line.match(/[=][\\da-f]{2}$/gi))) {\n        code = parseInt(match[0].substr(1, 2), 16);\n\n        if (code < 128) {\n          break;\n        }\n\n        line = line.substr(0, line.length - 3);\n\n        if (code >= 0xc0) {\n          break;\n        }\n      }\n    }\n\n    if (pos + line.length < len && line.substr(-1) !== '\\n') {\n      if (line.length === lineLength && line.match(/[=][\\da-f]{2}$/i)) {\n        line = line.substr(0, line.length - 3);\n      } else if (line.length === lineLength) {\n        line = line.substr(0, line.length - 1);\n      }\n\n      pos += line.length;\n      line += '=\\r\\n';\n    } else {\n      pos += line.length;\n    }\n\n    result += line;\n  }\n\n  return result;\n}\n/**\n * Helper function to check if a number is inside provided ranges\n *\n * @param {Number} nr Number to check for\n * @param {Array} ranges An Array of allowed values\n * @returns {Boolean} True if the value was found inside allowed ranges, false otherwise\n */\n\n\nfunction checkRanges(nr, ranges) {\n  for (var i = ranges.length - 1; i >= 0; i--) {\n    if (!ranges[i].length) {\n      continue;\n    }\n\n    if (ranges[i].length === 1 && nr === ranges[i][0]) {\n      return true;\n    }\n\n    if (ranges[i].length === 2 && nr >= ranges[i][0] && nr <= ranges[i][1]) {\n      return true;\n    }\n  }\n\n  return false;\n}\n/**\n * Creates a transform stream for encoding data to Quoted-Printable encoding\n *\n * @constructor\n * @param {Object} options Stream options\n * @param {Number} [options.lineLength=76] Maximum length for lines, set to false to disable wrapping\n */\n\n\nvar Encoder = /*#__PURE__*/function (_Transform) {\n  _inherits(Encoder, _Transform);\n\n  var _super = _createSuper(Encoder);\n\n  function Encoder(options) {\n    var _this;\n\n    _classCallCheck(this, Encoder);\n\n    _this = _super.call(this); // init Transform\n\n    _this.options = options || {};\n\n    if (_this.options.lineLength !== false) {\n      _this.options.lineLength = _this.options.lineLength || 76;\n    }\n\n    _this._curLine = '';\n    _this.inputBytes = 0;\n    _this.outputBytes = 0;\n    return _this;\n  }\n\n  _createClass(Encoder, [{\n    key: \"_transform\",\n    value: function _transform(chunk, encoding, done) {\n      var _this2 = this;\n\n      var qp;\n\n      if (encoding !== 'buffer') {\n        chunk = Buffer.from(chunk, encoding);\n      }\n\n      if (!chunk || !chunk.length) {\n        return done();\n      }\n\n      this.inputBytes += chunk.length;\n\n      if (this.options.lineLength) {\n        qp = this._curLine + encode(chunk);\n        qp = wrap(qp, this.options.lineLength);\n        qp = qp.replace(/(^|\\n)([^\\n]*)$/, function (match, lineBreak, lastLine) {\n          _this2._curLine = lastLine;\n          return lineBreak;\n        });\n\n        if (qp) {\n          this.outputBytes += qp.length;\n          this.push(qp);\n        }\n      } else {\n        qp = encode(chunk);\n        this.outputBytes += qp.length;\n        this.push(qp, 'ascii');\n      }\n\n      done();\n    }\n  }, {\n    key: \"_flush\",\n    value: function _flush(done) {\n      if (this._curLine) {\n        this.outputBytes += this._curLine.length;\n        this.push(this._curLine, 'ascii');\n      }\n\n      done();\n    }\n  }]);\n\n  return Encoder;\n}(Transform); // expose to the world\n\n\nmodule.exports = {\n  encode: encode,\n  wrap: wrap,\n  Encoder: Encoder\n};","'use strict';\n\nvar _classCallCheck = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/classCallCheck.js\");\n\nvar _createClass = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/createClass.js\");\n\nvar spawn = require('child_process').spawn;\n\nvar packageData = require('../../package.json');\n\nvar shared = require('../shared');\n/**\n * Generates a Transport object for Sendmail\n *\n * Possible options can be the following:\n *\n *  * **path** optional path to sendmail binary\n *  * **newline** either 'windows' or 'unix'\n *  * **args** an array of arguments for the sendmail binary\n *\n * @constructor\n * @param {Object} optional config parameter for Sendmail\n */\n\n\nvar SendmailTransport = /*#__PURE__*/function () {\n  function SendmailTransport(options) {\n    _classCallCheck(this, SendmailTransport);\n\n    options = options || {}; // use a reference to spawn for mocking purposes\n\n    this._spawn = spawn;\n    this.options = options || {};\n    this.name = 'Sendmail';\n    this.version = packageData.version;\n    this.path = 'sendmail';\n    this.args = false;\n    this.winbreak = false;\n    this.logger = shared.getLogger(this.options, {\n      component: this.options.component || 'sendmail'\n    });\n\n    if (options) {\n      if (typeof options === 'string') {\n        this.path = options;\n      } else if (typeof options === 'object') {\n        if (options.path) {\n          this.path = options.path;\n        }\n\n        if (Array.isArray(options.args)) {\n          this.args = options.args;\n        }\n\n        this.winbreak = ['win', 'windows', 'dos', '\\r\\n'].includes((options.newline || '').toString().toLowerCase());\n      }\n    }\n  }\n  /**\n   * <p>Compiles a mailcomposer message and forwards it to handler that sends it.</p>\n   *\n   * @param {Object} emailMessage MailComposer object\n   * @param {Function} callback Callback function to run when the sending is completed\n   */\n\n\n  _createClass(SendmailTransport, [{\n    key: \"send\",\n    value: function send(mail, done) {\n      var _this = this;\n\n      // Sendmail strips this header line by itself\n      mail.message.keepBcc = true;\n      var envelope = mail.data.envelope || mail.message.getEnvelope();\n      var messageId = mail.message.messageId();\n      var args;\n      var sendmail;\n      var returned;\n      var hasInvalidAddresses = [].concat(envelope.from || []).concat(envelope.to || []).some(function (addr) {\n        return /^-/.test(addr);\n      });\n\n      if (hasInvalidAddresses) {\n        return done(new Error('Can not send mail. Invalid envelope addresses.'));\n      }\n\n      if (this.args) {\n        // force -i to keep single dots\n        args = ['-i'].concat(this.args).concat(envelope.to);\n      } else {\n        args = ['-i'].concat(envelope.from ? ['-f', envelope.from] : []).concat(envelope.to);\n      }\n\n      var callback = function callback(err) {\n        if (returned) {\n          // ignore any additional responses, already done\n          return;\n        }\n\n        returned = true;\n\n        if (typeof done === 'function') {\n          if (err) {\n            return done(err);\n          } else {\n            return done(null, {\n              envelope: mail.data.envelope || mail.message.getEnvelope(),\n              messageId: messageId,\n              response: 'Messages queued for delivery'\n            });\n          }\n        }\n      };\n\n      try {\n        sendmail = this._spawn(this.path, args);\n      } catch (E) {\n        this.logger.error({\n          err: E,\n          tnx: 'spawn',\n          messageId: messageId\n        }, 'Error occurred while spawning sendmail. %s', E.message);\n        return callback(E);\n      }\n\n      if (sendmail) {\n        sendmail.on('error', function (err) {\n          _this.logger.error({\n            err: err,\n            tnx: 'spawn',\n            messageId: messageId\n          }, 'Error occurred when sending message %s. %s', messageId, err.message);\n\n          callback(err);\n        });\n        sendmail.once('exit', function (code) {\n          if (!code) {\n            return callback();\n          }\n\n          var err;\n\n          if (code === 127) {\n            err = new Error('Sendmail command not found, process exited with code ' + code);\n          } else {\n            err = new Error('Sendmail exited with code ' + code);\n          }\n\n          _this.logger.error({\n            err: err,\n            tnx: 'stdin',\n            messageId: messageId\n          }, 'Error sending message %s to sendmail. %s', messageId, err.message);\n\n          callback(err);\n        });\n        sendmail.once('close', callback);\n        sendmail.stdin.on('error', function (err) {\n          _this.logger.error({\n            err: err,\n            tnx: 'stdin',\n            messageId: messageId\n          }, 'Error occurred when piping message %s to sendmail. %s', messageId, err.message);\n\n          callback(err);\n        });\n        var recipients = [].concat(envelope.to || []);\n\n        if (recipients.length > 3) {\n          recipients.push('...and ' + recipients.splice(2).length + ' more');\n        }\n\n        this.logger.info({\n          tnx: 'send',\n          messageId: messageId\n        }, 'Sending message %s to <%s>', messageId, recipients.join(', '));\n        var sourceStream = mail.message.createReadStream();\n        sourceStream.once('error', function (err) {\n          _this.logger.error({\n            err: err,\n            tnx: 'stdin',\n            messageId: messageId\n          }, 'Error occurred when generating message %s. %s', messageId, err.message);\n\n          sendmail.kill('SIGINT'); // do not deliver the message\n\n          callback(err);\n        });\n        sourceStream.pipe(sendmail.stdin);\n      } else {\n        return callback(new Error('sendmail was not found'));\n      }\n    }\n  }]);\n\n  return SendmailTransport;\n}();\n\nmodule.exports = SendmailTransport;","'use strict';\n\nvar _classCallCheck = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/classCallCheck.js\");\n\nvar _createClass = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/createClass.js\");\n\nvar _inherits = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/inherits.js\");\n\nvar _possibleConstructorReturn = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n\nvar _getPrototypeOf = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar EventEmitter = require('events');\n\nvar packageData = require('../../package.json');\n\nvar shared = require('../shared');\n\nvar LeWindows = require('../mime-node/le-windows');\n/**\n * Generates a Transport object for AWS SES\n *\n * Possible options can be the following:\n *\n *  * **sendingRate** optional Number specifying how many messages per second should be delivered to SES\n *  * **maxConnections** optional Number specifying max number of parallel connections to SES\n *\n * @constructor\n * @param {Object} optional config parameter\n */\n\n\nvar SESTransport = /*#__PURE__*/function (_EventEmitter) {\n  _inherits(SESTransport, _EventEmitter);\n\n  var _super = _createSuper(SESTransport);\n\n  function SESTransport(options) {\n    var _this;\n\n    _classCallCheck(this, SESTransport);\n\n    _this = _super.call(this);\n    options = options || {};\n    _this.options = options || {};\n    _this.ses = _this.options.SES;\n    _this.name = 'SESTransport';\n    _this.version = packageData.version;\n    _this.logger = shared.getLogger(_this.options, {\n      component: _this.options.component || 'ses-transport'\n    }); // parallel sending connections\n\n    _this.maxConnections = Number(_this.options.maxConnections) || Infinity;\n    _this.connections = 0; // max messages per second\n\n    _this.sendingRate = Number(_this.options.sendingRate) || Infinity;\n    _this.sendingRateTTL = null;\n    _this.rateInterval = 1000; // milliseconds\n\n    _this.rateMessages = [];\n    _this.pending = [];\n    _this.idling = true;\n    setImmediate(function () {\n      if (_this.idling) {\n        _this.emit('idle');\n      }\n    });\n    return _this;\n  }\n  /**\n   * Schedules a sending of a message\n   *\n   * @param {Object} emailMessage MailComposer object\n   * @param {Function} callback Callback function to run when the sending is completed\n   */\n\n\n  _createClass(SESTransport, [{\n    key: \"send\",\n    value: function send(mail, callback) {\n      var _this2 = this;\n\n      if (this.connections >= this.maxConnections) {\n        this.idling = false;\n        return this.pending.push({\n          mail: mail,\n          callback: callback\n        });\n      }\n\n      if (!this._checkSendingRate()) {\n        this.idling = false;\n        return this.pending.push({\n          mail: mail,\n          callback: callback\n        });\n      }\n\n      this._send(mail, function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        setImmediate(function () {\n          return callback.apply(void 0, args);\n        });\n\n        _this2._sent();\n      });\n    }\n  }, {\n    key: \"_checkRatedQueue\",\n    value: function _checkRatedQueue() {\n      var _this3 = this;\n\n      if (this.connections >= this.maxConnections || !this._checkSendingRate()) {\n        return;\n      }\n\n      if (!this.pending.length) {\n        if (!this.idling) {\n          this.idling = true;\n          this.emit('idle');\n        }\n\n        return;\n      }\n\n      var next = this.pending.shift();\n\n      this._send(next.mail, function () {\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n\n        setImmediate(function () {\n          return next.callback.apply(next, args);\n        });\n\n        _this3._sent();\n      });\n    }\n  }, {\n    key: \"_checkSendingRate\",\n    value: function _checkSendingRate() {\n      var _this4 = this;\n\n      clearTimeout(this.sendingRateTTL);\n      var now = Date.now();\n      var oldest = false; // delete older messages\n\n      for (var i = this.rateMessages.length - 1; i >= 0; i--) {\n        if (this.rateMessages[i].ts >= now - this.rateInterval && (!oldest || this.rateMessages[i].ts < oldest)) {\n          oldest = this.rateMessages[i].ts;\n        }\n\n        if (this.rateMessages[i].ts < now - this.rateInterval && !this.rateMessages[i].pending) {\n          this.rateMessages.splice(i, 1);\n        }\n      }\n\n      if (this.rateMessages.length < this.sendingRate) {\n        return true;\n      }\n\n      var delay = Math.max(oldest + 1001, now + 20);\n      this.sendingRateTTL = setTimeout(function () {\n        return _this4._checkRatedQueue();\n      }, now - delay);\n\n      try {\n        this.sendingRateTTL.unref();\n      } catch (E) {// Ignore. Happens on envs with non-node timer implementation\n      }\n\n      return false;\n    }\n  }, {\n    key: \"_sent\",\n    value: function _sent() {\n      this.connections--;\n\n      this._checkRatedQueue();\n    }\n    /**\n     * Returns true if there are free slots in the queue\n     */\n\n  }, {\n    key: \"isIdle\",\n    value: function isIdle() {\n      return this.idling;\n    }\n    /**\n     * Compiles a mailcomposer message and forwards it to SES\n     *\n     * @param {Object} emailMessage MailComposer object\n     * @param {Function} callback Callback function to run when the sending is completed\n     */\n\n  }, {\n    key: \"_send\",\n    value: function _send(mail, callback) {\n      var _this5 = this;\n\n      var statObject = {\n        ts: Date.now(),\n        pending: true\n      };\n      this.connections++;\n      this.rateMessages.push(statObject);\n      var envelope = mail.data.envelope || mail.message.getEnvelope();\n      var messageId = mail.message.messageId();\n      var recipients = [].concat(envelope.to || []);\n\n      if (recipients.length > 3) {\n        recipients.push('...and ' + recipients.splice(2).length + ' more');\n      }\n\n      this.logger.info({\n        tnx: 'send',\n        messageId: messageId\n      }, 'Sending message %s to <%s>', messageId, recipients.join(', '));\n\n      var getRawMessage = function getRawMessage(next) {\n        // do not use Message-ID and Date in DKIM signature\n        if (!mail.data._dkim) {\n          mail.data._dkim = {};\n        }\n\n        if (mail.data._dkim.skipFields && typeof mail.data._dkim.skipFields === 'string') {\n          mail.data._dkim.skipFields += ':date:message-id';\n        } else {\n          mail.data._dkim.skipFields = 'date:message-id';\n        }\n\n        var sourceStream = mail.message.createReadStream();\n        var stream = sourceStream.pipe(new LeWindows());\n        var chunks = [];\n        var chunklen = 0;\n        stream.on('readable', function () {\n          var chunk;\n\n          while ((chunk = stream.read()) !== null) {\n            chunks.push(chunk);\n            chunklen += chunk.length;\n          }\n        });\n        sourceStream.once('error', function (err) {\n          return stream.emit('error', err);\n        });\n        stream.once('error', function (err) {\n          next(err);\n        });\n        stream.once('end', function () {\n          return next(null, Buffer.concat(chunks, chunklen));\n        });\n      };\n\n      setImmediate(function () {\n        return getRawMessage(function (err, raw) {\n          if (err) {\n            _this5.logger.error({\n              err: err,\n              tnx: 'send',\n              messageId: messageId\n            }, 'Failed creating message for %s. %s', messageId, err.message);\n\n            statObject.pending = false;\n            return callback(err);\n          }\n\n          var sesMessage = {\n            RawMessage: {\n              // required\n              Data: raw // required\n\n            },\n            Source: envelope.from,\n            Destinations: envelope.to\n          };\n          Object.keys(mail.data.ses || {}).forEach(function (key) {\n            sesMessage[key] = mail.data.ses[key];\n          });\n          var ses = (_this5.ses.aws ? _this5.ses.ses : _this5.ses) || {};\n          var aws = _this5.ses.aws || {};\n\n          var getRegion = function getRegion(cb) {\n            if (ses.config && typeof ses.config.region === 'function') {\n              // promise\n              return ses.config.region().then(function (region) {\n                return cb(null, region);\n              }).catch(function (err) {\n                return cb(err);\n              });\n            }\n\n            return cb(null, ses.config && ses.config.region || 'us-east-1');\n          };\n\n          getRegion(function (err, region) {\n            if (err || !region) {\n              region = 'us-east-1';\n            }\n\n            var sendPromise;\n\n            if (typeof ses.send === 'function' && aws.SendRawEmailCommand) {\n              // v3 API\n              sendPromise = ses.send(new aws.SendRawEmailCommand(sesMessage));\n            } else {\n              // v2 API\n              sendPromise = ses.sendRawEmail(sesMessage).promise();\n            }\n\n            sendPromise.then(function (data) {\n              if (region === 'us-east-1') {\n                region = 'email';\n              }\n\n              statObject.pending = false;\n              callback(null, {\n                envelope: {\n                  from: envelope.from,\n                  to: envelope.to\n                },\n                messageId: '<' + data.MessageId + (!/@/.test(data.MessageId) ? '@' + region + '.amazonses.com' : '') + '>',\n                response: data.MessageId,\n                raw: raw\n              });\n            }).catch(function (err) {\n              _this5.logger.error({\n                err: err,\n                tnx: 'send'\n              }, 'Send error for %s: %s', messageId, err.message);\n\n              statObject.pending = false;\n              callback(err);\n            });\n          });\n        });\n      });\n    }\n    /**\n     * Verifies SES configuration\n     *\n     * @param {Function} callback Callback function\n     */\n\n  }, {\n    key: \"verify\",\n    value: function verify(callback) {\n      var promise;\n      var ses = (this.ses.aws ? this.ses.ses : this.ses) || {};\n      var aws = this.ses.aws || {};\n      var sesMessage = {\n        RawMessage: {\n          // required\n          Data: 'From: invalid@invalid\\r\\nTo: invalid@invalid\\r\\n Subject: Invalid\\r\\n\\r\\nInvalid'\n        },\n        Source: 'invalid@invalid',\n        Destinations: ['invalid@invalid']\n      };\n\n      if (!callback) {\n        promise = new Promise(function (resolve, reject) {\n          callback = shared.callbackPromise(resolve, reject);\n        });\n      }\n\n      var cb = function cb(err) {\n        if (err && (err.code || err.Code) !== 'InvalidParameterValue') {\n          return callback(err);\n        }\n\n        return callback(null, true);\n      };\n\n      if (typeof ses.send === 'function' && aws.SendRawEmailCommand) {\n        // v3 API\n        sesMessage.RawMessage.Data = Buffer.from(sesMessage.RawMessage.Data);\n        ses.send(new aws.SendRawEmailCommand(sesMessage), cb);\n      } else {\n        // v2 API\n        ses.sendRawEmail(sesMessage, cb);\n      }\n\n      return promise;\n    }\n  }]);\n\n  return SESTransport;\n}(EventEmitter);\n\nmodule.exports = SESTransport;","/* eslint no-console: 0 */\n'use strict';\n\nvar urllib = require('url');\n\nvar util = require('util');\n\nvar fs = require('fs');\n\nvar nmfetch = require('../fetch');\n\nvar dns = require('dns');\n\nvar net = require('net');\n\nvar os = require('os');\n\nvar DNS_TTL = 5 * 60 * 1000;\nvar networkInterfaces;\n\ntry {\n  networkInterfaces = os.networkInterfaces();\n} catch (err) {// fails on some systems\n}\n\nmodule.exports.networkInterfaces = networkInterfaces;\n\nvar isFamilySupported = function isFamilySupported(family, allowInternal) {\n  var networkInterfaces = module.exports.networkInterfaces;\n\n  if (!networkInterfaces) {\n    // hope for the best\n    return true;\n  }\n\n  var familySupported = // crux that replaces Object.values(networkInterfaces) as Object.values is not supported in nodejs v6\n  Object.keys(networkInterfaces).map(function (key) {\n    return networkInterfaces[key];\n  }) // crux that replaces .flat() as it is not supported in older Node versions (v10 and older)\n  .reduce(function (acc, val) {\n    return acc.concat(val);\n  }, []).filter(function (i) {\n    return !i.internal || allowInternal;\n  }).filter(function (i) {\n    return i.family === 'IPv' + family || i.family === family;\n  }).length > 0;\n  return familySupported;\n};\n\nvar resolver = function resolver(family, hostname, options, callback) {\n  options = options || {};\n  var familySupported = isFamilySupported(family, options.allowInternalNetworkInterfaces);\n\n  if (!familySupported) {\n    return callback(null, []);\n  }\n\n  dns['resolve' + family](hostname, function (err, addresses) {\n    if (err) {\n      switch (err.code) {\n        case dns.NODATA:\n        case dns.NOTFOUND:\n        case dns.NOTIMP:\n        case dns.SERVFAIL:\n        case dns.CONNREFUSED:\n        case 'EAI_AGAIN':\n          return callback(null, []);\n      }\n\n      return callback(err);\n    }\n\n    return callback(null, Array.isArray(addresses) ? addresses : [].concat(addresses || []));\n  });\n};\n\nvar dnsCache = module.exports.dnsCache = new Map();\n\nvar formatDNSValue = function formatDNSValue(value, extra) {\n  if (!value) {\n    return Object.assign({}, extra || {});\n  }\n\n  return Object.assign({\n    servername: value.servername,\n    host: !value.addresses || !value.addresses.length ? null : value.addresses.length === 1 ? value.addresses[0] : value.addresses[Math.floor(Math.random() * value.addresses.length)]\n  }, extra || {});\n};\n\nmodule.exports.resolveHostname = function (options, callback) {\n  options = options || {};\n\n  if (!options.host && options.servername) {\n    options.host = options.servername;\n  }\n\n  if (!options.host || net.isIP(options.host)) {\n    // nothing to do here\n    var value = {\n      addresses: [options.host],\n      servername: options.servername || false\n    };\n    return callback(null, formatDNSValue(value, {\n      cached: false\n    }));\n  }\n\n  var cached;\n\n  if (dnsCache.has(options.host)) {\n    cached = dnsCache.get(options.host);\n\n    if (!cached.expires || cached.expires >= Date.now()) {\n      return callback(null, formatDNSValue(cached.value, {\n        cached: true\n      }));\n    }\n  }\n\n  resolver(4, options.host, options, function (err, addresses) {\n    if (err) {\n      if (cached) {\n        // ignore error, use expired value\n        return callback(null, formatDNSValue(cached.value, {\n          cached: true,\n          error: err\n        }));\n      }\n\n      return callback(err);\n    }\n\n    if (addresses && addresses.length) {\n      var _value = {\n        addresses: addresses,\n        servername: options.servername || options.host\n      };\n      dnsCache.set(options.host, {\n        value: _value,\n        expires: Date.now() + (options.dnsTtl || DNS_TTL)\n      });\n      return callback(null, formatDNSValue(_value, {\n        cached: false\n      }));\n    }\n\n    resolver(6, options.host, options, function (err, addresses) {\n      if (err) {\n        if (cached) {\n          // ignore error, use expired value\n          return callback(null, formatDNSValue(cached.value, {\n            cached: true,\n            error: err\n          }));\n        }\n\n        return callback(err);\n      }\n\n      if (addresses && addresses.length) {\n        var _value2 = {\n          addresses: addresses,\n          servername: options.servername || options.host\n        };\n        dnsCache.set(options.host, {\n          value: _value2,\n          expires: Date.now() + (options.dnsTtl || DNS_TTL)\n        });\n        return callback(null, formatDNSValue(_value2, {\n          cached: false\n        }));\n      }\n\n      try {\n        dns.lookup(options.host, {\n          all: true\n        }, function (err, addresses) {\n          if (err) {\n            if (cached) {\n              // ignore error, use expired value\n              return callback(null, formatDNSValue(cached.value, {\n                cached: true,\n                error: err\n              }));\n            }\n\n            return callback(err);\n          }\n\n          var address = addresses ? addresses.filter(function (addr) {\n            return isFamilySupported(addr.family);\n          }).map(function (addr) {\n            return addr.address;\n          }).shift() : false;\n\n          if (addresses && addresses.length && !address) {\n            // there are addresses but none can be used\n            var _err = new Error(\"Can not use IPv\".concat(addresses[0].family, \" addresses with current network\"));\n\n            return callback(_err);\n          }\n\n          if (!address && cached) {\n            // nothing was found, fallback to cached value\n            return callback(null, formatDNSValue(cached.value, {\n              cached: true\n            }));\n          }\n\n          var value = {\n            addresses: address ? [address] : [options.host],\n            servername: options.servername || options.host\n          };\n          dnsCache.set(options.host, {\n            value: value,\n            expires: Date.now() + (options.dnsTtl || DNS_TTL)\n          });\n          return callback(null, formatDNSValue(value, {\n            cached: false\n          }));\n        });\n      } catch (err) {\n        if (cached) {\n          // ignore error, use expired value\n          return callback(null, formatDNSValue(cached.value, {\n            cached: true,\n            error: err\n          }));\n        }\n\n        return callback(err);\n      }\n    });\n  });\n};\n/**\n * Parses connection url to a structured configuration object\n *\n * @param {String} str Connection url\n * @return {Object} Configuration object\n */\n\n\nmodule.exports.parseConnectionUrl = function (str) {\n  str = str || '';\n  var options = {};\n  [urllib.parse(str, true)].forEach(function (url) {\n    var auth;\n\n    switch (url.protocol) {\n      case 'smtp:':\n        options.secure = false;\n        break;\n\n      case 'smtps:':\n        options.secure = true;\n        break;\n\n      case 'direct:':\n        options.direct = true;\n        break;\n    }\n\n    if (!isNaN(url.port) && Number(url.port)) {\n      options.port = Number(url.port);\n    }\n\n    if (url.hostname) {\n      options.host = url.hostname;\n    }\n\n    if (url.auth) {\n      auth = url.auth.split(':');\n\n      if (!options.auth) {\n        options.auth = {};\n      }\n\n      options.auth.user = auth.shift();\n      options.auth.pass = auth.join(':');\n    }\n\n    Object.keys(url.query || {}).forEach(function (key) {\n      var obj = options;\n      var lKey = key;\n      var value = url.query[key];\n\n      if (!isNaN(value)) {\n        value = Number(value);\n      }\n\n      switch (value) {\n        case 'true':\n          value = true;\n          break;\n\n        case 'false':\n          value = false;\n          break;\n      } // tls is nested object\n\n\n      if (key.indexOf('tls.') === 0) {\n        lKey = key.substr(4);\n\n        if (!options.tls) {\n          options.tls = {};\n        }\n\n        obj = options.tls;\n      } else if (key.indexOf('.') >= 0) {\n        // ignore nested properties besides tls\n        return;\n      }\n\n      if (!(lKey in obj)) {\n        obj[lKey] = value;\n      }\n    });\n  });\n  return options;\n};\n\nmodule.exports._logFunc = function (logger, level, defaults, data, message) {\n  var entry = {};\n  Object.keys(defaults || {}).forEach(function (key) {\n    if (key !== 'level') {\n      entry[key] = defaults[key];\n    }\n  });\n  Object.keys(data || {}).forEach(function (key) {\n    if (key !== 'level') {\n      entry[key] = data[key];\n    }\n  });\n\n  for (var _len = arguments.length, args = new Array(_len > 5 ? _len - 5 : 0), _key = 5; _key < _len; _key++) {\n    args[_key - 5] = arguments[_key];\n  }\n\n  logger[level].apply(logger, [entry, message].concat(args));\n};\n/**\n * Returns a bunyan-compatible logger interface. Uses either provided logger or\n * creates a default console logger\n *\n * @param {Object} [options] Options object that might include 'logger' value\n * @return {Object} bunyan compatible logger\n */\n\n\nmodule.exports.getLogger = function (options, defaults) {\n  options = options || {};\n  var response = {};\n  var levels = ['trace', 'debug', 'info', 'warn', 'error', 'fatal'];\n\n  if (!options.logger) {\n    // use vanity logger\n    levels.forEach(function (level) {\n      response[level] = function () {\n        return false;\n      };\n    });\n    return response;\n  }\n\n  var logger = options.logger;\n\n  if (options.logger === true) {\n    // create console logger\n    logger = createDefaultLogger(levels);\n  }\n\n  levels.forEach(function (level) {\n    response[level] = function (data, message) {\n      var _module$exports;\n\n      for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n\n      (_module$exports = module.exports)._logFunc.apply(_module$exports, [logger, level, defaults, data, message].concat(args));\n    };\n  });\n  return response;\n};\n/**\n * Wrapper for creating a callback that either resolves or rejects a promise\n * based on input\n *\n * @param {Function} resolve Function to run if callback is called\n * @param {Function} reject Function to run if callback ends with an error\n */\n\n\nmodule.exports.callbackPromise = function (resolve, reject) {\n  return function () {\n    var args = Array.from(arguments);\n    var err = args.shift();\n\n    if (err) {\n      reject(err);\n    } else {\n      resolve.apply(void 0, args);\n    }\n  };\n};\n/**\n * Resolves a String or a Buffer value for content value. Useful if the value\n * is a Stream or a file or an URL. If the value is a Stream, overwrites\n * the stream object with the resolved value (you can't stream a value twice).\n *\n * This is useful when you want to create a plugin that needs a content value,\n * for example the `html` or `text` value as a String or a Buffer but not as\n * a file path or an URL.\n *\n * @param {Object} data An object or an Array you want to resolve an element for\n * @param {String|Number} key Property name or an Array index\n * @param {Function} callback Callback function with (err, value)\n */\n\n\nmodule.exports.resolveContent = function (data, key, callback) {\n  var promise;\n\n  if (!callback) {\n    promise = new Promise(function (resolve, reject) {\n      callback = module.exports.callbackPromise(resolve, reject);\n    });\n  }\n\n  var content = data && data[key] && data[key].content || data[key];\n  var contentStream;\n  var encoding = (typeof data[key] === 'object' && data[key].encoding || 'utf8').toString().toLowerCase().replace(/[-_\\s]/g, '');\n\n  if (!content) {\n    return callback(null, content);\n  }\n\n  if (typeof content === 'object') {\n    if (typeof content.pipe === 'function') {\n      return resolveStream(content, function (err, value) {\n        if (err) {\n          return callback(err);\n        } // we can't stream twice the same content, so we need\n        // to replace the stream object with the streaming result\n\n\n        if (data[key].content) {\n          data[key].content = value;\n        } else {\n          data[key] = value;\n        }\n\n        callback(null, value);\n      });\n    } else if (/^https?:\\/\\//i.test(content.path || content.href)) {\n      contentStream = nmfetch(content.path || content.href);\n      return resolveStream(contentStream, callback);\n    } else if (/^data:/i.test(content.path || content.href)) {\n      var parts = (content.path || content.href).match(/^data:((?:[^;]*;)*(?:[^,]*)),(.*)$/i);\n\n      if (!parts) {\n        return callback(null, Buffer.from(0));\n      }\n\n      return callback(null, /\\bbase64$/i.test(parts[1]) ? Buffer.from(parts[2], 'base64') : Buffer.from(decodeURIComponent(parts[2])));\n    } else if (content.path) {\n      return resolveStream(fs.createReadStream(content.path), callback);\n    }\n  }\n\n  if (typeof data[key].content === 'string' && !['utf8', 'usascii', 'ascii'].includes(encoding)) {\n    content = Buffer.from(data[key].content, encoding);\n  } // default action, return as is\n\n\n  setImmediate(function () {\n    return callback(null, content);\n  });\n  return promise;\n};\n/**\n * Copies properties from source objects to target objects\n */\n\n\nmodule.exports.assign = function\n  /* target, ... sources */\n() {\n  var args = Array.from(arguments);\n  var target = args.shift() || {};\n  args.forEach(function (source) {\n    Object.keys(source || {}).forEach(function (key) {\n      if (['tls', 'auth'].includes(key) && source[key] && typeof source[key] === 'object') {\n        // tls and auth are special keys that need to be enumerated separately\n        // other objects are passed as is\n        if (!target[key]) {\n          // ensure that target has this key\n          target[key] = {};\n        }\n\n        Object.keys(source[key]).forEach(function (subKey) {\n          target[key][subKey] = source[key][subKey];\n        });\n      } else {\n        target[key] = source[key];\n      }\n    });\n  });\n  return target;\n};\n\nmodule.exports.encodeXText = function (str) {\n  // ! 0x21\n  // + 0x2B\n  // = 0x3D\n  // ~ 0x7E\n  if (!/[^\\x21-\\x2A\\x2C-\\x3C\\x3E-\\x7E]/.test(str)) {\n    return str;\n  }\n\n  var buf = Buffer.from(str);\n  var result = '';\n\n  for (var i = 0, len = buf.length; i < len; i++) {\n    var c = buf[i];\n\n    if (c < 0x21 || c > 0x7e || c === 0x2b || c === 0x3d) {\n      result += '+' + (c < 0x10 ? '0' : '') + c.toString(16).toUpperCase();\n    } else {\n      result += String.fromCharCode(c);\n    }\n  }\n\n  return result;\n};\n/**\n * Streams a stream value into a Buffer\n *\n * @param {Object} stream Readable stream\n * @param {Function} callback Callback function with (err, value)\n */\n\n\nfunction resolveStream(stream, callback) {\n  var responded = false;\n  var chunks = [];\n  var chunklen = 0;\n  stream.on('error', function (err) {\n    if (responded) {\n      return;\n    }\n\n    responded = true;\n    callback(err);\n  });\n  stream.on('readable', function () {\n    var chunk;\n\n    while ((chunk = stream.read()) !== null) {\n      chunks.push(chunk);\n      chunklen += chunk.length;\n    }\n  });\n  stream.on('end', function () {\n    if (responded) {\n      return;\n    }\n\n    responded = true;\n    var value;\n\n    try {\n      value = Buffer.concat(chunks, chunklen);\n    } catch (E) {\n      return callback(E);\n    }\n\n    callback(null, value);\n  });\n}\n/**\n * Generates a bunyan-like logger that prints to console\n *\n * @returns {Object} Bunyan logger instance\n */\n\n\nfunction createDefaultLogger(levels) {\n  var levelMaxLen = 0;\n  var levelNames = new Map();\n  levels.forEach(function (level) {\n    if (level.length > levelMaxLen) {\n      levelMaxLen = level.length;\n    }\n  });\n  levels.forEach(function (level) {\n    var levelName = level.toUpperCase();\n\n    if (levelName.length < levelMaxLen) {\n      levelName += ' '.repeat(levelMaxLen - levelName.length);\n    }\n\n    levelNames.set(level, levelName);\n  });\n\n  var print = function print(level, entry, message) {\n    var prefix = '';\n\n    if (entry) {\n      if (entry.tnx === 'server') {\n        prefix = 'S: ';\n      } else if (entry.tnx === 'client') {\n        prefix = 'C: ';\n      }\n\n      if (entry.sid) {\n        prefix = '[' + entry.sid + '] ' + prefix;\n      }\n\n      if (entry.cid) {\n        prefix = '[#' + entry.cid + '] ' + prefix;\n      }\n    }\n\n    for (var _len3 = arguments.length, args = new Array(_len3 > 3 ? _len3 - 3 : 0), _key3 = 3; _key3 < _len3; _key3++) {\n      args[_key3 - 3] = arguments[_key3];\n    }\n\n    message = util.format.apply(util, [message].concat(args));\n    message.split(/\\r?\\n/).forEach(function (line) {\n      console.log('[%s] %s %s', new Date().toISOString().substr(0, 19).replace(/T/, ' '), levelNames.get(level), prefix + line);\n    });\n  };\n\n  var logger = {};\n  levels.forEach(function (level) {\n    logger[level] = print.bind(null, level);\n  });\n  return logger;\n}","'use strict';\n\nvar _classCallCheck = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/classCallCheck.js\");\n\nvar _createClass = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/createClass.js\");\n\nvar _inherits = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/inherits.js\");\n\nvar _possibleConstructorReturn = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n\nvar _getPrototypeOf = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar stream = require('stream');\n\nvar Transform = stream.Transform;\n/**\n * Escapes dots in the beginning of lines. Ends the stream with <CR><LF>.<CR><LF>\n * Also makes sure that only <CR><LF> sequences are used for linebreaks\n *\n * @param {Object} options Stream options\n */\n\nvar DataStream = /*#__PURE__*/function (_Transform) {\n  _inherits(DataStream, _Transform);\n\n  var _super = _createSuper(DataStream);\n\n  function DataStream(options) {\n    var _this;\n\n    _classCallCheck(this, DataStream);\n\n    _this = _super.call(this, options); // init Transform\n\n    _this.options = options || {};\n    _this._curLine = '';\n    _this.inByteCount = 0;\n    _this.outByteCount = 0;\n    _this.lastByte = false;\n    return _this;\n  }\n  /**\n   * Escapes dots\n   */\n\n\n  _createClass(DataStream, [{\n    key: \"_transform\",\n    value: function _transform(chunk, encoding, done) {\n      var chunks = [];\n      var chunklen = 0;\n      var i,\n          len,\n          lastPos = 0;\n      var buf;\n\n      if (!chunk || !chunk.length) {\n        return done();\n      }\n\n      if (typeof chunk === 'string') {\n        chunk = Buffer.from(chunk);\n      }\n\n      this.inByteCount += chunk.length;\n\n      for (i = 0, len = chunk.length; i < len; i++) {\n        if (chunk[i] === 0x2e) {\n          // .\n          if (i && chunk[i - 1] === 0x0a || !i && (!this.lastByte || this.lastByte === 0x0a)) {\n            buf = chunk.slice(lastPos, i + 1);\n            chunks.push(buf);\n            chunks.push(Buffer.from('.'));\n            chunklen += buf.length + 1;\n            lastPos = i + 1;\n          }\n        } else if (chunk[i] === 0x0a) {\n          // .\n          if (i && chunk[i - 1] !== 0x0d || !i && this.lastByte !== 0x0d) {\n            if (i > lastPos) {\n              buf = chunk.slice(lastPos, i);\n              chunks.push(buf);\n              chunklen += buf.length + 2;\n            } else {\n              chunklen += 2;\n            }\n\n            chunks.push(Buffer.from('\\r\\n'));\n            lastPos = i + 1;\n          }\n        }\n      }\n\n      if (chunklen) {\n        // add last piece\n        if (lastPos < chunk.length) {\n          buf = chunk.slice(lastPos);\n          chunks.push(buf);\n          chunklen += buf.length;\n        }\n\n        this.outByteCount += chunklen;\n        this.push(Buffer.concat(chunks, chunklen));\n      } else {\n        this.outByteCount += chunk.length;\n        this.push(chunk);\n      }\n\n      this.lastByte = chunk[chunk.length - 1];\n      done();\n    }\n    /**\n     * Finalizes the stream with a dot on a single line\n     */\n\n  }, {\n    key: \"_flush\",\n    value: function _flush(done) {\n      var buf;\n\n      if (this.lastByte === 0x0a) {\n        buf = Buffer.from('.\\r\\n');\n      } else if (this.lastByte === 0x0d) {\n        buf = Buffer.from('\\n.\\r\\n');\n      } else {\n        buf = Buffer.from('\\r\\n.\\r\\n');\n      }\n\n      this.outByteCount += buf.length;\n      this.push(buf);\n      done();\n    }\n  }]);\n\n  return DataStream;\n}(Transform);\n\nmodule.exports = DataStream;","'use strict';\n/**\n * Minimal HTTP/S proxy client\n */\n\nvar net = require('net');\n\nvar tls = require('tls');\n\nvar urllib = require('url');\n/**\n * Establishes proxied connection to destinationPort\n *\n * httpProxyClient(\"http://localhost:3128/\", 80, \"google.com\", function(err, socket){\n *     socket.write(\"GET / HTTP/1.0\\r\\n\\r\\n\");\n * });\n *\n * @param {String} proxyUrl proxy configuration, etg \"http://proxy.host:3128/\"\n * @param {Number} destinationPort Port to open in destination host\n * @param {String} destinationHost Destination hostname\n * @param {Function} callback Callback to run with the rocket object once connection is established\n */\n\n\nfunction httpProxyClient(proxyUrl, destinationPort, destinationHost, callback) {\n  var proxy = urllib.parse(proxyUrl); // create a socket connection to the proxy server\n\n  var options;\n  var connect;\n  var socket;\n  options = {\n    host: proxy.hostname,\n    port: Number(proxy.port) ? Number(proxy.port) : proxy.protocol === 'https:' ? 443 : 80\n  };\n\n  if (proxy.protocol === 'https:') {\n    // we can use untrusted proxies as long as we verify actual SMTP certificates\n    options.rejectUnauthorized = false;\n    connect = tls.connect.bind(tls);\n  } else {\n    connect = net.connect.bind(net);\n  } // Error harness for initial connection. Once connection is established, the responsibility\n  // to handle errors is passed to whoever uses this socket\n\n\n  var finished = false;\n\n  var tempSocketErr = function tempSocketErr(err) {\n    if (finished) {\n      return;\n    }\n\n    finished = true;\n\n    try {\n      socket.destroy();\n    } catch (E) {// ignore\n    }\n\n    callback(err);\n  };\n\n  var timeoutErr = function timeoutErr() {\n    var err = new Error('Proxy socket timed out');\n    err.code = 'ETIMEDOUT';\n    tempSocketErr(err);\n  };\n\n  socket = connect(options, function () {\n    if (finished) {\n      return;\n    }\n\n    var reqHeaders = {\n      Host: destinationHost + ':' + destinationPort,\n      Connection: 'close'\n    };\n\n    if (proxy.auth) {\n      reqHeaders['Proxy-Authorization'] = 'Basic ' + Buffer.from(proxy.auth).toString('base64');\n    }\n\n    socket.write( // HTTP method\n    'CONNECT ' + destinationHost + ':' + destinationPort + ' HTTP/1.1\\r\\n' + // HTTP request headers\n    Object.keys(reqHeaders).map(function (key) {\n      return key + ': ' + reqHeaders[key];\n    }).join('\\r\\n') + // End request\n    '\\r\\n\\r\\n');\n    var headers = '';\n\n    var onSocketData = function onSocketData(chunk) {\n      var match;\n      var remainder;\n\n      if (finished) {\n        return;\n      }\n\n      headers += chunk.toString('binary');\n\n      if (match = headers.match(/\\r\\n\\r\\n/)) {\n        socket.removeListener('data', onSocketData);\n        remainder = headers.substr(match.index + match[0].length);\n        headers = headers.substr(0, match.index);\n\n        if (remainder) {\n          socket.unshift(Buffer.from(remainder, 'binary'));\n        } // proxy connection is now established\n\n\n        finished = true; // check response code\n\n        match = headers.match(/^HTTP\\/\\d+\\.\\d+ (\\d+)/i);\n\n        if (!match || (match[1] || '').charAt(0) !== '2') {\n          try {\n            socket.destroy();\n          } catch (E) {// ignore\n          }\n\n          return callback(new Error('Invalid response from proxy' + (match && ': ' + match[1] || '')));\n        }\n\n        socket.removeListener('error', tempSocketErr);\n        socket.removeListener('timeout', timeoutErr);\n        socket.setTimeout(0);\n        return callback(null, socket);\n      }\n    };\n\n    socket.on('data', onSocketData);\n  });\n  socket.setTimeout(httpProxyClient.timeout || 30 * 1000);\n  socket.on('timeout', timeoutErr);\n  socket.once('error', tempSocketErr);\n}\n\nmodule.exports = httpProxyClient;","'use strict';\n\nvar _classCallCheck = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/classCallCheck.js\");\n\nvar _createClass = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/createClass.js\");\n\nvar _inherits = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/inherits.js\");\n\nvar _possibleConstructorReturn = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n\nvar _getPrototypeOf = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar packageInfo = require('../../package.json');\n\nvar EventEmitter = require('events').EventEmitter;\n\nvar net = require('net');\n\nvar tls = require('tls');\n\nvar os = require('os');\n\nvar crypto = require('crypto');\n\nvar DataStream = require('./data-stream');\n\nvar PassThrough = require('stream').PassThrough;\n\nvar shared = require('../shared'); // default timeout values in ms\n\n\nvar CONNECTION_TIMEOUT = 2 * 60 * 1000; // how much to wait for the connection to be established\n\nvar SOCKET_TIMEOUT = 10 * 60 * 1000; // how much to wait for socket inactivity before disconnecting the client\n\nvar GREETING_TIMEOUT = 30 * 1000; // how much to wait after connection is established but SMTP greeting is not receieved\n\n/**\n * Generates a SMTP connection object\n *\n * Optional options object takes the following possible properties:\n *\n *  * **port** - is the port to connect to (defaults to 587 or 465)\n *  * **host** - is the hostname or IP address to connect to (defaults to 'localhost')\n *  * **secure** - use SSL\n *  * **ignoreTLS** - ignore server support for STARTTLS\n *  * **requireTLS** - forces the client to use STARTTLS\n *  * **name** - the name of the client server\n *  * **localAddress** - outbound address to bind to (see: http://nodejs.org/api/net.html#net_net_connect_options_connectionlistener)\n *  * **greetingTimeout** - Time to wait in ms until greeting message is received from the server (defaults to 10000)\n *  * **connectionTimeout** - how many milliseconds to wait for the connection to establish\n *  * **socketTimeout** - Time of inactivity until the connection is closed (defaults to 1 hour)\n *  * **lmtp** - if true, uses LMTP instead of SMTP protocol\n *  * **logger** - bunyan compatible logger interface\n *  * **debug** - if true pass SMTP traffic to the logger\n *  * **tls** - options for createCredentials\n *  * **socket** - existing socket to use instead of creating a new one (see: http://nodejs.org/api/net.html#net_class_net_socket)\n *  * **secured** - boolean indicates that the provided socket has already been upgraded to tls\n *\n * @constructor\n * @namespace SMTP Client module\n * @param {Object} [options] Option properties\n */\n\nvar SMTPConnection = /*#__PURE__*/function (_EventEmitter) {\n  _inherits(SMTPConnection, _EventEmitter);\n\n  var _super = _createSuper(SMTPConnection);\n\n  function SMTPConnection(options) {\n    var _this;\n\n    _classCallCheck(this, SMTPConnection);\n\n    _this = _super.call(this, options);\n    _this.id = crypto.randomBytes(8).toString('base64').replace(/\\W/g, '');\n    _this.stage = 'init';\n    _this.options = options || {};\n    _this.secureConnection = !!_this.options.secure;\n    _this.alreadySecured = !!_this.options.secured;\n    _this.port = Number(_this.options.port) || (_this.secureConnection ? 465 : 587);\n    _this.host = _this.options.host || 'localhost';\n    _this.allowInternalNetworkInterfaces = _this.options.allowInternalNetworkInterfaces || false;\n\n    if (typeof _this.options.secure === 'undefined' && _this.port === 465) {\n      // if secure option is not set but port is 465, then default to secure\n      _this.secureConnection = true;\n    }\n\n    _this.name = _this.options.name || _this._getHostname();\n    _this.logger = shared.getLogger(_this.options, {\n      component: _this.options.component || 'smtp-connection',\n      sid: _this.id\n    });\n    _this.customAuth = new Map();\n    Object.keys(_this.options.customAuth || {}).forEach(function (key) {\n      var mapKey = (key || '').toString().trim().toUpperCase();\n\n      if (!mapKey) {\n        return;\n      }\n\n      _this.customAuth.set(mapKey, _this.options.customAuth[key]);\n    });\n    /**\n     * Expose version nr, just for the reference\n     * @type {String}\n     */\n\n    _this.version = packageInfo.version;\n    /**\n     * If true, then the user is authenticated\n     * @type {Boolean}\n     */\n\n    _this.authenticated = false;\n    /**\n     * If set to true, this instance is no longer active\n     * @private\n     */\n\n    _this.destroyed = false;\n    /**\n     * Defines if the current connection is secure or not. If not,\n     * STARTTLS can be used if available\n     * @private\n     */\n\n    _this.secure = !!_this.secureConnection;\n    /**\n     * Store incomplete messages coming from the server\n     * @private\n     */\n\n    _this._remainder = '';\n    /**\n     * Unprocessed responses from the server\n     * @type {Array}\n     */\n\n    _this._responseQueue = [];\n    _this.lastServerResponse = false;\n    /**\n     * The socket connecting to the server\n     * @publick\n     */\n\n    _this._socket = false;\n    /**\n     * Lists supported auth mechanisms\n     * @private\n     */\n\n    _this._supportedAuth = [];\n    /**\n     * Set to true, if EHLO response includes \"AUTH\".\n     * If false then authentication is not tried\n     */\n\n    _this.allowsAuth = false;\n    /**\n     * Includes current envelope (from, to)\n     * @private\n     */\n\n    _this._envelope = false;\n    /**\n     * Lists supported extensions\n     * @private\n     */\n\n    _this._supportedExtensions = [];\n    /**\n     * Defines the maximum allowed size for a single message\n     * @private\n     */\n\n    _this._maxAllowedSize = 0;\n    /**\n     * Function queue to run if a data chunk comes from the server\n     * @private\n     */\n\n    _this._responseActions = [];\n    _this._recipientQueue = [];\n    /**\n     * Timeout variable for waiting the greeting\n     * @private\n     */\n\n    _this._greetingTimeout = false;\n    /**\n     * Timeout variable for waiting the connection to start\n     * @private\n     */\n\n    _this._connectionTimeout = false;\n    /**\n     * If the socket is deemed already closed\n     * @private\n     */\n\n    _this._destroyed = false;\n    /**\n     * If the socket is already being closed\n     * @private\n     */\n\n    _this._closing = false;\n    /**\n     * Callbacks for socket's listeners\n     */\n\n    _this._onSocketData = function (chunk) {\n      return _this._onData(chunk);\n    };\n\n    _this._onSocketError = function (error) {\n      return _this._onError(error, 'ESOCKET', false, 'CONN');\n    };\n\n    _this._onSocketClose = function () {\n      return _this._onClose();\n    };\n\n    _this._onSocketEnd = function () {\n      return _this._onEnd();\n    };\n\n    _this._onSocketTimeout = function () {\n      return _this._onTimeout();\n    };\n\n    return _this;\n  }\n  /**\n   * Creates a connection to a SMTP server and sets up connection\n   * listener\n   */\n\n\n  _createClass(SMTPConnection, [{\n    key: \"connect\",\n    value: function connect(connectCallback) {\n      var _this2 = this;\n\n      if (typeof connectCallback === 'function') {\n        this.once('connect', function () {\n          _this2.logger.debug({\n            tnx: 'smtp'\n          }, 'SMTP handshake finished');\n\n          connectCallback();\n        });\n\n        var isDestroyedMessage = this._isDestroyedMessage('connect');\n\n        if (isDestroyedMessage) {\n          return connectCallback(this._formatError(isDestroyedMessage, 'ECONNECTION', false, 'CONN'));\n        }\n      }\n\n      var opts = {\n        port: this.port,\n        host: this.host,\n        allowInternalNetworkInterfaces: this.allowInternalNetworkInterfaces\n      };\n\n      if (this.options.localAddress) {\n        opts.localAddress = this.options.localAddress;\n      }\n\n      var setupConnectionHandlers = function setupConnectionHandlers() {\n        _this2._connectionTimeout = setTimeout(function () {\n          _this2._onError('Connection timeout', 'ETIMEDOUT', false, 'CONN');\n        }, _this2.options.connectionTimeout || CONNECTION_TIMEOUT);\n\n        _this2._socket.on('error', _this2._onSocketError);\n      };\n\n      if (this.options.connection) {\n        // connection is already opened\n        this._socket = this.options.connection;\n\n        if (this.secureConnection && !this.alreadySecured) {\n          setImmediate(function () {\n            return _this2._upgradeConnection(function (err) {\n              if (err) {\n                _this2._onError(new Error('Error initiating TLS - ' + (err.message || err)), 'ETLS', false, 'CONN');\n\n                return;\n              }\n\n              _this2._onConnect();\n            });\n          });\n        } else {\n          setImmediate(function () {\n            return _this2._onConnect();\n          });\n        }\n\n        return;\n      } else if (this.options.socket) {\n        // socket object is set up but not yet connected\n        this._socket = this.options.socket;\n        return shared.resolveHostname(opts, function (err, resolved) {\n          if (err) {\n            return setImmediate(function () {\n              return _this2._onError(err, 'EDNS', false, 'CONN');\n            });\n          }\n\n          _this2.logger.debug({\n            tnx: 'dns',\n            source: opts.host,\n            resolved: resolved.host,\n            cached: !!resolved.cached\n          }, 'Resolved %s as %s [cache %s]', opts.host, resolved.host, resolved.cached ? 'hit' : 'miss');\n\n          Object.keys(resolved).forEach(function (key) {\n            if (key.charAt(0) !== '_' && resolved[key]) {\n              opts[key] = resolved[key];\n            }\n          });\n\n          try {\n            _this2._socket.connect(_this2.port, _this2.host, function () {\n              _this2._socket.setKeepAlive(true);\n\n              _this2._onConnect();\n            });\n\n            setupConnectionHandlers();\n          } catch (E) {\n            return setImmediate(function () {\n              return _this2._onError(E, 'ECONNECTION', false, 'CONN');\n            });\n          }\n        });\n      } else if (this.secureConnection) {\n        // connect using tls\n        if (this.options.tls) {\n          Object.keys(this.options.tls).forEach(function (key) {\n            opts[key] = _this2.options.tls[key];\n          });\n        }\n\n        return shared.resolveHostname(opts, function (err, resolved) {\n          if (err) {\n            return setImmediate(function () {\n              return _this2._onError(err, 'EDNS', false, 'CONN');\n            });\n          }\n\n          _this2.logger.debug({\n            tnx: 'dns',\n            source: opts.host,\n            resolved: resolved.host,\n            cached: !!resolved.cached\n          }, 'Resolved %s as %s [cache %s]', opts.host, resolved.host, resolved.cached ? 'hit' : 'miss');\n\n          Object.keys(resolved).forEach(function (key) {\n            if (key.charAt(0) !== '_' && resolved[key]) {\n              opts[key] = resolved[key];\n            }\n          });\n\n          try {\n            _this2._socket = tls.connect(opts, function () {\n              _this2._socket.setKeepAlive(true);\n\n              _this2._onConnect();\n            });\n            setupConnectionHandlers();\n          } catch (E) {\n            return setImmediate(function () {\n              return _this2._onError(E, 'ECONNECTION', false, 'CONN');\n            });\n          }\n        });\n      } else {\n        // connect using plaintext\n        return shared.resolveHostname(opts, function (err, resolved) {\n          if (err) {\n            return setImmediate(function () {\n              return _this2._onError(err, 'EDNS', false, 'CONN');\n            });\n          }\n\n          _this2.logger.debug({\n            tnx: 'dns',\n            source: opts.host,\n            resolved: resolved.host,\n            cached: !!resolved.cached\n          }, 'Resolved %s as %s [cache %s]', opts.host, resolved.host, resolved.cached ? 'hit' : 'miss');\n\n          Object.keys(resolved).forEach(function (key) {\n            if (key.charAt(0) !== '_' && resolved[key]) {\n              opts[key] = resolved[key];\n            }\n          });\n\n          try {\n            _this2._socket = net.connect(opts, function () {\n              _this2._socket.setKeepAlive(true);\n\n              _this2._onConnect();\n            });\n            setupConnectionHandlers();\n          } catch (E) {\n            return setImmediate(function () {\n              return _this2._onError(E, 'ECONNECTION', false, 'CONN');\n            });\n          }\n        });\n      }\n    }\n    /**\n     * Sends QUIT\n     */\n\n  }, {\n    key: \"quit\",\n    value: function quit() {\n      this._sendCommand('QUIT');\n\n      this._responseActions.push(this.close);\n    }\n    /**\n     * Closes the connection to the server\n     */\n\n  }, {\n    key: \"close\",\n    value: function close() {\n      clearTimeout(this._connectionTimeout);\n      clearTimeout(this._greetingTimeout);\n      this._responseActions = []; // allow to run this function only once\n\n      if (this._closing) {\n        return;\n      }\n\n      this._closing = true;\n      var closeMethod = 'end';\n\n      if (this.stage === 'init') {\n        // Close the socket immediately when connection timed out\n        closeMethod = 'destroy';\n      }\n\n      this.logger.debug({\n        tnx: 'smtp'\n      }, 'Closing connection to the server using \"%s\"', closeMethod);\n      var socket = this._socket && this._socket.socket || this._socket;\n\n      if (socket && !socket.destroyed) {\n        try {\n          this._socket[closeMethod]();\n        } catch (E) {// just ignore\n        }\n      }\n\n      this._destroy();\n    }\n    /**\n     * Authenticate user\n     */\n\n  }, {\n    key: \"login\",\n    value: function login(authData, callback) {\n      var _this3 = this;\n\n      var isDestroyedMessage = this._isDestroyedMessage('login');\n\n      if (isDestroyedMessage) {\n        return callback(this._formatError(isDestroyedMessage, 'ECONNECTION', false, 'API'));\n      }\n\n      this._auth = authData || {}; // Select SASL authentication method\n\n      this._authMethod = (this._auth.method || '').toString().trim().toUpperCase() || false;\n\n      if (!this._authMethod && this._auth.oauth2 && !this._auth.credentials) {\n        this._authMethod = 'XOAUTH2';\n      } else if (!this._authMethod || this._authMethod === 'XOAUTH2' && !this._auth.oauth2) {\n        // use first supported\n        this._authMethod = (this._supportedAuth[0] || 'PLAIN').toUpperCase().trim();\n      }\n\n      if (this._authMethod !== 'XOAUTH2' && (!this._auth.credentials || !this._auth.credentials.user || !this._auth.credentials.pass)) {\n        if (this._auth.user && this._auth.pass) {\n          this._auth.credentials = {\n            user: this._auth.user,\n            pass: this._auth.pass,\n            options: this._auth.options\n          };\n        } else {\n          return callback(this._formatError('Missing credentials for \"' + this._authMethod + '\"', 'EAUTH', false, 'API'));\n        }\n      }\n\n      if (this.customAuth.has(this._authMethod)) {\n        var handler = this.customAuth.get(this._authMethod);\n        var lastResponse;\n        var returned = false;\n\n        var resolve = function resolve() {\n          if (returned) {\n            return;\n          }\n\n          returned = true;\n\n          _this3.logger.info({\n            tnx: 'smtp',\n            username: _this3._auth.user,\n            action: 'authenticated',\n            method: _this3._authMethod\n          }, 'User %s authenticated', JSON.stringify(_this3._auth.user));\n\n          _this3.authenticated = true;\n          callback(null, true);\n        };\n\n        var reject = function reject(err) {\n          if (returned) {\n            return;\n          }\n\n          returned = true;\n          callback(_this3._formatError(err, 'EAUTH', lastResponse, 'AUTH ' + _this3._authMethod));\n        };\n\n        var handlerResponse = handler({\n          auth: this._auth,\n          method: this._authMethod,\n          extensions: [].concat(this._supportedExtensions),\n          authMethods: [].concat(this._supportedAuth),\n          maxAllowedSize: this._maxAllowedSize || false,\n          sendCommand: function sendCommand(cmd, done) {\n            var promise;\n\n            if (!done) {\n              promise = new Promise(function (resolve, reject) {\n                done = shared.callbackPromise(resolve, reject);\n              });\n            }\n\n            _this3._responseActions.push(function (str) {\n              lastResponse = str;\n              var codes = str.match(/^(\\d+)(?:\\s(\\d+\\.\\d+\\.\\d+))?\\s/);\n              var data = {\n                command: cmd,\n                response: str\n              };\n\n              if (codes) {\n                data.status = Number(codes[1]) || 0;\n\n                if (codes[2]) {\n                  data.code = codes[2];\n                }\n\n                data.text = str.substr(codes[0].length);\n              } else {\n                data.text = str;\n                data.status = 0; // just in case we need to perform numeric comparisons\n              }\n\n              done(null, data);\n            });\n\n            setImmediate(function () {\n              return _this3._sendCommand(cmd);\n            });\n            return promise;\n          },\n          resolve: resolve,\n          reject: reject\n        });\n\n        if (handlerResponse && typeof handlerResponse.catch === 'function') {\n          // a promise was returned\n          handlerResponse.then(resolve).catch(reject);\n        }\n\n        return;\n      }\n\n      switch (this._authMethod) {\n        case 'XOAUTH2':\n          this._handleXOauth2Token(false, callback);\n\n          return;\n\n        case 'LOGIN':\n          this._responseActions.push(function (str) {\n            _this3._actionAUTH_LOGIN_USER(str, callback);\n          });\n\n          this._sendCommand('AUTH LOGIN');\n\n          return;\n\n        case 'PLAIN':\n          this._responseActions.push(function (str) {\n            _this3._actionAUTHComplete(str, callback);\n          });\n\n          this._sendCommand('AUTH PLAIN ' + Buffer.from( //this._auth.user+'\\u0000'+\n          \"\\0\" + // skip authorization identity as it causes problems with some servers\n          this._auth.credentials.user + \"\\0\" + this._auth.credentials.pass, 'utf-8').toString('base64'), // log entry without passwords\n          'AUTH PLAIN ' + Buffer.from( //this._auth.user+'\\u0000'+\n          \"\\0\" + // skip authorization identity as it causes problems with some servers\n          this._auth.credentials.user + \"\\0\" + '/* secret */', 'utf-8').toString('base64'));\n\n          return;\n\n        case 'CRAM-MD5':\n          this._responseActions.push(function (str) {\n            _this3._actionAUTH_CRAM_MD5(str, callback);\n          });\n\n          this._sendCommand('AUTH CRAM-MD5');\n\n          return;\n      }\n\n      return callback(this._formatError('Unknown authentication method \"' + this._authMethod + '\"', 'EAUTH', false, 'API'));\n    }\n    /**\n     * Sends a message\n     *\n     * @param {Object} envelope Envelope object, {from: addr, to: [addr]}\n     * @param {Object} message String, Buffer or a Stream\n     * @param {Function} callback Callback to return once sending is completed\n     */\n\n  }, {\n    key: \"send\",\n    value: function send(envelope, message, done) {\n      var _this4 = this;\n\n      if (!message) {\n        return done(this._formatError('Empty message', 'EMESSAGE', false, 'API'));\n      }\n\n      var isDestroyedMessage = this._isDestroyedMessage('send message');\n\n      if (isDestroyedMessage) {\n        return done(this._formatError(isDestroyedMessage, 'ECONNECTION', false, 'API'));\n      } // reject larger messages than allowed\n\n\n      if (this._maxAllowedSize && envelope.size > this._maxAllowedSize) {\n        return setImmediate(function () {\n          done(_this4._formatError('Message size larger than allowed ' + _this4._maxAllowedSize, 'EMESSAGE', false, 'MAIL FROM'));\n        });\n      } // ensure that callback is only called once\n\n\n      var returned = false;\n\n      var callback = function callback() {\n        if (returned) {\n          return;\n        }\n\n        returned = true;\n        done.apply(void 0, arguments);\n      };\n\n      if (typeof message.on === 'function') {\n        message.on('error', function (err) {\n          return callback(_this4._formatError(err, 'ESTREAM', false, 'API'));\n        });\n      }\n\n      var startTime = Date.now();\n\n      this._setEnvelope(envelope, function (err, info) {\n        if (err) {\n          return callback(err);\n        }\n\n        var envelopeTime = Date.now();\n\n        var stream = _this4._createSendStream(function (err, str) {\n          if (err) {\n            return callback(err);\n          }\n\n          info.envelopeTime = envelopeTime - startTime;\n          info.messageTime = Date.now() - envelopeTime;\n          info.messageSize = stream.outByteCount;\n          info.response = str;\n          return callback(null, info);\n        });\n\n        if (typeof message.pipe === 'function') {\n          message.pipe(stream);\n        } else {\n          stream.write(message);\n          stream.end();\n        }\n      });\n    }\n    /**\n     * Resets connection state\n     *\n     * @param {Function} callback Callback to return once connection is reset\n     */\n\n  }, {\n    key: \"reset\",\n    value: function reset(callback) {\n      var _this5 = this;\n\n      this._sendCommand('RSET');\n\n      this._responseActions.push(function (str) {\n        if (str.charAt(0) !== '2') {\n          return callback(_this5._formatError('Could not reset session state. response=' + str, 'EPROTOCOL', str, 'RSET'));\n        }\n\n        _this5._envelope = false;\n        return callback(null, true);\n      });\n    }\n    /**\n     * Connection listener that is run when the connection to\n     * the server is opened\n     *\n     * @event\n     */\n\n  }, {\n    key: \"_onConnect\",\n    value: function _onConnect() {\n      var _this6 = this;\n\n      clearTimeout(this._connectionTimeout);\n      this.logger.info({\n        tnx: 'network',\n        localAddress: this._socket.localAddress,\n        localPort: this._socket.localPort,\n        remoteAddress: this._socket.remoteAddress,\n        remotePort: this._socket.remotePort\n      }, '%s established to %s:%s', this.secure ? 'Secure connection' : 'Connection', this._socket.remoteAddress, this._socket.remotePort);\n\n      if (this._destroyed) {\n        // Connection was established after we already had canceled it\n        this.close();\n        return;\n      }\n\n      this.stage = 'connected'; // clear existing listeners for the socket\n\n      this._socket.removeListener('data', this._onSocketData);\n\n      this._socket.removeListener('timeout', this._onSocketTimeout);\n\n      this._socket.removeListener('close', this._onSocketClose);\n\n      this._socket.removeListener('end', this._onSocketEnd);\n\n      this._socket.on('data', this._onSocketData);\n\n      this._socket.once('close', this._onSocketClose);\n\n      this._socket.once('end', this._onSocketEnd);\n\n      this._socket.setTimeout(this.options.socketTimeout || SOCKET_TIMEOUT);\n\n      this._socket.on('timeout', this._onSocketTimeout);\n\n      this._greetingTimeout = setTimeout(function () {\n        // if still waiting for greeting, give up\n        if (_this6._socket && !_this6._destroyed && _this6._responseActions[0] === _this6._actionGreeting) {\n          _this6._onError('Greeting never received', 'ETIMEDOUT', false, 'CONN');\n        }\n      }, this.options.greetingTimeout || GREETING_TIMEOUT);\n\n      this._responseActions.push(this._actionGreeting); // we have a 'data' listener set up so resume socket if it was paused\n\n\n      this._socket.resume();\n    }\n    /**\n     * 'data' listener for data coming from the server\n     *\n     * @event\n     * @param {Buffer} chunk Data chunk coming from the server\n     */\n\n  }, {\n    key: \"_onData\",\n    value: function _onData(chunk) {\n      if (this._destroyed || !chunk || !chunk.length) {\n        return;\n      }\n\n      var data = (chunk || '').toString('binary');\n      var lines = (this._remainder + data).split(/\\r?\\n/);\n      var lastline;\n      this._remainder = lines.pop();\n\n      for (var i = 0, len = lines.length; i < len; i++) {\n        if (this._responseQueue.length) {\n          lastline = this._responseQueue[this._responseQueue.length - 1];\n\n          if (/^\\d+-/.test(lastline.split('\\n').pop())) {\n            this._responseQueue[this._responseQueue.length - 1] += '\\n' + lines[i];\n            continue;\n          }\n        }\n\n        this._responseQueue.push(lines[i]);\n      }\n\n      if (this._responseQueue.length) {\n        lastline = this._responseQueue[this._responseQueue.length - 1];\n\n        if (/^\\d+-/.test(lastline.split('\\n').pop())) {\n          return;\n        }\n      }\n\n      this._processResponse();\n    }\n    /**\n     * 'error' listener for the socket\n     *\n     * @event\n     * @param {Error} err Error object\n     * @param {String} type Error name\n     */\n\n  }, {\n    key: \"_onError\",\n    value: function _onError(err, type, data, command) {\n      clearTimeout(this._connectionTimeout);\n      clearTimeout(this._greetingTimeout);\n\n      if (this._destroyed) {\n        // just ignore, already closed\n        // this might happen when a socket is canceled because of reached timeout\n        // but the socket timeout error itself receives only after\n        return;\n      }\n\n      err = this._formatError(err, type, data, command);\n      this.logger.error(data, err.message);\n      this.emit('error', err);\n      this.close();\n    }\n  }, {\n    key: \"_formatError\",\n    value: function _formatError(message, type, response, command) {\n      var err;\n\n      if (/Error\\]$/i.test(Object.prototype.toString.call(message))) {\n        err = message;\n      } else {\n        err = new Error(message);\n      }\n\n      if (type && type !== 'Error') {\n        err.code = type;\n      }\n\n      if (response) {\n        err.response = response;\n        err.message += ': ' + response;\n      }\n\n      var responseCode = typeof response === 'string' && Number((response.match(/^\\d+/) || [])[0]) || false;\n\n      if (responseCode) {\n        err.responseCode = responseCode;\n      }\n\n      if (command) {\n        err.command = command;\n      }\n\n      return err;\n    }\n    /**\n     * 'close' listener for the socket\n     *\n     * @event\n     */\n\n  }, {\n    key: \"_onClose\",\n    value: function _onClose() {\n      this.logger.info({\n        tnx: 'network'\n      }, 'Connection closed');\n\n      if (this.upgrading && !this._destroyed) {\n        return this._onError(new Error('Connection closed unexpectedly'), 'ETLS', false, 'CONN');\n      } else if (![this._actionGreeting, this.close].includes(this._responseActions[0]) && !this._destroyed) {\n        return this._onError(new Error('Connection closed unexpectedly'), 'ECONNECTION', false, 'CONN');\n      }\n\n      this._destroy();\n    }\n    /**\n     * 'end' listener for the socket\n     *\n     * @event\n     */\n\n  }, {\n    key: \"_onEnd\",\n    value: function _onEnd() {\n      if (this._socket && !this._socket.destroyed) {\n        this._socket.destroy();\n      }\n    }\n    /**\n     * 'timeout' listener for the socket\n     *\n     * @event\n     */\n\n  }, {\n    key: \"_onTimeout\",\n    value: function _onTimeout() {\n      return this._onError(new Error('Timeout'), 'ETIMEDOUT', false, 'CONN');\n    }\n    /**\n     * Destroys the client, emits 'end'\n     */\n\n  }, {\n    key: \"_destroy\",\n    value: function _destroy() {\n      if (this._destroyed) {\n        return;\n      }\n\n      this._destroyed = true;\n      this.emit('end');\n    }\n    /**\n     * Upgrades the connection to TLS\n     *\n     * @param {Function} callback Callback function to run when the connection\n     *        has been secured\n     */\n\n  }, {\n    key: \"_upgradeConnection\",\n    value: function _upgradeConnection(callback) {\n      var _this7 = this;\n\n      // do not remove all listeners or it breaks node v0.10 as there's\n      // apparently a 'finish' event set that would be cleared as well\n      // we can safely keep 'error', 'end', 'close' etc. events\n      this._socket.removeListener('data', this._onSocketData); // incoming data is going to be gibberish from this point onwards\n\n\n      this._socket.removeListener('timeout', this._onSocketTimeout); // timeout will be re-set for the new socket object\n\n\n      var socketPlain = this._socket;\n      var opts = {\n        socket: this._socket,\n        host: this.host\n      };\n      Object.keys(this.options.tls || {}).forEach(function (key) {\n        opts[key] = _this7.options.tls[key];\n      });\n      this.upgrading = true; // tls.connect is not an asynchronous function however it may still throw errors and requires to be wrapped with try/catch\n\n      try {\n        this._socket = tls.connect(opts, function () {\n          _this7.secure = true;\n          _this7.upgrading = false;\n\n          _this7._socket.on('data', _this7._onSocketData);\n\n          socketPlain.removeListener('close', _this7._onSocketClose);\n          socketPlain.removeListener('end', _this7._onSocketEnd);\n          return callback(null, true);\n        });\n      } catch (err) {\n        return callback(err);\n      }\n\n      this._socket.on('error', this._onSocketError);\n\n      this._socket.once('close', this._onSocketClose);\n\n      this._socket.once('end', this._onSocketEnd);\n\n      this._socket.setTimeout(this.options.socketTimeout || SOCKET_TIMEOUT); // 10 min.\n\n\n      this._socket.on('timeout', this._onSocketTimeout); // resume in case the socket was paused\n\n\n      socketPlain.resume();\n    }\n    /**\n     * Processes queued responses from the server\n     *\n     * @param {Boolean} force If true, ignores _processing flag\n     */\n\n  }, {\n    key: \"_processResponse\",\n    value: function _processResponse() {\n      var _this8 = this;\n\n      if (!this._responseQueue.length) {\n        return false;\n      }\n\n      var str = this.lastServerResponse = (this._responseQueue.shift() || '').toString();\n\n      if (/^\\d+-/.test(str.split('\\n').pop())) {\n        // keep waiting for the final part of multiline response\n        return;\n      }\n\n      if (this.options.debug || this.options.transactionLog) {\n        this.logger.debug({\n          tnx: 'server'\n        }, str.replace(/\\r?\\n$/, ''));\n      }\n\n      if (!str.trim()) {\n        // skip unexpected empty lines\n        setImmediate(function () {\n          return _this8._processResponse(true);\n        });\n      }\n\n      var action = this._responseActions.shift();\n\n      if (typeof action === 'function') {\n        action.call(this, str);\n        setImmediate(function () {\n          return _this8._processResponse(true);\n        });\n      } else {\n        return this._onError(new Error('Unexpected Response'), 'EPROTOCOL', str, 'CONN');\n      }\n    }\n    /**\n     * Send a command to the server, append \\r\\n\n     *\n     * @param {String} str String to be sent to the server\n     * @param {String} logStr Optional string to be used for logging instead of the actual string\n     */\n\n  }, {\n    key: \"_sendCommand\",\n    value: function _sendCommand(str, logStr) {\n      if (this._destroyed) {\n        // Connection already closed, can't send any more data\n        return;\n      }\n\n      if (this._socket.destroyed) {\n        return this.close();\n      }\n\n      if (this.options.debug || this.options.transactionLog) {\n        this.logger.debug({\n          tnx: 'client'\n        }, (logStr || str || '').toString().replace(/\\r?\\n$/, ''));\n      }\n\n      this._socket.write(Buffer.from(str + '\\r\\n', 'utf-8'));\n    }\n    /**\n     * Initiates a new message by submitting envelope data, starting with\n     * MAIL FROM: command\n     *\n     * @param {Object} envelope Envelope object in the form of\n     *        {from:'...', to:['...']}\n     *        or\n     *        {from:{address:'...',name:'...'}, to:[address:'...',name:'...']}\n     */\n\n  }, {\n    key: \"_setEnvelope\",\n    value: function _setEnvelope(envelope, callback) {\n      var _this9 = this;\n\n      var args = [];\n      var useSmtpUtf8 = false;\n      this._envelope = envelope || {};\n      this._envelope.from = (this._envelope.from && this._envelope.from.address || this._envelope.from || '').toString().trim();\n      this._envelope.to = [].concat(this._envelope.to || []).map(function (to) {\n        return (to && to.address || to || '').toString().trim();\n      });\n\n      if (!this._envelope.to.length) {\n        return callback(this._formatError('No recipients defined', 'EENVELOPE', false, 'API'));\n      }\n\n      if (this._envelope.from && /[\\r\\n<>]/.test(this._envelope.from)) {\n        return callback(this._formatError('Invalid sender ' + JSON.stringify(this._envelope.from), 'EENVELOPE', false, 'API'));\n      } // check if the sender address uses only ASCII characters,\n      // otherwise require usage of SMTPUTF8 extension\n\n\n      if (/[\\x80-\\uFFFF]/.test(this._envelope.from)) {\n        useSmtpUtf8 = true;\n      }\n\n      for (var i = 0, len = this._envelope.to.length; i < len; i++) {\n        if (!this._envelope.to[i] || /[\\r\\n<>]/.test(this._envelope.to[i])) {\n          return callback(this._formatError('Invalid recipient ' + JSON.stringify(this._envelope.to[i]), 'EENVELOPE', false, 'API'));\n        } // check if the recipients addresses use only ASCII characters,\n        // otherwise require usage of SMTPUTF8 extension\n\n\n        if (/[\\x80-\\uFFFF]/.test(this._envelope.to[i])) {\n          useSmtpUtf8 = true;\n        }\n      } // clone the recipients array for latter manipulation\n\n\n      this._envelope.rcptQueue = JSON.parse(JSON.stringify(this._envelope.to || []));\n      this._envelope.rejected = [];\n      this._envelope.rejectedErrors = [];\n      this._envelope.accepted = [];\n\n      if (this._envelope.dsn) {\n        try {\n          this._envelope.dsn = this._setDsnEnvelope(this._envelope.dsn);\n        } catch (err) {\n          return callback(this._formatError('Invalid DSN ' + err.message, 'EENVELOPE', false, 'API'));\n        }\n      }\n\n      this._responseActions.push(function (str) {\n        _this9._actionMAIL(str, callback);\n      }); // If the server supports SMTPUTF8 and the envelope includes an internationalized\n      // email address then append SMTPUTF8 keyword to the MAIL FROM command\n\n\n      if (useSmtpUtf8 && this._supportedExtensions.includes('SMTPUTF8')) {\n        args.push('SMTPUTF8');\n        this._usingSmtpUtf8 = true;\n      } // If the server supports 8BITMIME and the message might contain non-ascii bytes\n      // then append the 8BITMIME keyword to the MAIL FROM command\n\n\n      if (this._envelope.use8BitMime && this._supportedExtensions.includes('8BITMIME')) {\n        args.push('BODY=8BITMIME');\n        this._using8BitMime = true;\n      }\n\n      if (this._envelope.size && this._supportedExtensions.includes('SIZE')) {\n        args.push('SIZE=' + this._envelope.size);\n      } // If the server supports DSN and the envelope includes an DSN prop\n      // then append DSN params to the MAIL FROM command\n\n\n      if (this._envelope.dsn && this._supportedExtensions.includes('DSN')) {\n        if (this._envelope.dsn.ret) {\n          args.push('RET=' + shared.encodeXText(this._envelope.dsn.ret));\n        }\n\n        if (this._envelope.dsn.envid) {\n          args.push('ENVID=' + shared.encodeXText(this._envelope.dsn.envid));\n        }\n      }\n\n      this._sendCommand('MAIL FROM:<' + this._envelope.from + '>' + (args.length ? ' ' + args.join(' ') : ''));\n    }\n  }, {\n    key: \"_setDsnEnvelope\",\n    value: function _setDsnEnvelope(params) {\n      var ret = (params.ret || params.return || '').toString().toUpperCase() || null;\n\n      if (ret) {\n        switch (ret) {\n          case 'HDRS':\n          case 'HEADERS':\n            ret = 'HDRS';\n            break;\n\n          case 'FULL':\n          case 'BODY':\n            ret = 'FULL';\n            break;\n        }\n      }\n\n      if (ret && !['FULL', 'HDRS'].includes(ret)) {\n        throw new Error('ret: ' + JSON.stringify(ret));\n      }\n\n      var envid = (params.envid || params.id || '').toString() || null;\n      var notify = params.notify || null;\n\n      if (notify) {\n        if (typeof notify === 'string') {\n          notify = notify.split(',');\n        }\n\n        notify = notify.map(function (n) {\n          return n.trim().toUpperCase();\n        });\n        var validNotify = ['NEVER', 'SUCCESS', 'FAILURE', 'DELAY'];\n        var invaliNotify = notify.filter(function (n) {\n          return !validNotify.includes(n);\n        });\n\n        if (invaliNotify.length || notify.length > 1 && notify.includes('NEVER')) {\n          throw new Error('notify: ' + JSON.stringify(notify.join(',')));\n        }\n\n        notify = notify.join(',');\n      }\n\n      var orcpt = (params.recipient || params.orcpt || '').toString() || null;\n\n      if (orcpt && orcpt.indexOf(';') < 0) {\n        orcpt = 'rfc822;' + orcpt;\n      }\n\n      return {\n        ret: ret,\n        envid: envid,\n        notify: notify,\n        orcpt: orcpt\n      };\n    }\n  }, {\n    key: \"_getDsnRcptToArgs\",\n    value: function _getDsnRcptToArgs() {\n      var args = []; // If the server supports DSN and the envelope includes an DSN prop\n      // then append DSN params to the RCPT TO command\n\n      if (this._envelope.dsn && this._supportedExtensions.includes('DSN')) {\n        if (this._envelope.dsn.notify) {\n          args.push('NOTIFY=' + shared.encodeXText(this._envelope.dsn.notify));\n        }\n\n        if (this._envelope.dsn.orcpt) {\n          args.push('ORCPT=' + shared.encodeXText(this._envelope.dsn.orcpt));\n        }\n      }\n\n      return args.length ? ' ' + args.join(' ') : '';\n    }\n  }, {\n    key: \"_createSendStream\",\n    value: function _createSendStream(callback) {\n      var _this10 = this;\n\n      var dataStream = new DataStream();\n      var logStream;\n\n      if (this.options.lmtp) {\n        this._envelope.accepted.forEach(function (recipient, i) {\n          var final = i === _this10._envelope.accepted.length - 1;\n\n          _this10._responseActions.push(function (str) {\n            _this10._actionLMTPStream(recipient, final, str, callback);\n          });\n        });\n      } else {\n        this._responseActions.push(function (str) {\n          _this10._actionSMTPStream(str, callback);\n        });\n      }\n\n      dataStream.pipe(this._socket, {\n        end: false\n      });\n\n      if (this.options.debug) {\n        logStream = new PassThrough();\n        logStream.on('readable', function () {\n          var chunk;\n\n          while (chunk = logStream.read()) {\n            _this10.logger.debug({\n              tnx: 'message'\n            }, chunk.toString('binary').replace(/\\r?\\n$/, ''));\n          }\n        });\n        dataStream.pipe(logStream);\n      }\n\n      dataStream.once('end', function () {\n        _this10.logger.info({\n          tnx: 'message',\n          inByteCount: dataStream.inByteCount,\n          outByteCount: dataStream.outByteCount\n        }, '<%s bytes encoded mime message (source size %s bytes)>', dataStream.outByteCount, dataStream.inByteCount);\n      });\n      return dataStream;\n    }\n    /** ACTIONS **/\n\n    /**\n     * Will be run after the connection is created and the server sends\n     * a greeting. If the incoming message starts with 220 initiate\n     * SMTP session by sending EHLO command\n     *\n     * @param {String} str Message from the server\n     */\n\n  }, {\n    key: \"_actionGreeting\",\n    value: function _actionGreeting(str) {\n      clearTimeout(this._greetingTimeout);\n\n      if (str.substr(0, 3) !== '220') {\n        this._onError(new Error('Invalid greeting. response=' + str), 'EPROTOCOL', str, 'CONN');\n\n        return;\n      }\n\n      if (this.options.lmtp) {\n        this._responseActions.push(this._actionLHLO);\n\n        this._sendCommand('LHLO ' + this.name);\n      } else {\n        this._responseActions.push(this._actionEHLO);\n\n        this._sendCommand('EHLO ' + this.name);\n      }\n    }\n    /**\n     * Handles server response for LHLO command. If it yielded in\n     * error, emit 'error', otherwise treat this as an EHLO response\n     *\n     * @param {String} str Message from the server\n     */\n\n  }, {\n    key: \"_actionLHLO\",\n    value: function _actionLHLO(str) {\n      if (str.charAt(0) !== '2') {\n        this._onError(new Error('Invalid LHLO. response=' + str), 'EPROTOCOL', str, 'LHLO');\n\n        return;\n      }\n\n      this._actionEHLO(str);\n    }\n    /**\n     * Handles server response for EHLO command. If it yielded in\n     * error, try HELO instead, otherwise initiate TLS negotiation\n     * if STARTTLS is supported by the server or move into the\n     * authentication phase.\n     *\n     * @param {String} str Message from the server\n     */\n\n  }, {\n    key: \"_actionEHLO\",\n    value: function _actionEHLO(str) {\n      var match;\n\n      if (str.substr(0, 3) === '421') {\n        this._onError(new Error('Server terminates connection. response=' + str), 'ECONNECTION', str, 'EHLO');\n\n        return;\n      }\n\n      if (str.charAt(0) !== '2') {\n        if (this.options.requireTLS) {\n          this._onError(new Error('EHLO failed but HELO does not support required STARTTLS. response=' + str), 'ECONNECTION', str, 'EHLO');\n\n          return;\n        } // Try HELO instead\n\n\n        this._responseActions.push(this._actionHELO);\n\n        this._sendCommand('HELO ' + this.name);\n\n        return;\n      } // Detect if the server supports STARTTLS\n\n\n      if (!this.secure && !this.options.ignoreTLS && (/[ -]STARTTLS\\b/im.test(str) || this.options.requireTLS)) {\n        this._sendCommand('STARTTLS');\n\n        this._responseActions.push(this._actionSTARTTLS);\n\n        return;\n      } // Detect if the server supports SMTPUTF8\n\n\n      if (/[ -]SMTPUTF8\\b/im.test(str)) {\n        this._supportedExtensions.push('SMTPUTF8');\n      } // Detect if the server supports DSN\n\n\n      if (/[ -]DSN\\b/im.test(str)) {\n        this._supportedExtensions.push('DSN');\n      } // Detect if the server supports 8BITMIME\n\n\n      if (/[ -]8BITMIME\\b/im.test(str)) {\n        this._supportedExtensions.push('8BITMIME');\n      } // Detect if the server supports PIPELINING\n\n\n      if (/[ -]PIPELINING\\b/im.test(str)) {\n        this._supportedExtensions.push('PIPELINING');\n      } // Detect if the server supports AUTH\n\n\n      if (/[ -]AUTH\\b/i.test(str)) {\n        this.allowsAuth = true;\n      } // Detect if the server supports PLAIN auth\n\n\n      if (/[ -]AUTH(?:(\\s+|=)[^\\n]*\\s+|\\s+|=)PLAIN/i.test(str)) {\n        this._supportedAuth.push('PLAIN');\n      } // Detect if the server supports LOGIN auth\n\n\n      if (/[ -]AUTH(?:(\\s+|=)[^\\n]*\\s+|\\s+|=)LOGIN/i.test(str)) {\n        this._supportedAuth.push('LOGIN');\n      } // Detect if the server supports CRAM-MD5 auth\n\n\n      if (/[ -]AUTH(?:(\\s+|=)[^\\n]*\\s+|\\s+|=)CRAM-MD5/i.test(str)) {\n        this._supportedAuth.push('CRAM-MD5');\n      } // Detect if the server supports XOAUTH2 auth\n\n\n      if (/[ -]AUTH(?:(\\s+|=)[^\\n]*\\s+|\\s+|=)XOAUTH2/i.test(str)) {\n        this._supportedAuth.push('XOAUTH2');\n      } // Detect if the server supports SIZE extensions (and the max allowed size)\n\n\n      if (match = str.match(/[ -]SIZE(?:[ \\t]+(\\d+))?/im)) {\n        this._supportedExtensions.push('SIZE');\n\n        this._maxAllowedSize = Number(match[1]) || 0;\n      }\n\n      this.emit('connect');\n    }\n    /**\n     * Handles server response for HELO command. If it yielded in\n     * error, emit 'error', otherwise move into the authentication phase.\n     *\n     * @param {String} str Message from the server\n     */\n\n  }, {\n    key: \"_actionHELO\",\n    value: function _actionHELO(str) {\n      if (str.charAt(0) !== '2') {\n        this._onError(new Error('Invalid HELO. response=' + str), 'EPROTOCOL', str, 'HELO');\n\n        return;\n      } // assume that authentication is enabled (most probably is not though)\n\n\n      this.allowsAuth = true;\n      this.emit('connect');\n    }\n    /**\n     * Handles server response for STARTTLS command. If there's an error\n     * try HELO instead, otherwise initiate TLS upgrade. If the upgrade\n     * succeedes restart the EHLO\n     *\n     * @param {String} str Message from the server\n     */\n\n  }, {\n    key: \"_actionSTARTTLS\",\n    value: function _actionSTARTTLS(str) {\n      var _this11 = this;\n\n      if (str.charAt(0) !== '2') {\n        if (this.options.opportunisticTLS) {\n          this.logger.info({\n            tnx: 'smtp'\n          }, 'Failed STARTTLS upgrade, continuing unencrypted');\n          return this.emit('connect');\n        }\n\n        this._onError(new Error('Error upgrading connection with STARTTLS'), 'ETLS', str, 'STARTTLS');\n\n        return;\n      }\n\n      this._upgradeConnection(function (err, secured) {\n        if (err) {\n          _this11._onError(new Error('Error initiating TLS - ' + (err.message || err)), 'ETLS', false, 'STARTTLS');\n\n          return;\n        }\n\n        _this11.logger.info({\n          tnx: 'smtp'\n        }, 'Connection upgraded with STARTTLS');\n\n        if (secured) {\n          // restart session\n          if (_this11.options.lmtp) {\n            _this11._responseActions.push(_this11._actionLHLO);\n\n            _this11._sendCommand('LHLO ' + _this11.name);\n          } else {\n            _this11._responseActions.push(_this11._actionEHLO);\n\n            _this11._sendCommand('EHLO ' + _this11.name);\n          }\n        } else {\n          _this11.emit('connect');\n        }\n      });\n    }\n    /**\n     * Handle the response for AUTH LOGIN command. We are expecting\n     * '334 VXNlcm5hbWU6' (base64 for 'Username:'). Data to be sent as\n     * response needs to be base64 encoded username. We do not need\n     * exact match but settle with 334 response in general as some\n     * hosts invalidly use a longer message than VXNlcm5hbWU6\n     *\n     * @param {String} str Message from the server\n     */\n\n  }, {\n    key: \"_actionAUTH_LOGIN_USER\",\n    value: function _actionAUTH_LOGIN_USER(str, callback) {\n      var _this12 = this;\n\n      if (!/^334[ -]/.test(str)) {\n        // expecting '334 VXNlcm5hbWU6'\n        callback(this._formatError('Invalid login sequence while waiting for \"334 VXNlcm5hbWU6\"', 'EAUTH', str, 'AUTH LOGIN'));\n        return;\n      }\n\n      this._responseActions.push(function (str) {\n        _this12._actionAUTH_LOGIN_PASS(str, callback);\n      });\n\n      this._sendCommand(Buffer.from(this._auth.credentials.user + '', 'utf-8').toString('base64'));\n    }\n    /**\n     * Handle the response for AUTH CRAM-MD5 command. We are expecting\n     * '334 <challenge string>'. Data to be sent as response needs to be\n     * base64 decoded challenge string, MD5 hashed using the password as\n     * a HMAC key, prefixed by the username and a space, and finally all\n     * base64 encoded again.\n     *\n     * @param {String} str Message from the server\n     */\n\n  }, {\n    key: \"_actionAUTH_CRAM_MD5\",\n    value: function _actionAUTH_CRAM_MD5(str, callback) {\n      var _this13 = this;\n\n      var challengeMatch = str.match(/^334\\s+(.+)$/);\n      var challengeString = '';\n\n      if (!challengeMatch) {\n        return callback(this._formatError('Invalid login sequence while waiting for server challenge string', 'EAUTH', str, 'AUTH CRAM-MD5'));\n      } else {\n        challengeString = challengeMatch[1];\n      } // Decode from base64\n\n\n      var base64decoded = Buffer.from(challengeString, 'base64').toString('ascii'),\n          hmacMD5 = crypto.createHmac('md5', this._auth.credentials.pass);\n      hmacMD5.update(base64decoded);\n      var prepended = this._auth.credentials.user + ' ' + hmacMD5.digest('hex');\n\n      this._responseActions.push(function (str) {\n        _this13._actionAUTH_CRAM_MD5_PASS(str, callback);\n      });\n\n      this._sendCommand(Buffer.from(prepended).toString('base64'), // hidden hash for logs\n      Buffer.from(this._auth.credentials.user + ' /* secret */').toString('base64'));\n    }\n    /**\n     * Handles the response to CRAM-MD5 authentication, if there's no error,\n     * the user can be considered logged in. Start waiting for a message to send\n     *\n     * @param {String} str Message from the server\n     */\n\n  }, {\n    key: \"_actionAUTH_CRAM_MD5_PASS\",\n    value: function _actionAUTH_CRAM_MD5_PASS(str, callback) {\n      if (!str.match(/^235\\s+/)) {\n        return callback(this._formatError('Invalid login sequence while waiting for \"235\"', 'EAUTH', str, 'AUTH CRAM-MD5'));\n      }\n\n      this.logger.info({\n        tnx: 'smtp',\n        username: this._auth.user,\n        action: 'authenticated',\n        method: this._authMethod\n      }, 'User %s authenticated', JSON.stringify(this._auth.user));\n      this.authenticated = true;\n      callback(null, true);\n    }\n    /**\n     * Handle the response for AUTH LOGIN command. We are expecting\n     * '334 UGFzc3dvcmQ6' (base64 for 'Password:'). Data to be sent as\n     * response needs to be base64 encoded password.\n     *\n     * @param {String} str Message from the server\n     */\n\n  }, {\n    key: \"_actionAUTH_LOGIN_PASS\",\n    value: function _actionAUTH_LOGIN_PASS(str, callback) {\n      var _this14 = this;\n\n      if (!/^334[ -]/.test(str)) {\n        // expecting '334 UGFzc3dvcmQ6'\n        return callback(this._formatError('Invalid login sequence while waiting for \"334 UGFzc3dvcmQ6\"', 'EAUTH', str, 'AUTH LOGIN'));\n      }\n\n      this._responseActions.push(function (str) {\n        _this14._actionAUTHComplete(str, callback);\n      });\n\n      this._sendCommand(Buffer.from((this._auth.credentials.pass || '').toString(), 'utf-8').toString('base64'), // Hidden pass for logs\n      Buffer.from('/* secret */', 'utf-8').toString('base64'));\n    }\n    /**\n     * Handles the response for authentication, if there's no error,\n     * the user can be considered logged in. Start waiting for a message to send\n     *\n     * @param {String} str Message from the server\n     */\n\n  }, {\n    key: \"_actionAUTHComplete\",\n    value: function _actionAUTHComplete(str, isRetry, callback) {\n      var _this15 = this;\n\n      if (!callback && typeof isRetry === 'function') {\n        callback = isRetry;\n        isRetry = false;\n      }\n\n      if (str.substr(0, 3) === '334') {\n        this._responseActions.push(function (str) {\n          if (isRetry || _this15._authMethod !== 'XOAUTH2') {\n            _this15._actionAUTHComplete(str, true, callback);\n          } else {\n            // fetch a new OAuth2 access token\n            setImmediate(function () {\n              return _this15._handleXOauth2Token(true, callback);\n            });\n          }\n        });\n\n        this._sendCommand('');\n\n        return;\n      }\n\n      if (str.charAt(0) !== '2') {\n        this.logger.info({\n          tnx: 'smtp',\n          username: this._auth.user,\n          action: 'authfail',\n          method: this._authMethod\n        }, 'User %s failed to authenticate', JSON.stringify(this._auth.user));\n        return callback(this._formatError('Invalid login', 'EAUTH', str, 'AUTH ' + this._authMethod));\n      }\n\n      this.logger.info({\n        tnx: 'smtp',\n        username: this._auth.user,\n        action: 'authenticated',\n        method: this._authMethod\n      }, 'User %s authenticated', JSON.stringify(this._auth.user));\n      this.authenticated = true;\n      callback(null, true);\n    }\n    /**\n     * Handle response for a MAIL FROM: command\n     *\n     * @param {String} str Message from the server\n     */\n\n  }, {\n    key: \"_actionMAIL\",\n    value: function _actionMAIL(str, callback) {\n      var _this16 = this;\n\n      var message, curRecipient;\n\n      if (Number(str.charAt(0)) !== 2) {\n        if (this._usingSmtpUtf8 && /^550 /.test(str) && /[\\x80-\\uFFFF]/.test(this._envelope.from)) {\n          message = 'Internationalized mailbox name not allowed';\n        } else {\n          message = 'Mail command failed';\n        }\n\n        return callback(this._formatError(message, 'EENVELOPE', str, 'MAIL FROM'));\n      }\n\n      if (!this._envelope.rcptQueue.length) {\n        return callback(this._formatError('Can\\x27t send mail - no recipients defined', 'EENVELOPE', false, 'API'));\n      } else {\n        this._recipientQueue = [];\n\n        if (this._supportedExtensions.includes('PIPELINING')) {\n          while (this._envelope.rcptQueue.length) {\n            curRecipient = this._envelope.rcptQueue.shift();\n\n            this._recipientQueue.push(curRecipient);\n\n            this._responseActions.push(function (str) {\n              _this16._actionRCPT(str, callback);\n            });\n\n            this._sendCommand('RCPT TO:<' + curRecipient + '>' + this._getDsnRcptToArgs());\n          }\n        } else {\n          curRecipient = this._envelope.rcptQueue.shift();\n\n          this._recipientQueue.push(curRecipient);\n\n          this._responseActions.push(function (str) {\n            _this16._actionRCPT(str, callback);\n          });\n\n          this._sendCommand('RCPT TO:<' + curRecipient + '>' + this._getDsnRcptToArgs());\n        }\n      }\n    }\n    /**\n     * Handle response for a RCPT TO: command\n     *\n     * @param {String} str Message from the server\n     */\n\n  }, {\n    key: \"_actionRCPT\",\n    value: function _actionRCPT(str, callback) {\n      var _this17 = this;\n\n      var message,\n          err,\n          curRecipient = this._recipientQueue.shift();\n\n      if (Number(str.charAt(0)) !== 2) {\n        // this is a soft error\n        if (this._usingSmtpUtf8 && /^553 /.test(str) && /[\\x80-\\uFFFF]/.test(curRecipient)) {\n          message = 'Internationalized mailbox name not allowed';\n        } else {\n          message = 'Recipient command failed';\n        }\n\n        this._envelope.rejected.push(curRecipient); // store error for the failed recipient\n\n\n        err = this._formatError(message, 'EENVELOPE', str, 'RCPT TO');\n        err.recipient = curRecipient;\n\n        this._envelope.rejectedErrors.push(err);\n      } else {\n        this._envelope.accepted.push(curRecipient);\n      }\n\n      if (!this._envelope.rcptQueue.length && !this._recipientQueue.length) {\n        if (this._envelope.rejected.length < this._envelope.to.length) {\n          this._responseActions.push(function (str) {\n            _this17._actionDATA(str, callback);\n          });\n\n          this._sendCommand('DATA');\n        } else {\n          err = this._formatError('Can\\x27t send mail - all recipients were rejected', 'EENVELOPE', str, 'RCPT TO');\n          err.rejected = this._envelope.rejected;\n          err.rejectedErrors = this._envelope.rejectedErrors;\n          return callback(err);\n        }\n      } else if (this._envelope.rcptQueue.length) {\n        curRecipient = this._envelope.rcptQueue.shift();\n\n        this._recipientQueue.push(curRecipient);\n\n        this._responseActions.push(function (str) {\n          _this17._actionRCPT(str, callback);\n        });\n\n        this._sendCommand('RCPT TO:<' + curRecipient + '>' + this._getDsnRcptToArgs());\n      }\n    }\n    /**\n     * Handle response for a DATA command\n     *\n     * @param {String} str Message from the server\n     */\n\n  }, {\n    key: \"_actionDATA\",\n    value: function _actionDATA(str, callback) {\n      // response should be 354 but according to this issue https://github.com/eleith/emailjs/issues/24\n      // some servers might use 250 instead, so lets check for 2 or 3 as the first digit\n      if (!/^[23]/.test(str)) {\n        return callback(this._formatError('Data command failed', 'EENVELOPE', str, 'DATA'));\n      }\n\n      var response = {\n        accepted: this._envelope.accepted,\n        rejected: this._envelope.rejected\n      };\n\n      if (this._envelope.rejectedErrors.length) {\n        response.rejectedErrors = this._envelope.rejectedErrors;\n      }\n\n      callback(null, response);\n    }\n    /**\n     * Handle response for a DATA stream when using SMTP\n     * We expect a single response that defines if the sending succeeded or failed\n     *\n     * @param {String} str Message from the server\n     */\n\n  }, {\n    key: \"_actionSMTPStream\",\n    value: function _actionSMTPStream(str, callback) {\n      if (Number(str.charAt(0)) !== 2) {\n        // Message failed\n        return callback(this._formatError('Message failed', 'EMESSAGE', str, 'DATA'));\n      } else {\n        // Message sent succesfully\n        return callback(null, str);\n      }\n    }\n    /**\n     * Handle response for a DATA stream\n     * We expect a separate response for every recipient. All recipients can either\n     * succeed or fail separately\n     *\n     * @param {String} recipient The recipient this response applies to\n     * @param {Boolean} final Is this the final recipient?\n     * @param {String} str Message from the server\n     */\n\n  }, {\n    key: \"_actionLMTPStream\",\n    value: function _actionLMTPStream(recipient, final, str, callback) {\n      var err;\n\n      if (Number(str.charAt(0)) !== 2) {\n        // Message failed\n        err = this._formatError('Message failed for recipient ' + recipient, 'EMESSAGE', str, 'DATA');\n        err.recipient = recipient;\n\n        this._envelope.rejected.push(recipient);\n\n        this._envelope.rejectedErrors.push(err);\n\n        for (var i = 0, len = this._envelope.accepted.length; i < len; i++) {\n          if (this._envelope.accepted[i] === recipient) {\n            this._envelope.accepted.splice(i, 1);\n          }\n        }\n      }\n\n      if (final) {\n        return callback(null, str);\n      }\n    }\n  }, {\n    key: \"_handleXOauth2Token\",\n    value: function _handleXOauth2Token(isRetry, callback) {\n      var _this18 = this;\n\n      this._auth.oauth2.getToken(isRetry, function (err, accessToken) {\n        if (err) {\n          _this18.logger.info({\n            tnx: 'smtp',\n            username: _this18._auth.user,\n            action: 'authfail',\n            method: _this18._authMethod\n          }, 'User %s failed to authenticate', JSON.stringify(_this18._auth.user));\n\n          return callback(_this18._formatError(err, 'EAUTH', false, 'AUTH XOAUTH2'));\n        }\n\n        _this18._responseActions.push(function (str) {\n          _this18._actionAUTHComplete(str, isRetry, callback);\n        });\n\n        _this18._sendCommand('AUTH XOAUTH2 ' + _this18._auth.oauth2.buildXOAuth2Token(accessToken), //  Hidden for logs\n        'AUTH XOAUTH2 ' + _this18._auth.oauth2.buildXOAuth2Token('/* secret */'));\n      });\n    }\n    /**\n     *\n     * @param {string} command\n     * @private\n     */\n\n  }, {\n    key: \"_isDestroyedMessage\",\n    value: function _isDestroyedMessage(command) {\n      if (this._destroyed) {\n        return 'Cannot ' + command + ' - smtp connection is already destroyed.';\n      }\n\n      if (this._socket) {\n        if (this._socket.destroyed) {\n          return 'Cannot ' + command + ' - smtp connection socket is already destroyed.';\n        }\n\n        if (!this._socket.writable) {\n          return 'Cannot ' + command + ' - smtp connection socket is already half-closed.';\n        }\n      }\n    }\n  }, {\n    key: \"_getHostname\",\n    value: function _getHostname() {\n      // defaul hostname is machine hostname or [IP]\n      var defaultHostname;\n\n      try {\n        defaultHostname = os.hostname() || '';\n      } catch (err) {\n        // fails on windows 7\n        defaultHostname = 'localhost';\n      } // ignore if not FQDN\n\n\n      if (!defaultHostname || defaultHostname.indexOf('.') < 0) {\n        defaultHostname = '[127.0.0.1]';\n      } // IP should be enclosed in []\n\n\n      if (defaultHostname.match(/^\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$/)) {\n        defaultHostname = '[' + defaultHostname + ']';\n      }\n\n      return defaultHostname;\n    }\n  }]);\n\n  return SMTPConnection;\n}(EventEmitter);\n\nmodule.exports = SMTPConnection;","'use strict';\n\nvar _classCallCheck = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/classCallCheck.js\");\n\nvar _createClass = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/createClass.js\");\n\nvar _inherits = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/inherits.js\");\n\nvar _possibleConstructorReturn = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n\nvar _getPrototypeOf = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar EventEmitter = require('events');\n\nvar PoolResource = require('./pool-resource');\n\nvar SMTPConnection = require('../smtp-connection');\n\nvar wellKnown = require('../well-known');\n\nvar shared = require('../shared');\n\nvar packageData = require('../../package.json');\n/**\n * Creates a SMTP pool transport object for Nodemailer\n *\n * @constructor\n * @param {Object} options SMTP Connection options\n */\n\n\nvar SMTPPool = /*#__PURE__*/function (_EventEmitter) {\n  _inherits(SMTPPool, _EventEmitter);\n\n  var _super = _createSuper(SMTPPool);\n\n  function SMTPPool(options) {\n    var _this;\n\n    _classCallCheck(this, SMTPPool);\n\n    _this = _super.call(this);\n    options = options || {};\n\n    if (typeof options === 'string') {\n      options = {\n        url: options\n      };\n    }\n\n    var urlData;\n    var service = options.service;\n\n    if (typeof options.getSocket === 'function') {\n      _this.getSocket = options.getSocket;\n    }\n\n    if (options.url) {\n      urlData = shared.parseConnectionUrl(options.url);\n      service = service || urlData.service;\n    }\n\n    _this.options = shared.assign(false, // create new object\n    options, // regular options\n    urlData, // url options\n    service && wellKnown(service) // wellknown options\n    );\n    _this.options.maxConnections = _this.options.maxConnections || 5;\n    _this.options.maxMessages = _this.options.maxMessages || 100;\n    _this.logger = shared.getLogger(_this.options, {\n      component: _this.options.component || 'smtp-pool'\n    }); // temporary object\n\n    var connection = new SMTPConnection(_this.options);\n    _this.name = 'SMTP (pool)';\n    _this.version = packageData.version + '[client:' + connection.version + ']';\n    _this._rateLimit = {\n      counter: 0,\n      timeout: null,\n      waiting: [],\n      checkpoint: false,\n      delta: Number(_this.options.rateDelta) || 1000,\n      limit: Number(_this.options.rateLimit) || 0\n    };\n    _this._closed = false;\n    _this._queue = [];\n    _this._connections = [];\n    _this._connectionCounter = 0;\n    _this.idling = true;\n    setImmediate(function () {\n      if (_this.idling) {\n        _this.emit('idle');\n      }\n    });\n    return _this;\n  }\n  /**\n   * Placeholder function for creating proxy sockets. This method immediatelly returns\n   * without a socket\n   *\n   * @param {Object} options Connection options\n   * @param {Function} callback Callback function to run with the socket keys\n   */\n\n\n  _createClass(SMTPPool, [{\n    key: \"getSocket\",\n    value: function getSocket(options, callback) {\n      // return immediatelly\n      return setImmediate(function () {\n        return callback(null, false);\n      });\n    }\n    /**\n     * Queues an e-mail to be sent using the selected settings\n     *\n     * @param {Object} mail Mail object\n     * @param {Function} callback Callback function\n     */\n\n  }, {\n    key: \"send\",\n    value: function send(mail, callback) {\n      var _this2 = this;\n\n      if (this._closed) {\n        return false;\n      }\n\n      this._queue.push({\n        mail: mail,\n        requeueAttempts: 0,\n        callback: callback\n      });\n\n      if (this.idling && this._queue.length >= this.options.maxConnections) {\n        this.idling = false;\n      }\n\n      setImmediate(function () {\n        return _this2._processMessages();\n      });\n      return true;\n    }\n    /**\n     * Closes all connections in the pool. If there is a message being sent, the connection\n     * is closed later\n     */\n\n  }, {\n    key: \"close\",\n    value: function close() {\n      var _this3 = this;\n\n      var connection;\n      var len = this._connections.length;\n      this._closed = true; // clear rate limit timer if it exists\n\n      clearTimeout(this._rateLimit.timeout);\n\n      if (!len && !this._queue.length) {\n        return;\n      } // remove all available connections\n\n\n      for (var i = len - 1; i >= 0; i--) {\n        if (this._connections[i] && this._connections[i].available) {\n          connection = this._connections[i];\n          connection.close();\n          this.logger.info({\n            tnx: 'connection',\n            cid: connection.id,\n            action: 'removed'\n          }, 'Connection #%s removed', connection.id);\n        }\n      }\n\n      if (len && !this._connections.length) {\n        this.logger.debug({\n          tnx: 'connection'\n        }, 'All connections removed');\n      }\n\n      if (!this._queue.length) {\n        return;\n      } // make sure that entire queue would be cleaned\n\n\n      var invokeCallbacks = function invokeCallbacks() {\n        if (!_this3._queue.length) {\n          _this3.logger.debug({\n            tnx: 'connection'\n          }, 'Pending queue entries cleared');\n\n          return;\n        }\n\n        var entry = _this3._queue.shift();\n\n        if (entry && typeof entry.callback === 'function') {\n          try {\n            entry.callback(new Error('Connection pool was closed'));\n          } catch (E) {\n            _this3.logger.error({\n              err: E,\n              tnx: 'callback',\n              cid: connection.id\n            }, 'Callback error for #%s: %s', connection.id, E.message);\n          }\n        }\n\n        setImmediate(invokeCallbacks);\n      };\n\n      setImmediate(invokeCallbacks);\n    }\n    /**\n     * Check the queue and available connections. If there is a message to be sent and there is\n     * an available connection, then use this connection to send the mail\n     */\n\n  }, {\n    key: \"_processMessages\",\n    value: function _processMessages() {\n      var _this4 = this;\n\n      var connection;\n      var i, len; // do nothing if already closed\n\n      if (this._closed) {\n        return;\n      } // do nothing if queue is empty\n\n\n      if (!this._queue.length) {\n        if (!this.idling) {\n          // no pending jobs\n          this.idling = true;\n          this.emit('idle');\n        }\n\n        return;\n      } // find first available connection\n\n\n      for (i = 0, len = this._connections.length; i < len; i++) {\n        if (this._connections[i].available) {\n          connection = this._connections[i];\n          break;\n        }\n      }\n\n      if (!connection && this._connections.length < this.options.maxConnections) {\n        connection = this._createConnection();\n      }\n\n      if (!connection) {\n        // no more free connection slots available\n        this.idling = false;\n        return;\n      } // check if there is free space in the processing queue\n\n\n      if (!this.idling && this._queue.length < this.options.maxConnections) {\n        this.idling = true;\n        this.emit('idle');\n      }\n\n      var entry = connection.queueEntry = this._queue.shift();\n\n      entry.messageId = (connection.queueEntry.mail.message.getHeader('message-id') || '').replace(/[<>\\s]/g, '');\n      connection.available = false;\n      this.logger.debug({\n        tnx: 'pool',\n        cid: connection.id,\n        messageId: entry.messageId,\n        action: 'assign'\n      }, 'Assigned message <%s> to #%s (%s)', entry.messageId, connection.id, connection.messages + 1);\n\n      if (this._rateLimit.limit) {\n        this._rateLimit.counter++;\n\n        if (!this._rateLimit.checkpoint) {\n          this._rateLimit.checkpoint = Date.now();\n        }\n      }\n\n      connection.send(entry.mail, function (err, info) {\n        // only process callback if current handler is not changed\n        if (entry === connection.queueEntry) {\n          try {\n            entry.callback(err, info);\n          } catch (E) {\n            _this4.logger.error({\n              err: E,\n              tnx: 'callback',\n              cid: connection.id\n            }, 'Callback error for #%s: %s', connection.id, E.message);\n          }\n\n          connection.queueEntry = false;\n        }\n      });\n    }\n    /**\n     * Creates a new pool resource\n     */\n\n  }, {\n    key: \"_createConnection\",\n    value: function _createConnection() {\n      var _this5 = this;\n\n      var connection = new PoolResource(this);\n      connection.id = ++this._connectionCounter;\n      this.logger.info({\n        tnx: 'pool',\n        cid: connection.id,\n        action: 'conection'\n      }, 'Created new pool resource #%s', connection.id); // resource comes available\n\n      connection.on('available', function () {\n        _this5.logger.debug({\n          tnx: 'connection',\n          cid: connection.id,\n          action: 'available'\n        }, 'Connection #%s became available', connection.id);\n\n        if (_this5._closed) {\n          // if already closed run close() that will remove this connections from connections list\n          _this5.close();\n        } else {\n          // check if there's anything else to send\n          _this5._processMessages();\n        }\n      }); // resource is terminated with an error\n\n      connection.once('error', function (err) {\n        if (err.code !== 'EMAXLIMIT') {\n          _this5.logger.error({\n            err: err,\n            tnx: 'pool',\n            cid: connection.id\n          }, 'Pool Error for #%s: %s', connection.id, err.message);\n        } else {\n          _this5.logger.debug({\n            tnx: 'pool',\n            cid: connection.id,\n            action: 'maxlimit'\n          }, 'Max messages limit exchausted for #%s', connection.id);\n        }\n\n        if (connection.queueEntry) {\n          try {\n            connection.queueEntry.callback(err);\n          } catch (E) {\n            _this5.logger.error({\n              err: E,\n              tnx: 'callback',\n              cid: connection.id\n            }, 'Callback error for #%s: %s', connection.id, E.message);\n          }\n\n          connection.queueEntry = false;\n        } // remove the erroneus connection from connections list\n\n\n        _this5._removeConnection(connection);\n\n        _this5._continueProcessing();\n      });\n      connection.once('close', function () {\n        _this5.logger.info({\n          tnx: 'connection',\n          cid: connection.id,\n          action: 'closed'\n        }, 'Connection #%s was closed', connection.id);\n\n        _this5._removeConnection(connection);\n\n        if (connection.queueEntry) {\n          // If the connection closed when sending, add the message to the queue again\n          // if max number of requeues is not reached yet\n          // Note that we must wait a bit.. because the callback of the 'error' handler might be called\n          // in the next event loop\n          setTimeout(function () {\n            if (connection.queueEntry) {\n              if (_this5._shouldRequeuOnConnectionClose(connection.queueEntry)) {\n                _this5._requeueEntryOnConnectionClose(connection);\n              } else {\n                _this5._failDeliveryOnConnectionClose(connection);\n              }\n            }\n\n            _this5._continueProcessing();\n          }, 50);\n        } else {\n          _this5._continueProcessing();\n        }\n      });\n\n      this._connections.push(connection);\n\n      return connection;\n    }\n  }, {\n    key: \"_shouldRequeuOnConnectionClose\",\n    value: function _shouldRequeuOnConnectionClose(queueEntry) {\n      if (this.options.maxRequeues === undefined || this.options.maxRequeues < 0) {\n        return true;\n      }\n\n      return queueEntry.requeueAttempts < this.options.maxRequeues;\n    }\n  }, {\n    key: \"_failDeliveryOnConnectionClose\",\n    value: function _failDeliveryOnConnectionClose(connection) {\n      if (connection.queueEntry && connection.queueEntry.callback) {\n        try {\n          connection.queueEntry.callback(new Error('Reached maximum number of retries after connection was closed'));\n        } catch (E) {\n          this.logger.error({\n            err: E,\n            tnx: 'callback',\n            messageId: connection.queueEntry.messageId,\n            cid: connection.id\n          }, 'Callback error for #%s: %s', connection.id, E.message);\n        }\n\n        connection.queueEntry = false;\n      }\n    }\n  }, {\n    key: \"_requeueEntryOnConnectionClose\",\n    value: function _requeueEntryOnConnectionClose(connection) {\n      connection.queueEntry.requeueAttempts = connection.queueEntry.requeueAttempts + 1;\n      this.logger.debug({\n        tnx: 'pool',\n        cid: connection.id,\n        messageId: connection.queueEntry.messageId,\n        action: 'requeue'\n      }, 'Re-queued message <%s> for #%s. Attempt: #%s', connection.queueEntry.messageId, connection.id, connection.queueEntry.requeueAttempts);\n\n      this._queue.unshift(connection.queueEntry);\n\n      connection.queueEntry = false;\n    }\n    /**\n     * Continue to process message if the pool hasn't closed\n     */\n\n  }, {\n    key: \"_continueProcessing\",\n    value: function _continueProcessing() {\n      var _this6 = this;\n\n      if (this._closed) {\n        this.close();\n      } else {\n        setTimeout(function () {\n          return _this6._processMessages();\n        }, 100);\n      }\n    }\n    /**\n     * Remove resource from pool\n     *\n     * @param {Object} connection The PoolResource to remove\n     */\n\n  }, {\n    key: \"_removeConnection\",\n    value: function _removeConnection(connection) {\n      var index = this._connections.indexOf(connection);\n\n      if (index !== -1) {\n        this._connections.splice(index, 1);\n      }\n    }\n    /**\n     * Checks if connections have hit current rate limit and if so, queues the availability callback\n     *\n     * @param {Function} callback Callback function to run once rate limiter has been cleared\n     */\n\n  }, {\n    key: \"_checkRateLimit\",\n    value: function _checkRateLimit(callback) {\n      var _this7 = this;\n\n      if (!this._rateLimit.limit) {\n        return callback();\n      }\n\n      var now = Date.now();\n\n      if (this._rateLimit.counter < this._rateLimit.limit) {\n        return callback();\n      }\n\n      this._rateLimit.waiting.push(callback);\n\n      if (this._rateLimit.checkpoint <= now - this._rateLimit.delta) {\n        return this._clearRateLimit();\n      } else if (!this._rateLimit.timeout) {\n        this._rateLimit.timeout = setTimeout(function () {\n          return _this7._clearRateLimit();\n        }, this._rateLimit.delta - (now - this._rateLimit.checkpoint));\n        this._rateLimit.checkpoint = now;\n      }\n    }\n    /**\n     * Clears current rate limit limitation and runs paused callback\n     */\n\n  }, {\n    key: \"_clearRateLimit\",\n    value: function _clearRateLimit() {\n      clearTimeout(this._rateLimit.timeout);\n      this._rateLimit.timeout = null;\n      this._rateLimit.counter = 0;\n      this._rateLimit.checkpoint = false; // resume all paused connections\n\n      while (this._rateLimit.waiting.length) {\n        var cb = this._rateLimit.waiting.shift();\n\n        setImmediate(cb);\n      }\n    }\n    /**\n     * Returns true if there are free slots in the queue\n     */\n\n  }, {\n    key: \"isIdle\",\n    value: function isIdle() {\n      return this.idling;\n    }\n    /**\n     * Verifies SMTP configuration\n     *\n     * @param {Function} callback Callback function\n     */\n\n  }, {\n    key: \"verify\",\n    value: function verify(callback) {\n      var _this8 = this;\n\n      var promise;\n\n      if (!callback) {\n        promise = new Promise(function (resolve, reject) {\n          callback = shared.callbackPromise(resolve, reject);\n        });\n      }\n\n      var auth = new PoolResource(this).auth;\n      this.getSocket(this.options, function (err, socketOptions) {\n        if (err) {\n          return callback(err);\n        }\n\n        var options = _this8.options;\n\n        if (socketOptions && socketOptions.connection) {\n          _this8.logger.info({\n            tnx: 'proxy',\n            remoteAddress: socketOptions.connection.remoteAddress,\n            remotePort: socketOptions.connection.remotePort,\n            destHost: options.host || '',\n            destPort: options.port || '',\n            action: 'connected'\n          }, 'Using proxied socket from %s:%s to %s:%s', socketOptions.connection.remoteAddress, socketOptions.connection.remotePort, options.host || '', options.port || '');\n\n          options = shared.assign(false, options);\n          Object.keys(socketOptions).forEach(function (key) {\n            options[key] = socketOptions[key];\n          });\n        }\n\n        var connection = new SMTPConnection(options);\n        var returned = false;\n        connection.once('error', function (err) {\n          if (returned) {\n            return;\n          }\n\n          returned = true;\n          connection.close();\n          return callback(err);\n        });\n        connection.once('end', function () {\n          if (returned) {\n            return;\n          }\n\n          returned = true;\n          return callback(new Error('Connection closed'));\n        });\n\n        var finalize = function finalize() {\n          if (returned) {\n            return;\n          }\n\n          returned = true;\n          connection.quit();\n          return callback(null, true);\n        };\n\n        connection.connect(function () {\n          if (returned) {\n            return;\n          }\n\n          if (auth && (connection.allowsAuth || options.forceAuth)) {\n            connection.login(auth, function (err) {\n              if (returned) {\n                return;\n              }\n\n              if (err) {\n                returned = true;\n                connection.close();\n                return callback(err);\n              }\n\n              finalize();\n            });\n          } else if (!auth && connection.allowsAuth && options.forceAuth) {\n            var _err = new Error('Authentication info was not provided');\n\n            _err.code = 'NoAuth';\n            returned = true;\n            connection.close();\n            return callback(_err);\n          } else {\n            finalize();\n          }\n        });\n      });\n      return promise;\n    }\n  }]);\n\n  return SMTPPool;\n}(EventEmitter); // expose to the world\n\n\nmodule.exports = SMTPPool;","'use strict';\n\nvar _classCallCheck = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/classCallCheck.js\");\n\nvar _createClass = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/createClass.js\");\n\nvar _inherits = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/inherits.js\");\n\nvar _possibleConstructorReturn = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n\nvar _getPrototypeOf = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar SMTPConnection = require('../smtp-connection');\n\nvar assign = require('../shared').assign;\n\nvar XOAuth2 = require('../xoauth2');\n\nvar EventEmitter = require('events');\n/**\n * Creates an element for the pool\n *\n * @constructor\n * @param {Object} options SMTPPool instance\n */\n\n\nvar PoolResource = /*#__PURE__*/function (_EventEmitter) {\n  _inherits(PoolResource, _EventEmitter);\n\n  var _super = _createSuper(PoolResource);\n\n  function PoolResource(pool) {\n    var _this;\n\n    _classCallCheck(this, PoolResource);\n\n    _this = _super.call(this);\n    _this.pool = pool;\n    _this.options = pool.options;\n    _this.logger = _this.pool.logger;\n\n    if (_this.options.auth) {\n      switch ((_this.options.auth.type || '').toString().toUpperCase()) {\n        case 'OAUTH2':\n          {\n            var oauth2 = new XOAuth2(_this.options.auth, _this.logger);\n            oauth2.provisionCallback = _this.pool.mailer && _this.pool.mailer.get('oauth2_provision_cb') || oauth2.provisionCallback;\n            _this.auth = {\n              type: 'OAUTH2',\n              user: _this.options.auth.user,\n              oauth2: oauth2,\n              method: 'XOAUTH2'\n            };\n            oauth2.on('token', function (token) {\n              return _this.pool.mailer.emit('token', token);\n            });\n            oauth2.on('error', function (err) {\n              return _this.emit('error', err);\n            });\n            break;\n          }\n\n        default:\n          if (!_this.options.auth.user && !_this.options.auth.pass) {\n            break;\n          }\n\n          _this.auth = {\n            type: (_this.options.auth.type || '').toString().toUpperCase() || 'LOGIN',\n            user: _this.options.auth.user,\n            credentials: {\n              user: _this.options.auth.user || '',\n              pass: _this.options.auth.pass,\n              options: _this.options.auth.options\n            },\n            method: (_this.options.auth.method || '').trim().toUpperCase() || _this.options.authMethod || false\n          };\n      }\n    }\n\n    _this._connection = false;\n    _this._connected = false;\n    _this.messages = 0;\n    _this.available = true;\n    return _this;\n  }\n  /**\n   * Initiates a connection to the SMTP server\n   *\n   * @param {Function} callback Callback function to run once the connection is established or failed\n   */\n\n\n  _createClass(PoolResource, [{\n    key: \"connect\",\n    value: function connect(callback) {\n      var _this2 = this;\n\n      this.pool.getSocket(this.options, function (err, socketOptions) {\n        if (err) {\n          return callback(err);\n        }\n\n        var returned = false;\n        var options = _this2.options;\n\n        if (socketOptions && socketOptions.connection) {\n          _this2.logger.info({\n            tnx: 'proxy',\n            remoteAddress: socketOptions.connection.remoteAddress,\n            remotePort: socketOptions.connection.remotePort,\n            destHost: options.host || '',\n            destPort: options.port || '',\n            action: 'connected'\n          }, 'Using proxied socket from %s:%s to %s:%s', socketOptions.connection.remoteAddress, socketOptions.connection.remotePort, options.host || '', options.port || '');\n\n          options = assign(false, options);\n          Object.keys(socketOptions).forEach(function (key) {\n            options[key] = socketOptions[key];\n          });\n        }\n\n        _this2.connection = new SMTPConnection(options);\n\n        _this2.connection.once('error', function (err) {\n          _this2.emit('error', err);\n\n          if (returned) {\n            return;\n          }\n\n          returned = true;\n          return callback(err);\n        });\n\n        _this2.connection.once('end', function () {\n          _this2.close();\n\n          if (returned) {\n            return;\n          }\n\n          returned = true;\n          var timer = setTimeout(function () {\n            if (returned) {\n              return;\n            } // still have not returned, this means we have an unexpected connection close\n\n\n            var err = new Error('Unexpected socket close');\n\n            if (_this2.connection && _this2.connection._socket && _this2.connection._socket.upgrading) {\n              // starttls connection errors\n              err.code = 'ETLS';\n            }\n\n            callback(err);\n          }, 1000);\n\n          try {\n            timer.unref();\n          } catch (E) {// Ignore. Happens on envs with non-node timer implementation\n          }\n        });\n\n        _this2.connection.connect(function () {\n          if (returned) {\n            return;\n          }\n\n          if (_this2.auth && (_this2.connection.allowsAuth || options.forceAuth)) {\n            _this2.connection.login(_this2.auth, function (err) {\n              if (returned) {\n                return;\n              }\n\n              returned = true;\n\n              if (err) {\n                _this2.connection.close();\n\n                _this2.emit('error', err);\n\n                return callback(err);\n              }\n\n              _this2._connected = true;\n              callback(null, true);\n            });\n          } else {\n            returned = true;\n            _this2._connected = true;\n            return callback(null, true);\n          }\n        });\n      });\n    }\n    /**\n     * Sends an e-mail to be sent using the selected settings\n     *\n     * @param {Object} mail Mail object\n     * @param {Function} callback Callback function\n     */\n\n  }, {\n    key: \"send\",\n    value: function send(mail, callback) {\n      var _this3 = this;\n\n      if (!this._connected) {\n        return this.connect(function (err) {\n          if (err) {\n            return callback(err);\n          }\n\n          return _this3.send(mail, callback);\n        });\n      }\n\n      var envelope = mail.message.getEnvelope();\n      var messageId = mail.message.messageId();\n      var recipients = [].concat(envelope.to || []);\n\n      if (recipients.length > 3) {\n        recipients.push('...and ' + recipients.splice(2).length + ' more');\n      }\n\n      this.logger.info({\n        tnx: 'send',\n        messageId: messageId,\n        cid: this.id\n      }, 'Sending message %s using #%s to <%s>', messageId, this.id, recipients.join(', '));\n\n      if (mail.data.dsn) {\n        envelope.dsn = mail.data.dsn;\n      }\n\n      this.connection.send(envelope, mail.message.createReadStream(), function (err, info) {\n        _this3.messages++;\n\n        if (err) {\n          _this3.connection.close();\n\n          _this3.emit('error', err);\n\n          return callback(err);\n        }\n\n        info.envelope = {\n          from: envelope.from,\n          to: envelope.to\n        };\n        info.messageId = messageId;\n        setImmediate(function () {\n          var err;\n\n          if (_this3.messages >= _this3.options.maxMessages) {\n            err = new Error('Resource exhausted');\n            err.code = 'EMAXLIMIT';\n\n            _this3.connection.close();\n\n            _this3.emit('error', err);\n          } else {\n            _this3.pool._checkRateLimit(function () {\n              _this3.available = true;\n\n              _this3.emit('available');\n            });\n          }\n        });\n        callback(null, info);\n      });\n    }\n    /**\n     * Closes the connection\n     */\n\n  }, {\n    key: \"close\",\n    value: function close() {\n      this._connected = false;\n\n      if (this.auth && this.auth.oauth2) {\n        this.auth.oauth2.removeAllListeners();\n      }\n\n      if (this.connection) {\n        this.connection.close();\n      }\n\n      this.emit('close');\n    }\n  }]);\n\n  return PoolResource;\n}(EventEmitter);\n\nmodule.exports = PoolResource;","'use strict';\n\nvar _classCallCheck = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/classCallCheck.js\");\n\nvar _createClass = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/createClass.js\");\n\nvar _inherits = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/inherits.js\");\n\nvar _possibleConstructorReturn = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n\nvar _getPrototypeOf = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar EventEmitter = require('events');\n\nvar SMTPConnection = require('../smtp-connection');\n\nvar wellKnown = require('../well-known');\n\nvar shared = require('../shared');\n\nvar XOAuth2 = require('../xoauth2');\n\nvar packageData = require('../../package.json');\n/**\n * Creates a SMTP transport object for Nodemailer\n *\n * @constructor\n * @param {Object} options Connection options\n */\n\n\nvar SMTPTransport = /*#__PURE__*/function (_EventEmitter) {\n  _inherits(SMTPTransport, _EventEmitter);\n\n  var _super = _createSuper(SMTPTransport);\n\n  function SMTPTransport(options) {\n    var _this;\n\n    _classCallCheck(this, SMTPTransport);\n\n    _this = _super.call(this);\n    options = options || {};\n\n    if (typeof options === 'string') {\n      options = {\n        url: options\n      };\n    }\n\n    var urlData;\n    var service = options.service;\n\n    if (typeof options.getSocket === 'function') {\n      _this.getSocket = options.getSocket;\n    }\n\n    if (options.url) {\n      urlData = shared.parseConnectionUrl(options.url);\n      service = service || urlData.service;\n    }\n\n    _this.options = shared.assign(false, // create new object\n    options, // regular options\n    urlData, // url options\n    service && wellKnown(service) // wellknown options\n    );\n    _this.logger = shared.getLogger(_this.options, {\n      component: _this.options.component || 'smtp-transport'\n    }); // temporary object\n\n    var connection = new SMTPConnection(_this.options);\n    _this.name = 'SMTP';\n    _this.version = packageData.version + '[client:' + connection.version + ']';\n\n    if (_this.options.auth) {\n      _this.auth = _this.getAuth({});\n    }\n\n    return _this;\n  }\n  /**\n   * Placeholder function for creating proxy sockets. This method immediatelly returns\n   * without a socket\n   *\n   * @param {Object} options Connection options\n   * @param {Function} callback Callback function to run with the socket keys\n   */\n\n\n  _createClass(SMTPTransport, [{\n    key: \"getSocket\",\n    value: function getSocket(options, callback) {\n      // return immediatelly\n      return setImmediate(function () {\n        return callback(null, false);\n      });\n    }\n  }, {\n    key: \"getAuth\",\n    value: function getAuth(authOpts) {\n      var _this2 = this;\n\n      if (!authOpts) {\n        return this.auth;\n      }\n\n      var hasAuth = false;\n      var authData = {};\n\n      if (this.options.auth && typeof this.options.auth === 'object') {\n        Object.keys(this.options.auth).forEach(function (key) {\n          hasAuth = true;\n          authData[key] = _this2.options.auth[key];\n        });\n      }\n\n      if (authOpts && typeof authOpts === 'object') {\n        Object.keys(authOpts).forEach(function (key) {\n          hasAuth = true;\n          authData[key] = authOpts[key];\n        });\n      }\n\n      if (!hasAuth) {\n        return false;\n      }\n\n      switch ((authData.type || '').toString().toUpperCase()) {\n        case 'OAUTH2':\n          {\n            if (!authData.service && !authData.user) {\n              return false;\n            }\n\n            var oauth2 = new XOAuth2(authData, this.logger);\n            oauth2.provisionCallback = this.mailer && this.mailer.get('oauth2_provision_cb') || oauth2.provisionCallback;\n            oauth2.on('token', function (token) {\n              return _this2.mailer.emit('token', token);\n            });\n            oauth2.on('error', function (err) {\n              return _this2.emit('error', err);\n            });\n            return {\n              type: 'OAUTH2',\n              user: authData.user,\n              oauth2: oauth2,\n              method: 'XOAUTH2'\n            };\n          }\n\n        default:\n          return {\n            type: (authData.type || '').toString().toUpperCase() || 'LOGIN',\n            user: authData.user,\n            credentials: {\n              user: authData.user || '',\n              pass: authData.pass,\n              options: authData.options\n            },\n            method: (authData.method || '').trim().toUpperCase() || this.options.authMethod || false\n          };\n      }\n    }\n    /**\n     * Sends an e-mail using the selected settings\n     *\n     * @param {Object} mail Mail object\n     * @param {Function} callback Callback function\n     */\n\n  }, {\n    key: \"send\",\n    value: function send(mail, callback) {\n      var _this3 = this;\n\n      this.getSocket(this.options, function (err, socketOptions) {\n        if (err) {\n          return callback(err);\n        }\n\n        var returned = false;\n        var options = _this3.options;\n\n        if (socketOptions && socketOptions.connection) {\n          _this3.logger.info({\n            tnx: 'proxy',\n            remoteAddress: socketOptions.connection.remoteAddress,\n            remotePort: socketOptions.connection.remotePort,\n            destHost: options.host || '',\n            destPort: options.port || '',\n            action: 'connected'\n          }, 'Using proxied socket from %s:%s to %s:%s', socketOptions.connection.remoteAddress, socketOptions.connection.remotePort, options.host || '', options.port || ''); // only copy options if we need to modify it\n\n\n          options = shared.assign(false, options);\n          Object.keys(socketOptions).forEach(function (key) {\n            options[key] = socketOptions[key];\n          });\n        }\n\n        var connection = new SMTPConnection(options);\n        connection.once('error', function (err) {\n          if (returned) {\n            return;\n          }\n\n          returned = true;\n          connection.close();\n          return callback(err);\n        });\n        connection.once('end', function () {\n          if (returned) {\n            return;\n          }\n\n          var timer = setTimeout(function () {\n            if (returned) {\n              return;\n            }\n\n            returned = true; // still have not returned, this means we have an unexpected connection close\n\n            var err = new Error('Unexpected socket close');\n\n            if (connection && connection._socket && connection._socket.upgrading) {\n              // starttls connection errors\n              err.code = 'ETLS';\n            }\n\n            callback(err);\n          }, 1000);\n\n          try {\n            timer.unref();\n          } catch (E) {// Ignore. Happens on envs with non-node timer implementation\n          }\n        });\n\n        var sendMessage = function sendMessage() {\n          var envelope = mail.message.getEnvelope();\n          var messageId = mail.message.messageId();\n          var recipients = [].concat(envelope.to || []);\n\n          if (recipients.length > 3) {\n            recipients.push('...and ' + recipients.splice(2).length + ' more');\n          }\n\n          if (mail.data.dsn) {\n            envelope.dsn = mail.data.dsn;\n          }\n\n          _this3.logger.info({\n            tnx: 'send',\n            messageId: messageId\n          }, 'Sending message %s to <%s>', messageId, recipients.join(', '));\n\n          connection.send(envelope, mail.message.createReadStream(), function (err, info) {\n            returned = true;\n            connection.close();\n\n            if (err) {\n              _this3.logger.error({\n                err: err,\n                tnx: 'send'\n              }, 'Send error for %s: %s', messageId, err.message);\n\n              return callback(err);\n            }\n\n            info.envelope = {\n              from: envelope.from,\n              to: envelope.to\n            };\n            info.messageId = messageId;\n\n            try {\n              return callback(null, info);\n            } catch (E) {\n              _this3.logger.error({\n                err: E,\n                tnx: 'callback'\n              }, 'Callback error for %s: %s', messageId, E.message);\n            }\n          });\n        };\n\n        connection.connect(function () {\n          if (returned) {\n            return;\n          }\n\n          var auth = _this3.getAuth(mail.data.auth);\n\n          if (auth && (connection.allowsAuth || options.forceAuth)) {\n            connection.login(auth, function (err) {\n              if (auth && auth !== _this3.auth && auth.oauth2) {\n                auth.oauth2.removeAllListeners();\n              }\n\n              if (returned) {\n                return;\n              }\n\n              if (err) {\n                returned = true;\n                connection.close();\n                return callback(err);\n              }\n\n              sendMessage();\n            });\n          } else {\n            sendMessage();\n          }\n        });\n      });\n    }\n    /**\n     * Verifies SMTP configuration\n     *\n     * @param {Function} callback Callback function\n     */\n\n  }, {\n    key: \"verify\",\n    value: function verify(callback) {\n      var _this4 = this;\n\n      var promise;\n\n      if (!callback) {\n        promise = new Promise(function (resolve, reject) {\n          callback = shared.callbackPromise(resolve, reject);\n        });\n      }\n\n      this.getSocket(this.options, function (err, socketOptions) {\n        if (err) {\n          return callback(err);\n        }\n\n        var options = _this4.options;\n\n        if (socketOptions && socketOptions.connection) {\n          _this4.logger.info({\n            tnx: 'proxy',\n            remoteAddress: socketOptions.connection.remoteAddress,\n            remotePort: socketOptions.connection.remotePort,\n            destHost: options.host || '',\n            destPort: options.port || '',\n            action: 'connected'\n          }, 'Using proxied socket from %s:%s to %s:%s', socketOptions.connection.remoteAddress, socketOptions.connection.remotePort, options.host || '', options.port || '');\n\n          options = shared.assign(false, options);\n          Object.keys(socketOptions).forEach(function (key) {\n            options[key] = socketOptions[key];\n          });\n        }\n\n        var connection = new SMTPConnection(options);\n        var returned = false;\n        connection.once('error', function (err) {\n          if (returned) {\n            return;\n          }\n\n          returned = true;\n          connection.close();\n          return callback(err);\n        });\n        connection.once('end', function () {\n          if (returned) {\n            return;\n          }\n\n          returned = true;\n          return callback(new Error('Connection closed'));\n        });\n\n        var finalize = function finalize() {\n          if (returned) {\n            return;\n          }\n\n          returned = true;\n          connection.quit();\n          return callback(null, true);\n        };\n\n        connection.connect(function () {\n          if (returned) {\n            return;\n          }\n\n          var authData = _this4.getAuth({});\n\n          if (authData && (connection.allowsAuth || options.forceAuth)) {\n            connection.login(authData, function (err) {\n              if (returned) {\n                return;\n              }\n\n              if (err) {\n                returned = true;\n                connection.close();\n                return callback(err);\n              }\n\n              finalize();\n            });\n          } else if (!authData && connection.allowsAuth && options.forceAuth) {\n            var _err = new Error('Authentication info was not provided');\n\n            _err.code = 'NoAuth';\n            returned = true;\n            connection.close();\n            return callback(_err);\n          } else {\n            finalize();\n          }\n        });\n      });\n      return promise;\n    }\n    /**\n     * Releases resources\n     */\n\n  }, {\n    key: \"close\",\n    value: function close() {\n      if (this.auth && this.auth.oauth2) {\n        this.auth.oauth2.removeAllListeners();\n      }\n\n      this.emit('close');\n    }\n  }]);\n\n  return SMTPTransport;\n}(EventEmitter); // expose to the world\n\n\nmodule.exports = SMTPTransport;","'use strict';\n\nvar _classCallCheck = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/classCallCheck.js\");\n\nvar _createClass = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/createClass.js\");\n\nvar packageData = require('../../package.json');\n\nvar shared = require('../shared');\n/**\n * Generates a Transport object for streaming\n *\n * Possible options can be the following:\n *\n *  * **buffer** if true, then returns the message as a Buffer object instead of a stream\n *  * **newline** either 'windows' or 'unix'\n *\n * @constructor\n * @param {Object} optional config parameter\n */\n\n\nvar StreamTransport = /*#__PURE__*/function () {\n  function StreamTransport(options) {\n    _classCallCheck(this, StreamTransport);\n\n    options = options || {};\n    this.options = options || {};\n    this.name = 'StreamTransport';\n    this.version = packageData.version;\n    this.logger = shared.getLogger(this.options, {\n      component: this.options.component || 'stream-transport'\n    });\n    this.winbreak = ['win', 'windows', 'dos', '\\r\\n'].includes((options.newline || '').toString().toLowerCase());\n  }\n  /**\n   * Compiles a mailcomposer message and forwards it to handler that sends it\n   *\n   * @param {Object} emailMessage MailComposer object\n   * @param {Function} callback Callback function to run when the sending is completed\n   */\n\n\n  _createClass(StreamTransport, [{\n    key: \"send\",\n    value: function send(mail, done) {\n      var _this = this;\n\n      // We probably need this in the output\n      mail.message.keepBcc = true;\n      var envelope = mail.data.envelope || mail.message.getEnvelope();\n      var messageId = mail.message.messageId();\n      var recipients = [].concat(envelope.to || []);\n\n      if (recipients.length > 3) {\n        recipients.push('...and ' + recipients.splice(2).length + ' more');\n      }\n\n      this.logger.info({\n        tnx: 'send',\n        messageId: messageId\n      }, 'Sending message %s to <%s> using %s line breaks', messageId, recipients.join(', '), this.winbreak ? '<CR><LF>' : '<LF>');\n      setImmediate(function () {\n        var stream;\n\n        try {\n          stream = mail.message.createReadStream();\n        } catch (E) {\n          _this.logger.error({\n            err: E,\n            tnx: 'send',\n            messageId: messageId\n          }, 'Creating send stream failed for %s. %s', messageId, E.message);\n\n          return done(E);\n        }\n\n        if (!_this.options.buffer) {\n          stream.once('error', function (err) {\n            _this.logger.error({\n              err: err,\n              tnx: 'send',\n              messageId: messageId\n            }, 'Failed creating message for %s. %s', messageId, err.message);\n          });\n          return done(null, {\n            envelope: mail.data.envelope || mail.message.getEnvelope(),\n            messageId: messageId,\n            message: stream\n          });\n        }\n\n        var chunks = [];\n        var chunklen = 0;\n        stream.on('readable', function () {\n          var chunk;\n\n          while ((chunk = stream.read()) !== null) {\n            chunks.push(chunk);\n            chunklen += chunk.length;\n          }\n        });\n        stream.once('error', function (err) {\n          _this.logger.error({\n            err: err,\n            tnx: 'send',\n            messageId: messageId\n          }, 'Failed creating message for %s. %s', messageId, err.message);\n\n          return done(err);\n        });\n        stream.on('end', function () {\n          return done(null, {\n            envelope: mail.data.envelope || mail.message.getEnvelope(),\n            messageId: messageId,\n            message: Buffer.concat(chunks, chunklen)\n          });\n        });\n      });\n    }\n  }]);\n\n  return StreamTransport;\n}();\n\nmodule.exports = StreamTransport;","'use strict';\n\nvar services = require('./services.json');\n\nvar normalized = {};\nObject.keys(services).forEach(function (key) {\n  var service = services[key];\n  normalized[normalizeKey(key)] = normalizeService(service);\n  [].concat(service.aliases || []).forEach(function (alias) {\n    normalized[normalizeKey(alias)] = normalizeService(service);\n  });\n  [].concat(service.domains || []).forEach(function (domain) {\n    normalized[normalizeKey(domain)] = normalizeService(service);\n  });\n});\n\nfunction normalizeKey(key) {\n  return key.replace(/[^a-zA-Z0-9.-]/g, '').toLowerCase();\n}\n\nfunction normalizeService(service) {\n  var filter = ['domains', 'aliases'];\n  var response = {};\n  Object.keys(service).forEach(function (key) {\n    if (filter.indexOf(key) < 0) {\n      response[key] = service[key];\n    }\n  });\n  return response;\n}\n/**\n * Resolves SMTP config for given key. Key can be a name (like 'Gmail'), alias (like 'Google Mail') or\n * an email address (like 'test@googlemail.com').\n *\n * @param {String} key [description]\n * @returns {Object} SMTP config or false if not found\n */\n\n\nmodule.exports = function (key) {\n  key = normalizeKey(key.split('@').pop());\n  return normalized[key] || false;\n};","'use strict';\n\nvar _classCallCheck = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/classCallCheck.js\");\n\nvar _createClass = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/createClass.js\");\n\nvar _inherits = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/inherits.js\");\n\nvar _possibleConstructorReturn = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n\nvar _getPrototypeOf = require(\"/home/runner/work/photonq-jaen/photonq-jaen/node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Stream = require('stream').Stream;\n\nvar nmfetch = require('../fetch');\n\nvar crypto = require('crypto');\n\nvar shared = require('../shared');\n/**\n * XOAUTH2 access_token generator for Gmail.\n * Create client ID for web applications in Google API console to use it.\n * See Offline Access for receiving the needed refreshToken for an user\n * https://developers.google.com/accounts/docs/OAuth2WebServer#offline\n *\n * Usage for generating access tokens with a custom method using provisionCallback:\n * provisionCallback(user, renew, callback)\n *   * user is the username to get the token for\n *   * renew is a boolean that if true indicates that existing token failed and needs to be renewed\n *   * callback is the callback to run with (error, accessToken [, expires])\n *     * accessToken is a string\n *     * expires is an optional expire time in milliseconds\n * If provisionCallback is used, then Nodemailer does not try to attempt generating the token by itself\n *\n * @constructor\n * @param {Object} options Client information for token generation\n * @param {String} options.user User e-mail address\n * @param {String} options.clientId Client ID value\n * @param {String} options.clientSecret Client secret value\n * @param {String} options.refreshToken Refresh token for an user\n * @param {String} options.accessUrl Endpoint for token generation, defaults to 'https://accounts.google.com/o/oauth2/token'\n * @param {String} options.accessToken An existing valid accessToken\n * @param {String} options.privateKey Private key for JSW\n * @param {Number} options.expires Optional Access Token expire time in ms\n * @param {Number} options.timeout Optional TTL for Access Token in seconds\n * @param {Function} options.provisionCallback Function to run when a new access token is required\n */\n\n\nvar XOAuth2 = /*#__PURE__*/function (_Stream) {\n  _inherits(XOAuth2, _Stream);\n\n  var _super = _createSuper(XOAuth2);\n\n  function XOAuth2(options, logger) {\n    var _this;\n\n    _classCallCheck(this, XOAuth2);\n\n    _this = _super.call(this);\n    _this.options = options || {};\n\n    if (options && options.serviceClient) {\n      if (!options.privateKey || !options.user) {\n        setImmediate(function () {\n          return _this.emit('error', new Error('Options \"privateKey\" and \"user\" are required for service account!'));\n        });\n        return _possibleConstructorReturn(_this);\n      }\n\n      var serviceRequestTimeout = Math.min(Math.max(Number(_this.options.serviceRequestTimeout) || 0, 0), 3600);\n      _this.options.serviceRequestTimeout = serviceRequestTimeout || 5 * 60;\n    }\n\n    _this.logger = shared.getLogger({\n      logger: logger\n    }, {\n      component: _this.options.component || 'OAuth2'\n    });\n    _this.provisionCallback = typeof _this.options.provisionCallback === 'function' ? _this.options.provisionCallback : false;\n    _this.options.accessUrl = _this.options.accessUrl || 'https://accounts.google.com/o/oauth2/token';\n    _this.options.customHeaders = _this.options.customHeaders || {};\n    _this.options.customParams = _this.options.customParams || {};\n    _this.accessToken = _this.options.accessToken || false;\n\n    if (_this.options.expires && Number(_this.options.expires)) {\n      _this.expires = _this.options.expires;\n    } else {\n      var timeout = Math.max(Number(_this.options.timeout) || 0, 0);\n      _this.expires = timeout && Date.now() + timeout * 1000 || 0;\n    }\n\n    return _this;\n  }\n  /**\n   * Returns or generates (if previous has expired) a XOAuth2 token\n   *\n   * @param {Boolean} renew If false then use cached access token (if available)\n   * @param {Function} callback Callback function with error object and token string\n   */\n\n\n  _createClass(XOAuth2, [{\n    key: \"getToken\",\n    value: function getToken(renew, callback) {\n      var _this2 = this;\n\n      if (!renew && this.accessToken && (!this.expires || this.expires > Date.now())) {\n        return callback(null, this.accessToken);\n      }\n\n      var generateCallback = function generateCallback() {\n        if (arguments.length <= 0 ? undefined : arguments[0]) {\n          _this2.logger.error({\n            err: arguments.length <= 0 ? undefined : arguments[0],\n            tnx: 'OAUTH2',\n            user: _this2.options.user,\n            action: 'renew'\n          }, 'Failed generating new Access Token for %s', _this2.options.user);\n        } else {\n          _this2.logger.info({\n            tnx: 'OAUTH2',\n            user: _this2.options.user,\n            action: 'renew'\n          }, 'Generated new Access Token for %s', _this2.options.user);\n        }\n\n        callback.apply(void 0, arguments);\n      };\n\n      if (this.provisionCallback) {\n        this.provisionCallback(this.options.user, !!renew, function (err, accessToken, expires) {\n          if (!err && accessToken) {\n            _this2.accessToken = accessToken;\n            _this2.expires = expires || 0;\n          }\n\n          generateCallback(err, accessToken);\n        });\n      } else {\n        this.generateToken(generateCallback);\n      }\n    }\n    /**\n     * Updates token values\n     *\n     * @param {String} accessToken New access token\n     * @param {Number} timeout Access token lifetime in seconds\n     *\n     * Emits 'token': { user: User email-address, accessToken: the new accessToken, timeout: TTL in seconds}\n     */\n\n  }, {\n    key: \"updateToken\",\n    value: function updateToken(accessToken, timeout) {\n      this.accessToken = accessToken;\n      timeout = Math.max(Number(timeout) || 0, 0);\n      this.expires = timeout && Date.now() + timeout * 1000 || 0;\n      this.emit('token', {\n        user: this.options.user,\n        accessToken: accessToken || '',\n        expires: this.expires\n      });\n    }\n    /**\n     * Generates a new XOAuth2 token with the credentials provided at initialization\n     *\n     * @param {Function} callback Callback function with error object and token string\n     */\n\n  }, {\n    key: \"generateToken\",\n    value: function generateToken(callback) {\n      var _this3 = this;\n\n      var urlOptions;\n      var loggedUrlOptions;\n\n      if (this.options.serviceClient) {\n        // service account - https://developers.google.com/identity/protocols/OAuth2ServiceAccount\n        var iat = Math.floor(Date.now() / 1000); // unix time\n\n        var tokenData = {\n          iss: this.options.serviceClient,\n          scope: this.options.scope || 'https://mail.google.com/',\n          sub: this.options.user,\n          aud: this.options.accessUrl,\n          iat: iat,\n          exp: iat + this.options.serviceRequestTimeout\n        };\n        var token;\n\n        try {\n          token = this.jwtSignRS256(tokenData);\n        } catch (err) {\n          return callback(new Error('Can\\x27t generate token. Check your auth options'));\n        }\n\n        urlOptions = {\n          grant_type: 'urn:ietf:params:oauth:grant-type:jwt-bearer',\n          assertion: token\n        };\n        loggedUrlOptions = {\n          grant_type: 'urn:ietf:params:oauth:grant-type:jwt-bearer',\n          assertion: tokenData\n        };\n      } else {\n        if (!this.options.refreshToken) {\n          return callback(new Error('Can\\x27t create new access token for user'));\n        } // web app - https://developers.google.com/identity/protocols/OAuth2WebServer\n\n\n        urlOptions = {\n          client_id: this.options.clientId || '',\n          client_secret: this.options.clientSecret || '',\n          refresh_token: this.options.refreshToken,\n          grant_type: 'refresh_token'\n        };\n        loggedUrlOptions = {\n          client_id: this.options.clientId || '',\n          client_secret: (this.options.clientSecret || '').substr(0, 6) + '...',\n          refresh_token: (this.options.refreshToken || '').substr(0, 6) + '...',\n          grant_type: 'refresh_token'\n        };\n      }\n\n      Object.keys(this.options.customParams).forEach(function (key) {\n        urlOptions[key] = _this3.options.customParams[key];\n        loggedUrlOptions[key] = _this3.options.customParams[key];\n      });\n      this.logger.debug({\n        tnx: 'OAUTH2',\n        user: this.options.user,\n        action: 'generate'\n      }, 'Requesting token using: %s', JSON.stringify(loggedUrlOptions));\n      this.postRequest(this.options.accessUrl, urlOptions, this.options, function (error, body) {\n        var data;\n\n        if (error) {\n          return callback(error);\n        }\n\n        try {\n          data = JSON.parse(body.toString());\n        } catch (E) {\n          return callback(E);\n        }\n\n        if (!data || typeof data !== 'object') {\n          _this3.logger.debug({\n            tnx: 'OAUTH2',\n            user: _this3.options.user,\n            action: 'post'\n          }, 'Response: %s', (body || '').toString());\n\n          return callback(new Error('Invalid authentication response'));\n        }\n\n        var logData = {};\n        Object.keys(data).forEach(function (key) {\n          if (key !== 'access_token') {\n            logData[key] = data[key];\n          } else {\n            logData[key] = (data[key] || '').toString().substr(0, 6) + '...';\n          }\n        });\n\n        _this3.logger.debug({\n          tnx: 'OAUTH2',\n          user: _this3.options.user,\n          action: 'post'\n        }, 'Response: %s', JSON.stringify(logData));\n\n        if (data.error) {\n          // Error Response : https://tools.ietf.org/html/rfc6749#section-5.2\n          var errorMessage = data.error;\n\n          if (data.error_description) {\n            errorMessage += ': ' + data.error_description;\n          }\n\n          if (data.error_uri) {\n            errorMessage += ' (' + data.error_uri + ')';\n          }\n\n          return callback(new Error(errorMessage));\n        }\n\n        if (data.access_token) {\n          _this3.updateToken(data.access_token, data.expires_in);\n\n          return callback(null, _this3.accessToken);\n        }\n\n        return callback(new Error('No access token'));\n      });\n    }\n    /**\n     * Converts an access_token and user id into a base64 encoded XOAuth2 token\n     *\n     * @param {String} [accessToken] Access token string\n     * @return {String} Base64 encoded token for IMAP or SMTP login\n     */\n\n  }, {\n    key: \"buildXOAuth2Token\",\n    value: function buildXOAuth2Token(accessToken) {\n      var authData = ['user=' + (this.options.user || ''), 'auth=Bearer ' + (accessToken || this.accessToken), '', ''];\n      return Buffer.from(authData.join('\\x01'), 'utf-8').toString('base64');\n    }\n    /**\n     * Custom POST request handler.\n     * This is only needed to keep paths short in Windows  usually this module\n     * is a dependency of a dependency and if it tries to require something\n     * like the request module the paths get way too long to handle for Windows.\n     * As we do only a simple POST request we do not actually require complicated\n     * logic support (no redirects, no nothing) anyway.\n     *\n     * @param {String} url Url to POST to\n     * @param {String|Buffer} payload Payload to POST\n     * @param {Function} callback Callback function with (err, buff)\n     */\n\n  }, {\n    key: \"postRequest\",\n    value: function postRequest(url, payload, params, callback) {\n      var returned = false;\n      var chunks = [];\n      var chunklen = 0;\n      var req = nmfetch(url, {\n        method: 'post',\n        headers: params.customHeaders,\n        body: payload,\n        allowErrorResponse: true\n      });\n      req.on('readable', function () {\n        var chunk;\n\n        while ((chunk = req.read()) !== null) {\n          chunks.push(chunk);\n          chunklen += chunk.length;\n        }\n      });\n      req.once('error', function (err) {\n        if (returned) {\n          return;\n        }\n\n        returned = true;\n        return callback(err);\n      });\n      req.once('end', function () {\n        if (returned) {\n          return;\n        }\n\n        returned = true;\n        return callback(null, Buffer.concat(chunks, chunklen));\n      });\n    }\n    /**\n     * Encodes a buffer or a string into Base64url format\n     *\n     * @param {Buffer|String} data The data to convert\n     * @return {String} The encoded string\n     */\n\n  }, {\n    key: \"toBase64URL\",\n    value: function toBase64URL(data) {\n      if (typeof data === 'string') {\n        data = Buffer.from(data);\n      }\n\n      return data.toString('base64').replace(/[=]+/g, '') // remove '='s\n      .replace(/\\+/g, '-') // '+'  '-'\n      .replace(/\\//g, '_'); // '/'  '_'\n    }\n    /**\n     * Creates a JSON Web Token signed with RS256 (SHA256 + RSA)\n     *\n     * @param {Object} payload The payload to include in the generated token\n     * @return {String} The generated and signed token\n     */\n\n  }, {\n    key: \"jwtSignRS256\",\n    value: function jwtSignRS256(payload) {\n      var _this4 = this;\n\n      payload = ['{\"alg\":\"RS256\",\"typ\":\"JWT\"}', JSON.stringify(payload)].map(function (val) {\n        return _this4.toBase64URL(val);\n      }).join('.');\n      var signature = crypto.createSign('RSA-SHA256').update(payload).sign(this.options.privateKey);\n      return payload + '.' + this.toBase64URL(signature);\n    }\n  }]);\n\n  return XOAuth2;\n}(Stream);\n\nmodule.exports = XOAuth2;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\n\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","__generator","thisArg","body","f","y","t","g","_","label","sent","trys","ops","next","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","e","step","createConnection","_createConnection","param","host","port","secure","user","password","_state","auth","pass","sendMail","options","smtp","_sendMail","con","_tmp","from","to","cc","bcc","subject","text","html","response","_classCallCheck","_createClass","Tokenizer","str","toString","operatorCurrent","operatorExpecting","node","escaped","list","operators","chr","i","len","charAt","checkChar","forEach","trim","type","includes","charCodeAt","addressparser","tokens","tokenize","addresses","address","parsedAddresses","token","isGroup","state","data","comment","group","replace","join","name","match","splice","_regexHandler","concat","_handleAddress","flatten","_addresses","walkAddressList","module","exports","_inherits","_possibleConstructorReturn","_getPrototypeOf","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","prototype","valueOf","_isNativeReflectConstruct","result","Super","NewTarget","constructor","encode","buffer","Buffer","wrap","lineLength","pos","chunkLength","wrappedLines","substr","RegExp","Encoder","_Transform","_super","_this","_curLine","_remainingBytes","inputBytes","outputBytes","chunk","encoding","setImmediate","slice","b64","lastLF","lastIndexOf","MessageParser","RelaxedBody","sign","PassThrough","fs","path","crypto","DKIMSigner","keys","input","output","cacheTreshold","Number","hashAlgo","cacheDir","chunks","chunklen","readPos","cachePath","Date","now","randomBytes","cache","headers","bodyHash","parser","relaxedBody","usingCache","hasErrored","on","cleanup","emit","unlink","_this2","createReadStream","once","pipe","_this3","createReadCache","end","write","sendNextChunk","_this4","keyPos","signNextKey","rawHeaders","dkimField","domainName","keySelector","privateKey","headerFieldNames","skipFields","_this5","createWriteStream","unpipe","read","sendSignedOutput","removeAllListeners","_this6","createWriteCache","DKIM","extraOptions","_this7","inputStream","writeValue","isBuffer","Object","signer","signStream","lastBytes","alloc","headersParsed","headerBytes","headerChunks","bodySize","lblen","nblen","Math","min","_i","headerPos","curLinePos","pr1","pr2","parseHeaders","updateLastBytes","callback","headersFound","checkHeaders","E","lines","split","test","filter","line","map","indexOf","toLowerCase","Transform","chunkBuffer","chunkBufferLen","createHash","remainder","byteLength","debug","_debugBody","bodyStr","nextRemainder","c","needsFixing","update","updateHash","digest","punycode","mimeFuncs","relaxedHeaders","fieldNames","includedFields","Set","skip","headerFields","Map","field","add","has","set","relaxedHeaderLine","headersList","fields","get","signature","canonicalizedHeaderData","dkimHeader","dkim","toASCII","foldLines","generateDKIMHeader","createSign","toUpperCase","urllib","Cookies","cookies","cookieStr","url","domain","urlparts","parse","cookie","hostname","getPath","pathname","expires","sessionTimeout","isExpired","unshift","cookiePart","valueParts","shift","httponly","protocol","compare","a","b","http","https","zlib","packageData","nmfetch","fetchRes","redirects","maxRedirects","isNaN","req","parsed","method","finished","handler","version","userAgent","Authorization","contentType","sourceUrl","encodeURIComponent","reqOptions","rejectUnauthorized","agent","tls","request","timeout","setTimeout","abort","Error","res","inflate","createUnzip","statusCode","location","allowErrorResponse","_err","shared","JSONTransport","logger","getLogger","component","mail","message","keepBcc","envelope","getEnvelope","messageId","recipients","tnx","normalize","normalizedHeaders","skipEncoding","JSON","stringify","MimeNode","MailComposer","_alternatives","getAlternatives","_htmlNode","alternative","_attachments","getAttachments","_useRelated","related","_useAlternative","_useMixed","attached","raw","newline","setRaw","_createMixed","_createAlternative","_createRelated","_createContentNode","content","addHeader","header","o","setHeader","setEnvelope","findRelated","icalEvent","eventObject","attachments","attachment","isMessageNode","href","_processDataUrl","detectMimeType","filename","contentDisposition","contentTransferEncoding","detectExtension","cid","httpHeaders","watchHtml","amp","alternatives","_resolve","parentNode","createChild","disableUrlAccess","disableFileAccess","normalizeHeaderKey","baseBoundary","textEncoding","boundaryPrefix","element","setContent","parts","decodeURIComponent","item","_defineProperty","_assertThisInitialized","EventEmitter","mimeTypes","httpProxyClient","util","MailMessage","net","dns","Mail","_EventEmitter","transporter","defaults","_defaults","_defaultPlugins","compile","_convertDataImages","stream","_userPlugins","meta","mailer","getVersionString","log","_len","Array","_key","_this$transporter","getSocket","warn","methodName","proxy","setupProxy","plugin","hasOwnProperty","promise","callbackPromise","action","_processPlugins","setMailerHeader","setPriorityHeaders","setListHeaders","processFunc","dkimDomains","_dkim","send","_len2","_key2","format","homepage","userPlugins","defaultPlugins","pluginCount","block","processPlugins","curplugins","proxyUrl","socket","connection","connect","ipaddress","_connectionOpts","proxyV2","SocksClient","socksClient","proxyType","connectionOpts","username","userId","userid","authentication","isIP","isArray","attachDataUrls","resolveContent","cidCounter","prefix","dataUri","mimeType","_toConsumableArray","mimeNode","_parseAddresses","getHeader","resolveNext","resolveAll","_encodeHeaderValue","_getListHeaders","entry","val","references","inReplyTo","xMailer","priority","listHeader","listData","prepared","_comment","isPlainText","encodeWord","_formatListUrl","base64","qp","isParam","hasLongerLines","mimeWordEncoding","maxLength","encodedStr","toCharset","ord","max","splitMimeEncodedString","lpart","encodeWords","encodeAll","firstMatch","lastMatch","startIndex","index","endIndex","substring","buildHeaderValue","structured","paramsArray","params","buildHeaderParam","encodedParam","encodedStrArr","startPos","encoded","safeEncodeURIComponent","parseHeaderValue","quote","actualKey","nr","charset","values","s","extension","afterSpace","maxlen","curLine","parseInt","encodeURICharComponent","defaultMimeType","extensions","ext","rootType","subType","LastNewline","LeWindows","LeUnix","nodeCounter","date","rootNode","childNodes","_nodeId","_headers","_isPlainText","_hasLongLines","_envelope","_raw","_transforms","_processFuncs","appendChild","childNode","headerValue","added","_normalizeHeaderKey","_contentErrorHandler","removeListener","buf","buflen","returned","transferEncoding","_getTextEncoding","getTransferEncoding","toUTCString","_handleContentType","_encodeWords","normalized","transform","outputStream","newlineTransform","_stream","_transform","_processFunc","contentStream","localStream","finalize","childId","multipart","processChildNode","boundary","child","_getStream","buildHeaders","createStream","_returned","sourceStream","_resolvedValue","_convertAddresses","standardFields","_this8","_this9","_generateMessageId","_this10","_this11","_normalizeAddress","_generateBoundary","elm","uniqueList","_this12","_encodeAddressName","groupListAddresses","lastAt","encodedDomain","reduce","prev","lastByte","lastPos","Mailer","SMTPPool","SMTPTransport","SendmailTransport","StreamTransport","SESTransport","ETHEREAL_API","ETHEREAL_WEB","ETHEREAL_CACHE","testAccount","createTransport","urlConfig","parseConnectionUrl","pool","sendmail","streamTransport","jsonTransport","SES","createTestAccount","apiUrl","requestor","status","getTestMessageUrl","infoProps","m","props","web","ranges","checkRanges","String","fromCharCode","code","lineMargin","floor","lineBreak","lastLine","spawn","_spawn","winbreak","some","addr","stdin","kill","ses","maxConnections","Infinity","connections","sendingRate","sendingRateTTL","rateInterval","rateMessages","pending","idling","_checkSendingRate","_send","_sent","clearTimeout","oldest","ts","delay","_checkRatedQueue","unref","statObject","getRawMessage","sesMessage","RawMessage","Data","Source","Destinations","cb","aws","region","SendRawEmailCommand","sendRawEmail","MessageId","catch","config","Code","networkInterfaces","os","DNS_TTL","isFamilySupported","family","allowInternal","acc","internal","resolver","allowInternalNetworkInterfaces","NODATA","NOTFOUND","NOTIMP","SERVFAIL","CONNREFUSED","dnsCache","formatDNSValue","extra","assign","servername","random","resolveStream","responded","resolveHostname","cached","_value","dnsTtl","_value2","lookup","all","direct","query","obj","lKey","_logFunc","level","levels","levelMaxLen","levelNames","levelName","repeat","print","sid","_len3","_key3","console","toISOString","bind","createDefaultLogger","_module$exports","target","source","subKey","encodeXText","DataStream","inByteCount","outByteCount","destinationPort","destinationHost","tempSocketErr","destroy","timeoutErr","reqHeaders","Host","Connection","onSocketData","packageInfo","SOCKET_TIMEOUT","SMTPConnection","id","stage","secureConnection","alreadySecured","secured","_getHostname","customAuth","mapKey","authenticated","destroyed","_remainder","_responseQueue","lastServerResponse","_socket","_supportedAuth","allowsAuth","_supportedExtensions","_maxAllowedSize","_responseActions","_recipientQueue","_greetingTimeout","_connectionTimeout","_destroyed","_closing","_onSocketData","_onData","_onSocketError","_onError","_onSocketClose","_onClose","_onSocketEnd","_onEnd","_onSocketTimeout","_onTimeout","connectCallback","isDestroyedMessage","_isDestroyedMessage","_formatError","opts","localAddress","setupConnectionHandlers","connectionTimeout","_upgradeConnection","_onConnect","resolved","setKeepAlive","_sendCommand","close","closeMethod","_destroy","authData","_auth","_authMethod","oauth2","credentials","_handleXOauth2Token","_actionAUTH_LOGIN_USER","_actionAUTHComplete","_actionAUTH_CRAM_MD5","lastResponse","handlerResponse","authMethods","maxAllowedSize","sendCommand","cmd","codes","command","size","startTime","_setEnvelope","envelopeTime","_createSendStream","messageTime","messageSize","localPort","remoteAddress","remotePort","socketTimeout","_actionGreeting","greetingTimeout","resume","lastline","_processResponse","responseCode","upgrading","socketPlain","transactionLog","logStr","useSmtpUtf8","rcptQueue","rejected","rejectedErrors","accepted","dsn","_setDsnEnvelope","_actionMAIL","_usingSmtpUtf8","use8BitMime","_using8BitMime","ret","envid","return","notify","validNotify","orcpt","recipient","logStream","dataStream","lmtp","final","_actionLMTPStream","_actionSMTPStream","_actionLHLO","_actionEHLO","requireTLS","_actionHELO","ignoreTLS","_actionSTARTTLS","opportunisticTLS","_actionAUTH_LOGIN_PASS","_this13","challengeMatch","challengeString","base64decoded","hmacMD5","createHmac","prepended","_actionAUTH_CRAM_MD5_PASS","_this14","isRetry","_this15","curRecipient","_this16","_actionRCPT","_getDsnRcptToArgs","_this17","_actionDATA","_this18","getToken","accessToken","buildXOAuth2Token","writable","defaultHostname","PoolResource","wellKnown","urlData","service","maxMessages","_rateLimit","counter","waiting","checkpoint","delta","rateDelta","limit","rateLimit","_closed","_queue","_connections","_connectionCounter","requeueAttempts","_processMessages","available","invokeCallbacks","queueEntry","messages","_removeConnection","_continueProcessing","_shouldRequeuOnConnectionClose","_requeueEntryOnConnectionClose","_failDeliveryOnConnectionClose","maxRequeues","_clearRateLimit","socketOptions","destHost","destPort","quit","forceAuth","login","XOAuth2","provisionCallback","authMethod","_connection","_connected","timer","_checkRateLimit","getAuth","authOpts","hasAuth","sendMessage","services","normalizeKey","normalizeService","aliases","alias","domains","Stream","_Stream","serviceClient","serviceRequestTimeout","accessUrl","customHeaders","customParams","renew","generateCallback","generateToken","urlOptions","loggedUrlOptions","iat","tokenData","iss","scope","sub","aud","exp","jwtSignRS256","grant_type","assertion","refreshToken","client_id","clientId","client_secret","clientSecret","refresh_token","postRequest","logData","errorMessage","error_description","error_uri","access_token","updateToken","expires_in","payload","toBase64URL","setPrototypeOf","getPrototypeOf","__proto__","__esModule","subClass","superClass","create","configurable","defineProperty","_typeof","assertThisInitialized"],"sourceRoot":""}